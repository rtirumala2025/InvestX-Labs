"use strict";(self.webpackChunkinvestx_labs=self.webpackChunkinvestx_labs||[]).push([[506],{6506:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(8878),l=s(8883),r=s(7405),i=s(8310),n=s(1879),d=s(3909),c=s(5875),o=s(782);const x=e=>{let{icon:t,label:s,value:a,tone:l="default"}=e;const r={success:"bg-emerald-500/15 text-emerald-300 border-emerald-400/30",warning:"bg-amber-500/15 text-amber-300 border-amber-400/30",accent:"bg-sky-500/15 text-sky-300 border-sky-400/30",default:"bg-white/10 text-white/80 border-white/10"};return(0,o.jsxs)("span",{className:"inline-flex items-center gap-2 px-3 py-1 rounded-full border text-xs font-medium ".concat(r[l]||r.default),children:[(0,o.jsx)("span",{className:"text-base leading-none",children:t}),(0,o.jsx)("span",{className:"tracking-wide uppercase",children:s}),(0,o.jsx)("span",{className:"font-semibold text-white",children:a})]})},m=e=>{let{limit:t=10}=e;const{leaderboard:s,loading:m,error:h,refreshLeaderboard:p}=(0,i.Pe)(),u=(0,a.useMemo)(()=>(s||[]).slice(0,t).map((e,t)=>{var s,a,l,i,n,d,c,o,x;const m=(null===(s=e.user)||void 0===s?void 0:s.full_name)||(null===(a=e.user)||void 0===a?void 0:a.username)||e.username||"Investor";return(0,r.A)((0,r.A)({},e),{},{rank:null!==(l=e.rank)&&void 0!==l?l:t+1,displayName:m,xp:null!==(i=null!==(n=e.xp)&&void 0!==n?n:e.score)&&void 0!==i?i:0,netWorth:Number(null!==(d=e.net_worth)&&void 0!==d?d:0),achievements:null!==(c=e.achievements_count)&&void 0!==c?c:0,totalTrades:null!==(o=e.trades_count)&&void 0!==o?o:0,portfolioReturn:null!==(x=e.portfolio_return)&&void 0!==x?x:0})}),[s,t]);if(m)return(0,o.jsx)(d.A,{variant:"floating",padding:"large",children:(0,o.jsx)("div",{className:"text-center py-8",children:(0,o.jsx)(c.Ay,{size:"medium"})})});if(h)return(0,o.jsx)(d.A,{variant:"floating",padding:"large",children:(0,o.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,o.jsx)("p",{className:"text-red-400 text-center",children:"We couldn\u2019t load the leaderboard."}),(0,o.jsx)(n.A,{variant:"glass",size:"small",onClick:()=>p(),children:"Try Again"})]})});const g=(e,t)=>0===e?"\ud83e\udd47":1===e?"\ud83e\udd48":2===e?"\ud83e\udd49":"#".concat(t);return(0,o.jsxs)(d.A,{variant:"floating",padding:"large",children:[(0,o.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4 mb-6",children:[(0,o.jsxs)("div",{children:[(0,o.jsxs)("h3",{className:"text-2xl font-semibold text-white flex items-center gap-2",children:[(0,o.jsx)("span",{className:"text-3xl",children:"\ud83c\udfc6"}),"Global Leaderboard"]}),(0,o.jsx)("p",{className:"text-sm text-white/60",children:"Live rankings based on XP, achievements, and trading performance."})]}),(0,o.jsx)("div",{className:"flex items-center gap-2",children:(0,o.jsx)(n.A,{variant:"glass",size:"small",onClick:()=>p(),title:"Refresh Leaderboard",children:"\ud83d\udd04 Refresh"})})]}),0===u.length?(0,o.jsxs)("div",{className:"text-center py-8",children:[(0,o.jsx)("p",{className:"text-white/60",children:"No rankings yet"}),(0,o.jsx)("p",{className:"text-white/40 text-sm mt-2",children:"Start trading to appear on the leaderboard!"})]}):(0,o.jsx)("div",{className:"space-y-3",children:u.map((e,t)=>{var s,a,r,i,n,d;const c=t<3,m=c?"border-yellow-300/25 bg-gradient-to-r from-amber-500/15 via-yellow-500/10 to-orange-500/10":"border-white/10 bg-white/5",h=null!==(s=null!==(a=e.xp)&&void 0!==a?a:e.score)&&void 0!==s?s:0,p="".concat("number"===typeof h?h.toLocaleString():h," XP"),u=(v=e.netWorth,Number.isNaN(v)||null===v||void 0===v?"\u2014":new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:v>=1e5?0:2}).format(v));var v;const b=void 0!==e.portfolioReturn&&null!==e.portfolioReturn?"".concat(e.portfolioReturn>0?"+":"").concat(e.portfolioReturn.toFixed(2),"%"):"\u2014";return(0,o.jsx)(l.P.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.04*t},className:"rounded-2xl border px-4 py-5 transition-colors backdrop-blur-md ".concat(m),children:(0,o.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,o.jsxs)("div",{className:"flex items-center gap-4",children:[(0,o.jsx)("div",{className:"flex h-12 w-12 items-center justify-center rounded-full text-xl font-semibold drop-shadow ".concat(c?"bg-white text-yellow-500":"bg-white/15 text-white"),children:g(t,e.rank)}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-white font-semibold text-lg leading-tight",children:e.displayName}),(0,o.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs text-white/60",children:[(0,o.jsx)("span",{children:p}),(0,o.jsx)("span",{className:"text-white/30",children:"\u2022"}),(0,o.jsxs)("span",{children:[u," net worth"]})]})]})]}),(0,o.jsxs)("div",{className:"flex flex-wrap items-center gap-2",children:[(0,o.jsx)(x,{icon:"\ud83c\udfc5",label:"Achievements",value:e.achievements,tone:e.achievements>0?"accent":"default"}),(0,o.jsx)(x,{icon:"\ud83d\udcc8",label:"Trades",value:e.totalTrades,tone:e.totalTrades>0?"success":"default"}),(0,o.jsx)(x,{icon:"\ud83d\udcca",label:"Return",value:b,tone:e.portfolioReturn>5?"success":e.portfolioReturn<0?"warning":"default"})]}),(0,o.jsxs)("div",{className:"flex flex-col items-end gap-2 text-sm",children:[(0,o.jsxs)("span",{className:"font-semibold text-white tracking-wide",children:["Score"," ",null!==(r=null!==(i=null===(n=e.score)||void 0===n||null===(d=n.toLocaleString)||void 0===d?void 0:d.call(n))&&void 0!==i?i:e.score)&&void 0!==r?r:0]}),(0,o.jsxs)("span",{className:"text-xs uppercase tracking-[0.18em] text-white/40",children:["Updated"," ",e.updated_at?new Date(e.updated_at).toLocaleTimeString():"recently"]})]})]})},"".concat(e.user_id,"-").concat(t))})})]})};var h=s(2486);function p(){var e,t,s,r,x,p;const{leaderboard:u,userRank:g,loading:v,error:b,offline:j,refreshLeaderboard:f}=(0,i.Pe)(),{queueToast:N}=(0,h.nm)(),w={hidden:{opacity:0,y:12},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},y=(0,a.useMemo)(()=>{var e,t,s;return g?{rank:g.rank,xp:g.xp||0,netWorth:Number(g.net_worth||0),achievements:null!==(e=g.achievements_count)&&void 0!==e?e:0,totalTrades:null!==(t=g.trades_count)&&void 0!==t?t:0,portfolioReturn:null!==(s=g.portfolio_return)&&void 0!==s?s:0,updatedAt:g.updated_at?new Date(g.updated_at):null}:null},[g]),k=(0,a.useMemo)(()=>{if(null===u||void 0===u||!u.length)return{topScore:null,totalPlayers:0,totalAchievements:0,averageReturn:0};const e=u.length;return{topScore:u[0],totalPlayers:e,totalAchievements:u.reduce((e,t)=>{var s;return e+(null!==(s=t.achievements_count)&&void 0!==s?s:0)},0),averageReturn:u.reduce((e,t)=>{var s;return e+(null!==(s=t.portfolio_return)&&void 0!==s?s:0)},0)/e}},[u]);return(0,o.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950 text-white overflow-hidden",children:[(0,o.jsx)(l.P.div,{className:"absolute -top-32 -left-28 w-80 h-80 bg-gradient-to-r from-blue-500/40 to-purple-500/30 rounded-full blur-3xl",animate:{y:[0,16,0]},transition:{repeat:1/0,duration:14,ease:"easeInOut"}}),(0,o.jsx)(l.P.div,{className:"absolute -bottom-36 -right-24 w-[24rem] h-[24rem] bg-gradient-to-r from-orange-400/30 to-pink-400/20 rounded-full blur-3xl",animate:{y:[0,-22,0]},transition:{repeat:1/0,duration:18,ease:"easeInOut"}}),(0,o.jsx)(l.P.div,{className:"absolute top-1/2 left-1/4 w-64 h-64 bg-gradient-to-r from-green-400/20 to-blue-400/15 rounded-full blur-3xl",animate:{y:[0,15,0],x:[0,20,0]},transition:{repeat:1/0,duration:20,ease:"easeInOut",delay:5}}),(0,o.jsxs)("main",{className:"relative z-10 w-full max-w-[1920px] mx-auto px-3 lg:px-4 xl:px-6 py-4 lg:py-6",children:[(0,o.jsx)(l.P.div,{variants:w,initial:"hidden",animate:"visible",className:"mb-4 lg:mb-8",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"text-xs uppercase tracking-[0.35em] text-white/60 mb-2",children:"Global Rankings"}),(0,o.jsx)("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-300 via-purple-300 to-orange-300 mb-2",children:"\ud83c\udfc6 Leaderboard"}),(0,o.jsx)("p",{className:"text-gray-300 text-base lg:text-lg",children:"Compete with other investors, unlock achievements, and climb the ranks in real time."})]}),(0,o.jsxs)("div",{className:"flex items-center gap-3 flex-wrap",children:[(0,o.jsx)(n.A,{variant:"glass",onClick:async()=>{await f(),N("Leaderboard refreshed with the latest stats.","success")},disabled:v,children:"\ud83d\udd04 Refresh Rankings"}),j?(0,o.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-amber-500/20 border border-amber-400/40 text-amber-200/90",children:"Offline mode"}):null]})]})}),v&&!u.length?(0,o.jsx)("div",{className:"flex justify-center py-12",children:(0,o.jsx)(c.Ay,{size:"large"})}):null,b?(0,o.jsx)(l.P.div,{variants:w,initial:"hidden",animate:"visible",className:"mb-6",children:(0,o.jsx)(d.A,{variant:"default",padding:"large",children:(0,o.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{className:"text-lg font-semibold text-red-300 mb-1",children:"We ran into an issue loading the leaderboard."}),(0,o.jsx)("p",{className:"text-sm text-red-200/80",children:b})]}),(0,o.jsx)(n.A,{variant:"primary",onClick:f,disabled:v,children:"Try Again"})]})})}):null,(0,o.jsxs)(l.P.div,{variants:{visible:{transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"space-y-6",children:[(0,o.jsx)(l.P.div,{variants:w,children:(0,o.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-4",children:[(0,o.jsxs)(d.A,{variant:"accent",padding:"large",glow:!0,children:[(0,o.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-white/50 mb-2",children:"Top Player"}),(0,o.jsx)("h3",{className:"text-2xl font-semibold text-white",children:k.topScore?(null===(e=k.topScore.user)||void 0===e?void 0:e.full_name)||(null===(t=k.topScore.user)||void 0===t?void 0:t.username)||k.topScore.username||"Investor":"\u2014"}),(0,o.jsxs)("p",{className:"text-sm text-white/60 mt-1",children:["Score ",null!==(s=null===(r=k.topScore)||void 0===r||null===(x=r.score)||void 0===x||null===(p=x.toLocaleString)||void 0===p?void 0:p.call(x))&&void 0!==s?s:"\u2014"]})]}),(0,o.jsxs)(d.A,{variant:"floating",padding:"large",children:[(0,o.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-white/50 mb-2",children:"Participants"}),(0,o.jsx)("h3",{className:"text-2xl font-semibold text-white",children:k.totalPlayers}),(0,o.jsx)("p",{className:"text-sm text-white/60 mt-1",children:"Investors competing worldwide"})]}),(0,o.jsxs)(d.A,{variant:"floating",padding:"large",children:[(0,o.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-white/50 mb-2",children:"Achievements"}),(0,o.jsx)("h3",{className:"text-2xl font-semibold text-white",children:k.totalAchievements}),(0,o.jsx)("p",{className:"text-sm text-white/60 mt-1",children:"Badges unlocked across the league"})]}),(0,o.jsxs)(d.A,{variant:"floating",padding:"large",children:[(0,o.jsx)("p",{className:"text-sm uppercase tracking-[0.35em] text-white/50 mb-2",children:"Avg. Return"}),(0,o.jsx)("h3",{className:"text-2xl font-semibold text-white",children:k.totalPlayers?"".concat(k.averageReturn>0?"+":"").concat(k.averageReturn.toFixed(2),"%"):"\u2014"}),(0,o.jsx)("p",{className:"text-sm text-white/60 mt-1",children:"Portfolio performance this week"})]})]})}),(0,o.jsxs)(l.P.div,{variants:w,className:"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6",children:[(0,o.jsx)(l.P.div,{variants:w,className:"lg:col-span-2",children:(0,o.jsxs)(d.A,{variant:"hero",padding:"large",shadow:"xl",children:[(0,o.jsxs)("div",{className:"mb-6",children:[(0,o.jsx)("h2",{className:"text-2xl font-semibold text-white mb-2",children:"Top Investors"}),(0,o.jsx)("p",{className:"text-white/60 text-sm",children:"Rankings update in real-time from Supabase as achievements, trades, and XP roll in."})]}),(0,o.jsx)(m,{limit:25})]})}),(0,o.jsxs)(l.P.div,{variants:w,className:"space-y-6",children:[(0,o.jsxs)(d.A,{variant:"floating",padding:"large",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"Your Standing"}),y?(0,o.jsxs)("div",{className:"space-y-3",children:[(0,o.jsxs)("div",{className:"flex items-center justify-between",children:[(0,o.jsx)("span",{className:"text-white/70 text-sm",children:"Current Rank"}),(0,o.jsxs)("span",{className:"text-2xl font-bold text-white",children:["#",y.rank]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,o.jsxs)("div",{className:"p-3 rounded-lg bg-white/10 border border-white/10",children:[(0,o.jsx)("p",{className:"text-xs text-white/60 uppercase",children:"XP"}),(0,o.jsx)("p",{className:"text-lg font-semibold text-white",children:y.xp.toLocaleString()})]}),(0,o.jsxs)("div",{className:"p-3 rounded-lg bg-white/10 border border-white/10",children:[(0,o.jsx)("p",{className:"text-xs text-white/60 uppercase",children:"Net Worth"}),(0,o.jsx)("p",{className:"text-lg font-semibold text-white",children:y.netWorth.toLocaleString(void 0,{style:"currency",currency:"USD"})})]})]}),(0,o.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,o.jsxs)("div",{className:"p-3 rounded-lg bg-white/10 border border-white/10",children:[(0,o.jsx)("p",{className:"text-xs text-white/60 uppercase",children:"Achievements"}),(0,o.jsx)("p",{className:"text-lg font-semibold text-white",children:y.achievements})]}),(0,o.jsxs)("div",{className:"p-3 rounded-lg bg-white/10 border border-white/10",children:[(0,o.jsx)("p",{className:"text-xs text-white/60 uppercase",children:"Total Trades"}),(0,o.jsx)("p",{className:"text-lg font-semibold text-white",children:y.totalTrades})]})]}),(0,o.jsxs)("div",{className:"p-3 rounded-lg bg-white/10 border border-white/10",children:[(0,o.jsx)("p",{className:"text-xs text-white/60 uppercase",children:"Portfolio Return"}),(0,o.jsxs)("p",{className:"text-lg font-semibold ".concat(y.portfolioReturn>0?"text-green-300":y.portfolioReturn<0?"text-amber-300":"text-white"),children:[y.portfolioReturn>0?"+":"",y.portfolioReturn.toFixed(2),"%"]})]}),y.updatedAt?(0,o.jsxs)("p",{className:"text-xs text-white/40",children:["Updated ",y.updatedAt.toLocaleString()]}):null]}):(0,o.jsx)("div",{className:"text-white/60 text-sm",children:"Sign in and start trading or learning to appear on the leaderboard."})]}),(0,o.jsxs)(d.A,{variant:"default",padding:"large",children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"How Rankings Work"}),(0,o.jsxs)("div",{className:"space-y-4",children:[(0,o.jsx)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udcc8"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-white font-medium mb-1",children:"Portfolio Performance"}),(0,o.jsx)("p",{className:"text-white/60 text-sm",children:"Live returns and XP from Supabase drive your placement."})]})]})}),(0,o.jsx)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83c\udfaf"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-white font-medium mb-1",children:"Achievements"}),(0,o.jsx)("p",{className:"text-white/60 text-sm",children:"Unlock badges for milestones, lessons, and trading streaks."})]})]})}),(0,o.jsx)("div",{className:"p-4 bg-white/5 rounded-lg border border-white/10",children:(0,o.jsxs)("div",{className:"flex items-start gap-3",children:[(0,o.jsx)("span",{className:"text-2xl",children:"\ud83d\udcda"}),(0,o.jsxs)("div",{children:[(0,o.jsx)("h4",{className:"text-white font-medium mb-1",children:"Learning Progress"}),(0,o.jsx)("p",{className:"text-white/60 text-sm",children:"Complete lessons and simulations to earn bonus XP and move up."})]})]})})]})]}),(0,o.jsxs)(d.A,{variant:"accent",padding:"large",glow:!0,children:[(0,o.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:"\ud83d\udca1 Pro Tips"}),(0,o.jsxs)("ul",{className:"space-y-3 text-white/80 text-sm",children:[(0,o.jsxs)("li",{className:"flex items-start gap-2",children:[(0,o.jsx)("span",{className:"text-green-400 mt-1",children:"\u2713"}),(0,o.jsx)("span",{children:"Diversify your portfolio for steadier returns."})]}),(0,o.jsxs)("li",{className:"flex items-start gap-2",children:[(0,o.jsx)("span",{className:"text-green-400 mt-1",children:"\u2713"}),(0,o.jsx)("span",{children:"Complete educational modules for bonus XP."})]}),(0,o.jsxs)("li",{className:"flex items-start gap-2",children:[(0,o.jsx)("span",{className:"text-green-400 mt-1",children:"\u2713"}),(0,o.jsx)("span",{children:"Log trades consistently to stay ahead."})]}),(0,o.jsxs)("li",{className:"flex items-start gap-2",children:[(0,o.jsx)("span",{className:"text-green-400 mt-1",children:"\u2713"}),(0,o.jsx)("span",{children:"Share achievements and challenge friends."})]})]})]})]})]})]})]})]})}}}]);