"use strict";(self.webpackChunkinvestx_labs=self.webpackChunkinvestx_labs||[]).push([[564],{7564:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var a=t(8878),i=t(7405),l=t(3229),n=t(2486),r=t(3909),d=t(1879),o=t(4356),c=t(2007),m=t(4739),u=t(782);const g=()=>{const{currentUser:e}=(0,c.A)(),{queueToast:s}=(0,n.nm)(),{addAchievement:t}=(0,m.kb)(),[g,x]=(0,a.useState)(0),[b,p]=(0,a.useState)({}),[h,f]=(0,a.useState)(!1),[v,y]=(0,a.useState)(null),j=(0,l.Zp)(),N=(0,a.useMemo)(()=>[{id:"goals",title:"What are your main money goals?",subtitle:"Choose what matters most to you right now",options:[{id:"save_emergency",label:"Build an emergency fund",description:"Save 3-6 months of expenses for unexpected situations"},{id:"save_purchase",label:"Save for a big purchase",description:"House, car, vacation, or other major expense"},{id:"pay_debt",label:"Pay off debt faster",description:"Credit cards, student loans, or other debts"},{id:"invest_grow",label:"Start investing",description:"Grow money for long-term goals like retirement"},{id:"budget_better",label:"Budget better",description:"Track spending and manage money more effectively"}]},{id:"situation",title:"What's your current money situation?",subtitle:"Help us understand where you're starting from",options:[{id:"student",label:"Student",description:"Limited income, focusing on learning and future planning"},{id:"entry_level",label:"Just starting out",description:"First job, building financial foundation"},{id:"stable_income",label:"Stable income",description:"Regular paycheck, ready to optimize finances"},{id:"variable_income",label:"Variable income",description:"Freelance, commission, or irregular income"},{id:"established",label:"Established career",description:"Good income, looking to maximize wealth building"}]},{id:"confidence",title:"How confident do you feel about money topics?",subtitle:"Rate your comfort level with these areas",type:"rating",topics:[{id:"budgeting",label:"Creating and sticking to a budget"},{id:"saving",label:"Building savings and emergency funds"},{id:"investing",label:"Understanding investments and markets"},{id:"debt",label:"Managing and paying off debt"},{id:"retirement",label:"Planning for retirement"}]}],[]),w=(e,s)=>{p(t=>(0,i.A)((0,i.A)({},t),{},{[e]:s}))},A=async()=>{if(null!==e&&void 0!==e&&e.id){f(!0),y(null);try{const a={user_id:e.id,responses:b,completed_at:(new Date).toISOString()},{error:i}=await o.N.from("user_diagnostics").insert(a);if(i)throw i;s("Diagnostic complete! We\u2019ve saved your responses.","success"),await t("diagnostic_complete",{description:"Completed the financial diagnostic assessment",responses:b},{xpReward:120,allowDuplicates:!1}),j("/dashboard",{state:{diagnosticComplete:!0,answers:b}})}catch(a){console.error("Error saving diagnostic:",a);const e=(null===a||void 0===a?void 0:a.message)||"Unable to save diagnostic responses. Please try again.";y(e),s(e,"error")}finally{f(!1)}}else s("Please sign in to complete the diagnostic.","error")},S=N[g],k=void 0!==b[S.id];return h?(0,u.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center",children:(0,u.jsxs)(r.A,{className:"p-8 text-center",children:[(0,u.jsx)("div",{className:"animate-spin w-8 h-8 border-2 border-glassAccent border-t-transparent rounded-full mx-auto mb-4"}),(0,u.jsx)("p",{className:"text-glassText",children:"Creating your personalized plan..."})]})}):(0,u.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden",children:[(0,u.jsxs)("div",{className:"absolute inset-0 overflow-hidden",children:[(0,u.jsx)("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-glassAccent rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-glass-float"}),(0,u.jsx)("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-glass-float",style:{animationDelay:"2s"}})]}),(0,u.jsx)("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8",children:(0,u.jsxs)("div",{className:"max-w-2xl w-full",children:[(0,u.jsxs)("div",{className:"mb-8",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,u.jsxs)("span",{className:"text-sm font-medium text-glassText",children:["Step ",g+1," of ",N.length]}),(0,u.jsxs)("span",{className:"text-sm text-glassTextSecondary",children:[Math.round((g+1)/N.length*100),"% Complete"]})]}),(0,u.jsx)("div",{className:"w-full bg-glassBg rounded-full h-2",children:(0,u.jsx)("div",{className:"bg-glassAccent h-2 rounded-full transition-all duration-300",style:{width:"".concat((g+1)/N.length*100,"%")}})})]}),(0,u.jsxs)(r.A,{className:"p-8",variant:"default",padding:"large",shadow:"xl",children:[(0,u.jsxs)("div",{className:"text-center mb-8",children:[(0,u.jsx)("h2",{className:"text-2xl md:text-3xl font-bold text-glassText mb-2",children:S.title}),(0,u.jsx)("p",{className:"text-glassTextSecondary",children:S.subtitle})]}),v&&(0,u.jsxs)("div",{className:"mb-4 p-4 rounded-lg border border-red-500/30 bg-red-500/10 text-red-200 text-sm",children:["\u26a0\ufe0f ",v]}),"rating"===S.type?(0,u.jsx)("div",{className:"space-y-6",children:S.topics.map(e=>(0,u.jsxs)("div",{className:"space-y-3",children:[(0,u.jsx)("label",{className:"block text-glassText font-medium",children:e.label}),(0,u.jsxs)("div",{className:"flex justify-between items-center",children:[(0,u.jsx)("span",{className:"text-sm text-glassTextSecondary",children:"Not confident"}),(0,u.jsx)("div",{className:"flex space-x-2",children:[1,2,3,4,5].map(s=>{var t;return(0,u.jsx)("button",{onClick:()=>w(S.id,(0,i.A)((0,i.A)({},b[S.id]),{},{[e.id]:s})),className:"w-8 h-8 rounded-full border-2 transition-all ".concat((null===(t=b[S.id])||void 0===t?void 0:t[e.id])>=s?"bg-glassAccent border-glassAccent text-white":"border-glassBorder text-glassTextSecondary hover:border-glassAccent"),"aria-label":"Rate ".concat(e.label," as ").concat(s," out of 5"),children:s},s)})}),(0,u.jsx)("span",{className:"text-sm text-glassTextSecondary",children:"Very confident"})]})]},e.id))}):(0,u.jsx)("div",{className:"space-y-4",children:S.options.map(e=>(0,u.jsxs)("button",{onClick:()=>w(S.id,e.id),className:"w-full p-4 rounded-xl border-2 text-left transition-all ".concat(b[S.id]===e.id?"border-glassAccent bg-glassAccent/10":"border-glassBorder hover:border-glassAccent/50"),children:[(0,u.jsx)("div",{className:"font-medium text-glassText mb-1",children:e.label}),(0,u.jsx)("div",{className:"text-sm text-glassTextSecondary",children:e.description})]},e.id))}),(0,u.jsxs)("div",{className:"flex justify-between mt-8",children:[(0,u.jsx)(d.A,{onClick:()=>{g>0&&x(g-1)},variant:"outline",disabled:0===g,children:"Back"}),(0,u.jsx)(d.A,{onClick:()=>{g<N.length-1?x(g+1):A()},variant:"primary",disabled:!k,children:g===N.length-1?"Get My Plan":"Next"})]})]})]})})]})},x=()=>(0,u.jsx)(g,{})}}]);