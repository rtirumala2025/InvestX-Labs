{"version":3,"file":"static/js/42.6c6b8197.chunk.js","mappings":"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","sources":["components/portfolio/HoldingsList.jsx","components/ui/Tooltip.jsx","utils/financialTerms.js","components/education/FinancialTerm.jsx","components/portfolio/PerformanceMetrics.jsx","components/portfolio/AddHolding.jsx","components/portfolio/UploadCSV.jsx","components/portfolio/PortfolioTracker.jsx","pages/PortfolioPage.jsx","components/ui/Modal.jsx"],"sourcesContent":["import React from 'react';\nimport { calculateTotalValue } from '../../services/portfolio/portfolioCalculations';\n\nconst HoldingsList = React.memo(({ portfolio, liveMetrics, marketData }) => {\n  console.log('ðŸ“‹ [HoldingsList] Component rendered with props:');\n  console.log('ðŸ“‹ [HoldingsList]   Portfolio:', !!portfolio);\n  console.log('ðŸ“‹ [HoldingsList]   Live metrics:', !!liveMetrics);\n  console.log('ðŸ“‹ [HoldingsList]   Market data keys:', Object.keys(marketData || {}));\n  \n  // Use live metrics if available, otherwise fallback to portfolio holdings\n  const holdings = liveMetrics?.holdings || portfolio?.holdings || [];\n  \n  console.log('ðŸ“‹ [HoldingsList] Holdings to display:', holdings.length);\n  if (holdings.length > 0) {\n    console.log('ðŸ“‹ [HoldingsList] Holdings symbols:', holdings.map(h => h.symbol));\n  }\n  \n  // Calculate total portfolio value for allocation percentages\n  const totalPortfolioValue = liveMetrics?.totalValue || calculateTotalValue(holdings);\n  console.log('ðŸ“‹ [HoldingsList] Total portfolio value:', totalPortfolioValue);\n  \n  // Helper function to get stock logo/emoji\n  const getStockLogo = (symbol, sector) => {\n    const logoMap = {\n      'AAPL': 'ðŸŽ',\n      'MSFT': 'ðŸ–¥ï¸',\n      'GOOGL': 'ðŸ”',\n      'GOOG': 'ðŸ”',\n      'TSLA': 'ðŸš—',\n      'NVDA': 'ðŸŽ®',\n      'AMZN': 'ðŸ“¦',\n      'META': 'ðŸ‘¥',\n      'NFLX': 'ðŸŽ¬',\n      'SPY': 'ðŸ“Š',\n      'QQQ': 'ðŸ“ˆ',\n      'VTI': 'ðŸ›ï¸',\n      'BRK.B': 'ðŸ’Ž'\n    };\n    \n    if (logoMap[symbol]) return logoMap[symbol];\n    \n    // Fallback based on sector\n    const sectorLogos = {\n      'Technology': 'ðŸ’»',\n      'Healthcare': 'ðŸ¥',\n      'Financial': 'ðŸ¦',\n      'Consumer': 'ðŸ›’',\n      'Energy': 'âš¡',\n      'Industrial': 'ðŸ­',\n      'Materials': 'ðŸ”§',\n      'Utilities': 'ðŸ’¡',\n      'Real Estate': 'ðŸ ',\n      'ETF': 'ðŸ“Š',\n      'Automotive': 'ðŸš—'\n    };\n    \n    return sectorLogos[sector] || 'ðŸ“ˆ';\n  };\n  \n  // Calculate derived values for each holding\n  const enrichedHoldings = holdings.map(holding => {\n    // If we have live metrics, the calculations are already done\n    if (liveMetrics?.holdings && holding.currentPrice !== undefined) {\n      return {\n        ...holding,\n        logo: getStockLogo(holding.symbol, holding.sector)\n      };\n    }\n    \n    // Fallback to manual calculations\n    const currentPrice = holding.currentPrice || holding.purchasePrice;\n    const value = holding.shares * currentPrice;\n    const costBasis = holding.shares * holding.purchasePrice;\n    const gainLoss = value - costBasis;\n    const gainLossPercent = costBasis > 0 ? (gainLoss / costBasis) * 100 : 0;\n    \n    return {\n      ...holding,\n      currentPrice,\n      value,\n      gainLoss,\n      gainLossPercent,\n      logo: getStockLogo(holding.symbol, holding.sector)\n    };\n  });\n\n  return (\n    <div className=\"space-y-4\">\n      {enrichedHoldings.length > 0 ? (\n        <div className=\"space-y-3\">\n          {enrichedHoldings.map((holding, index) => (\n            <div key={holding.id || index} className=\"group\">\n              <div className=\"bg-gradient-to-r from-white/10 to-white/5 rounded-xl border border-white/20 p-6 backdrop-blur-lg hover:from-white/15 hover:to-white/10 transition-all duration-300\">\n                <div className=\"flex items-center justify-between\">\n                  {/* Left side - Company info */}\n                  <div className=\"flex items-center space-x-4\">\n                    <div className=\"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl flex items-center justify-center text-2xl border border-white/10\">\n                      {holding.logo}\n                    </div>\n                    <div>\n                      <div className=\"flex items-center space-x-2\">\n                        <h3 className=\"text-lg font-semibold text-white\">{holding.symbol}</h3>\n                        {holding.sector && (\n                          <span className=\"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full\">\n                            {holding.sector}\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-white/70 text-sm\">{holding.companyName || holding.name || `${holding.symbol} Holdings`}</p>\n                      <p className=\"text-white/50 text-xs\">{holding.shares} shares</p>\n                    </div>\n                  </div>\n\n                  {/* Right side - Performance data */}\n                  <div className=\"text-right\">\n                    <div className=\"text-xl font-bold text-white mb-1\">\n                      ${holding.value.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n                    </div>\n                    <div className=\"text-sm text-white/70 mb-2\">\n                      ${holding.currentPrice.toFixed(2)} per share\n                    </div>\n                    <div className={`flex items-center justify-end space-x-2 ${\n                      holding.gainLoss >= 0 ? 'text-green-400' : 'text-red-400'\n                    }`}>\n                      <span className=\"text-sm font-medium\">\n                        {holding.gainLoss >= 0 ? '+' : ''}${Math.abs(holding.gainLoss).toFixed(2)}\n                      </span>\n                      <span className=\"text-xs\">\n                        ({holding.gainLoss >= 0 ? '+' : ''}{holding.gainLossPercent.toFixed(1)}%)\n                      </span>\n                      <span className=\"text-lg\">\n                        {holding.gainLoss >= 0 ? 'ðŸ“ˆ' : 'ðŸ“‰'}\n                      </span>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Progress bar showing allocation */}\n                <div className=\"mt-4\">\n                  <div className=\"flex justify-between text-xs text-white/60 mb-1\">\n                    <span>Portfolio Allocation</span>\n                    <span>{totalPortfolioValue > 0 ? ((holding.value / totalPortfolioValue) * 100).toFixed(1) : 0}%</span>\n                  </div>\n                  <div className=\"w-full bg-white/20 rounded-full h-1\">\n                    <div \n                      className={`h-1 rounded-full transition-all duration-1000 ${\n                        holding.gainLoss >= 0 \n                          ? 'bg-gradient-to-r from-green-400 to-emerald-500' \n                          : 'bg-gradient-to-r from-red-400 to-red-500'\n                      }`}\n                      style={{ width: `${totalPortfolioValue > 0 ? (holding.value / totalPortfolioValue) * 100 : 0}%` }}\n                    />\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-center py-12\">\n          <div className=\"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl border border-white/20 p-8 backdrop-blur-lg\">\n            <div className=\"text-6xl mb-4\">ðŸ“ˆ</div>\n            <h3 className=\"text-xl font-semibold text-white mb-2\">Start Your Investment Journey</h3>\n            <p className=\"text-white/70 mb-6\">No holdings found. Add your first investment to get started and watch your portfolio grow!</p>\n            <div className=\"flex items-center justify-center space-x-4 text-sm text-white/60\">\n              <div className=\"flex items-center\">\n                <span className=\"mr-2\">ðŸ’¡</span>\n                <span>Diversify across sectors</span>\n              </div>\n              <div className=\"flex items-center\">\n                <span className=\"mr-2\">ðŸ“Š</span>\n                <span>Track performance</span>\n              </div>\n              <div className=\"flex items-center\">\n                <span className=\"mr-2\">ðŸŽ¯</span>\n                <span>Set investment goals</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default HoldingsList;\n","import React, { useState, useRef, useEffect } from 'react';\n\nconst Tooltip = ({ \n  children, \n  content, \n  position = 'top',\n  delay = 200,\n  className = '',\n  ...props \n}) => {\n  const [isVisible, setIsVisible] = useState(false);\n  const [timeoutId, setTimeoutId] = useState(null);\n  const tooltipRef = useRef(null);\n  const triggerRef = useRef(null);\n\n  const showTooltip = () => {\n    const id = setTimeout(() => {\n      setIsVisible(true);\n    }, delay);\n    setTimeoutId(id);\n  };\n\n  const hideTooltip = () => {\n    if (timeoutId) {\n      clearTimeout(timeoutId);\n      setTimeoutId(null);\n    }\n    setIsVisible(false);\n  };\n\n  const positionClasses = {\n    top: 'bottom-full left-1/2 transform -translate-x-1/2 mb-2',\n    bottom: 'top-full left-1/2 transform -translate-x-1/2 mt-2',\n    left: 'right-full top-1/2 transform -translate-y-1/2 mr-2',\n    right: 'left-full top-1/2 transform -translate-y-1/2 ml-2'\n  };\n\n  const arrowClasses = {\n    top: 'top-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-b-transparent border-t-glassBorder',\n    bottom: 'bottom-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-t-transparent border-b-glassBorder',\n    left: 'left-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-r-transparent border-l-glassBorder',\n    right: 'right-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-l-transparent border-r-glassBorder'\n  };\n\n  useEffect(() => {\n    return () => {\n      if (timeoutId) {\n        clearTimeout(timeoutId);\n      }\n    };\n  }, [timeoutId]);\n\n  return (\n    <div \n      className={`relative inline-block ${className}`}\n      onMouseEnter={showTooltip}\n      onMouseLeave={hideTooltip}\n      onFocus={showTooltip}\n      onBlur={hideTooltip}\n      ref={triggerRef}\n      {...props}\n    >\n      {children}\n      \n      {isVisible && content && (\n        <div\n          ref={tooltipRef}\n          role=\"tooltip\"\n          className={`\n            absolute z-50 px-3 py-2 text-sm text-glassText\n            bg-glassBg border border-glassBorder rounded-lg\n            backdrop-blur-md shadow-glass-lg\n            max-w-xs whitespace-normal\n            ${positionClasses[position]}\n            animate-fade-in\n          `}\n          aria-live=\"polite\"\n        >\n          {content}\n          {/* Arrow */}\n          <div \n            className={`\n              absolute w-0 h-0 border-4\n              ${arrowClasses[position]}\n            `}\n          />\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Tooltip;\n","// Simplified financial terms for teen-friendly language\nexport const financialTerms = {\n  // Portfolio Terms\n  portfolio: {\n    term: 'Portfolio',\n    simple: 'Your collection of investments',\n    full: 'A portfolio is like a collection of different investments you own, such as stocks, bonds, or funds. It helps spread out risk.',\n    example: 'Like having different types of games in your collection instead of just one.'\n  },\n  holding: {\n    term: 'Holding',\n    simple: 'An investment you own',\n    full: 'A holding is a specific investment in your portfolio, like shares of a company or units of a fund.',\n    example: 'If you own 10 shares of Apple, that\\'s a holding.'\n  },\n  diversification: {\n    term: 'Diversification',\n    simple: 'Spreading your money across different investments',\n    full: 'Diversification means not putting all your money in one place. It helps reduce risk because if one investment does poorly, others might do well.',\n    example: 'Like not spending all your allowance on one thing - you spread it out.'\n  },\n  asset_allocation: {\n    term: 'Asset Allocation',\n    simple: 'How you divide your money between different types of investments',\n    full: 'Asset allocation is the mix of different types of investments in your portfolio, like stocks, bonds, and cash.',\n    example: 'Like deciding how much of your money goes to games, clothes, and savings.'\n  },\n  \n  // Performance Terms\n  return: {\n    term: 'Return',\n    simple: 'How much money you made or lost',\n    full: 'Return is the profit or loss you make on an investment. It can be positive (you made money) or negative (you lost money).',\n    example: 'If you bought a game for $50 and sold it for $60, your return is $10.'\n  },\n  gain_loss: {\n    term: 'Gain/Loss',\n    simple: 'Money you made or lost',\n    full: 'Gain is profit from an investment. Loss is when you lose money. It\\'s calculated as the difference between what you paid and current value.',\n    example: 'If your stock went from $100 to $120, you have a $20 gain.'\n  },\n  performance: {\n    term: 'Performance',\n    simple: 'How well your investments are doing',\n    full: 'Performance measures how your investments are doing over time, usually shown as a percentage gain or loss.',\n    example: 'If your portfolio went up 10%, that\\'s good performance.'\n  },\n  volatility: {\n    term: 'Volatility',\n    simple: 'How much prices go up and down',\n    full: 'Volatility measures how much an investment\\'s price changes. High volatility means big swings up and down.',\n    example: 'Like a roller coaster - some investments have big ups and downs, others are smoother.'\n  },\n  \n  // Investment Types\n  stock: {\n    term: 'Stock',\n    simple: 'A small piece of a company',\n    full: 'A stock (or share) is a small piece of ownership in a company. When you buy stock, you own part of that company.',\n    example: 'Like owning a tiny piece of your favorite game company.'\n  },\n  etf: {\n    term: 'ETF',\n    simple: 'A bundle of different investments',\n    full: 'ETF stands for Exchange-Traded Fund. It\\'s like a basket that holds many different stocks or bonds, so you can buy them all at once.',\n    example: 'Like buying a variety pack of snacks instead of individual items.'\n  },\n  bond: {\n    term: 'Bond',\n    simple: 'Loaning money to a company or government',\n    full: 'A bond is like a loan you give to a company or government. They promise to pay you back with interest over time.',\n    example: 'Like lending a friend $10 and they pay you back $11 next month.'\n  },\n  dividend: {\n    term: 'Dividend',\n    simple: 'Money a company pays you for owning their stock',\n    full: 'A dividend is a payment some companies make to shareholders from their profits. It\\'s like getting a small reward for owning the stock.',\n    example: 'Like getting a small bonus for being a loyal customer.'\n  },\n  \n  // Risk Terms\n  risk_tolerance: {\n    term: 'Risk Tolerance',\n    simple: 'How comfortable you are with losing money',\n    full: 'Risk tolerance is how much risk you\\'re willing to take with your investments. Some people prefer safer, steadier investments, while others are okay with more risk for potentially higher returns.',\n    example: 'Like choosing between a safe, slow ride or a fast, exciting one.'\n  },\n  risk_profile: {\n    term: 'Risk Profile',\n    simple: 'Your investment style based on how much risk you can handle',\n    full: 'Your risk profile describes your investment style - conservative (safer), moderate (balanced), or aggressive (riskier for higher potential returns).',\n    example: 'Like your personality type, but for investing.'\n  },\n  \n  // Market Terms\n  market: {\n    term: 'Market',\n    simple: 'Where people buy and sell investments',\n    full: 'The market is where stocks, bonds, and other investments are bought and sold. Prices change based on supply and demand.',\n    example: 'Like a marketplace where people trade items, but for investments.'\n  },\n  bull_market: {\n    term: 'Bull Market',\n    simple: 'When prices are going up',\n    full: 'A bull market is when stock prices are generally rising and people are optimistic about the economy.',\n    example: 'Like when everything is going well and prices keep going up.'\n  },\n  bear_market: {\n    term: 'Bear Market',\n    simple: 'When prices are going down',\n    full: 'A bear market is when stock prices are generally falling and people are pessimistic about the economy.',\n    example: 'Like when things are tough and prices keep going down.'\n  },\n  \n  // Strategy Terms\n  rebalance: {\n    term: 'Rebalance',\n    simple: 'Adjusting your investments to match your goals',\n    full: 'Rebalancing means adjusting your portfolio to get back to your target mix of investments. Over time, some investments grow more than others, so you adjust.',\n    example: 'Like reorganizing your room to keep things balanced.'\n  },\n  dollar_cost_averaging: {\n    term: 'Dollar Cost Averaging',\n    simple: 'Investing the same amount regularly',\n    full: 'Dollar cost averaging means investing a fixed amount regularly, regardless of price. This can help reduce the impact of market volatility.',\n    example: 'Like putting $10 in your savings every week, no matter what.'\n  }\n};\n\n// Helper function to get term info\nexport const getTermInfo = (termKey) => {\n  return financialTerms[termKey] || {\n    term: termKey,\n    simple: 'Financial term',\n    full: 'Definition not available',\n    example: ''\n  };\n};\n\n// Helper to find terms in text\nexport const findTermsInText = (text) => {\n  const foundTerms = [];\n  Object.keys(financialTerms).forEach(key => {\n    const termInfo = financialTerms[key];\n    if (text.toLowerCase().includes(termInfo.term.toLowerCase())) {\n      foundTerms.push({ key, ...termInfo });\n    }\n  });\n  return foundTerms;\n};\n\n","import React from \"react\";\nimport Tooltip from \"../ui/Tooltip\";\nimport { getTermInfo } from \"../../utils/financialTerms\";\n\nconst FinancialTerm = ({ term, children, definition, showFull = false }) => {\n  const termKey = term.toLowerCase().replace(/\\s+/g, \"_\");\n  const termInfo = getTermInfo(termKey);\n\n  // Use provided definition, or fall back to our dictionary\n  const tooltipContent =\n    definition || (showFull ? termInfo.full : termInfo.simple);\n  const exampleText = termInfo.example\n    ? `\\n\\nExample: ${termInfo.example}`\n    : \"\";\n\n  if (!tooltipContent || tooltipContent === \"Financial term\") {\n    return <span>{children}</span>;\n  }\n\n  return (\n    <Tooltip content={`${tooltipContent}${exampleText}`}>\n      <span className=\"underline decoration-dotted decoration-blue-400/50 underline-offset-2 cursor-help text-blue-300 hover:text-blue-200 transition-colors\">\n        {children || termInfo.term}\n      </span>\n    </Tooltip>\n  );\n};\n\nexport default FinancialTerm;\n","import React from 'react';\nimport FinancialTerm from '../education/FinancialTerm';\nimport { calculatePerformanceMetrics } from '../../services/portfolio/portfolioCalculations';\n\nconst PerformanceMetrics = React.memo(({ portfolio, liveMetrics, marketData }) => {\n  console.log('ðŸ“Š [PerformanceMetrics] Component rendered with props:');\n  console.log('ðŸ“Š [PerformanceMetrics]   Portfolio:', !!portfolio);\n  console.log('ðŸ“Š [PerformanceMetrics]   Live metrics:', !!liveMetrics);\n  console.log('ðŸ“Š [PerformanceMetrics]   Market data keys:', Object.keys(marketData || {}));\n  \n  const holdings = liveMetrics?.holdings || portfolio?.holdings || [];\n  \n  // Use live metrics if available, otherwise calculate from holdings\n  const performanceData = React.useMemo(() => {\n    console.log('ðŸ“Š [PerformanceMetrics] Calculating performance data...');\n    \n    if (liveMetrics && Object.keys(liveMetrics).length > 0) {\n      console.log('ðŸ“Š [PerformanceMetrics] âœ… Using live metrics for performance data');\n      // Enhance live metrics with calculated fields\n      const staticMetrics = calculatePerformanceMetrics(holdings);\n      const result = {\n        ...liveMetrics,\n        sharpeRatio: staticMetrics.sharpeRatio || 0,\n        volatility: staticMetrics.volatility || 0,\n        diversificationScore: staticMetrics.diversificationScore || 0,\n        sectorAllocation: staticMetrics.sectorAllocation || {}\n      };\n      console.log('ðŸ“Š [PerformanceMetrics] ðŸ“ˆ Live performance data:', {\n        totalValue: result.totalValue,\n        totalGainLoss: result.totalGainLoss,\n        dayChange: result.dayChange,\n        diversificationScore: result.diversificationScore\n      });\n      return result;\n    }\n    \n    if (!holdings || holdings.length === 0) {\n      console.log('ðŸ“Š [PerformanceMetrics] âš ï¸ Empty portfolio - showing zero performance data');\n      return {\n        totalValue: 0,\n        totalCostBasis: 0,\n        totalGainLoss: 0,\n        totalGainLossPercentage: 0,\n        dayChange: 0,\n        dayChangePercentage: 0,\n        sharpeRatio: 0,\n        volatility: 0,\n        diversificationScore: 0,\n        sectorAllocation: {}\n      };\n    }\n    \n    console.log('ðŸ“Š [PerformanceMetrics] ðŸ”„ Using static calculations for performance data');\n    const result = calculatePerformanceMetrics(holdings);\n    console.log('ðŸ“Š [PerformanceMetrics] ðŸ“ˆ Static performance data:', {\n      totalValue: result.totalValue,\n      totalGainLoss: result.totalGainLoss,\n      diversificationScore: result.diversificationScore\n    });\n    return result;\n  }, [liveMetrics, holdings]);\n  \n  // Create metrics array from real data\n  const metrics = [\n    {\n      label: 'Total Return',\n      value: `${performanceData.totalGainLossPercentage >= 0 ? '+' : ''}${performanceData.totalGainLossPercentage.toFixed(2)}%`,\n      change: `${performanceData.totalGainLoss >= 0 ? '+' : ''}$${Math.abs(performanceData.totalGainLoss).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\n      positive: performanceData.totalGainLoss >= 0,\n      icon: 'ðŸ“ˆ',\n      description: 'All-time performance'\n    },\n    {\n      label: 'Today\\'s Change',\n      value: `${(performanceData.dayChange || 0) >= 0 ? '+' : ''}$${Math.abs(performanceData.dayChange || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\n      change: `${(performanceData.dayChangePercentage || 0) >= 0 ? '+' : ''}${(performanceData.dayChangePercentage || 0).toFixed(2)}%`,\n      positive: (performanceData.dayChange || 0) >= 0,\n      icon: 'ðŸ“Š',\n      description: 'Change since yesterday'\n    },\n    {\n      label: 'Sharpe Ratio',\n      value: performanceData.sharpeRatio.toFixed(2),\n      change: performanceData.sharpeRatio > 1 ? 'Excellent' : performanceData.sharpeRatio > 0.5 ? 'Good' : 'Fair',\n      positive: performanceData.sharpeRatio > 0.5,\n      icon: 'âš–ï¸',\n      description: 'Risk-adjusted returns'\n    },\n    {\n      label: 'Diversification',\n      value: `${performanceData.diversificationScore}/100`,\n      change: performanceData.diversificationScore > 70 ? 'Well diversified' : performanceData.diversificationScore > 40 ? 'Moderate' : 'Concentrated',\n      positive: performanceData.diversificationScore > 40,\n      icon: 'ðŸ›¡ï¸',\n      description: 'Portfolio diversification score'\n    },\n    {\n      label: 'Volatility',\n      value: `${(performanceData.volatility * 100).toFixed(1)}%`,\n      change: performanceData.volatility < 0.15 ? 'Low risk' : performanceData.volatility < 0.25 ? 'Medium risk' : 'High risk',\n      positive: performanceData.volatility < 0.2,\n      icon: 'ðŸ“‰',\n      description: 'Price fluctuation estimate'\n    },\n    {\n      label: 'Holdings Count',\n      value: holdings.length.toString(),\n      change: `${Object.keys(performanceData.sectorAllocation).length} sectors`,\n      positive: holdings.length > 0,\n      icon: 'ðŸŽ¯',\n      description: 'Number of positions'\n    }\n  ];\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Performance Overview */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {metrics.slice(0, 3).map((metric, index) => (\n          <div key={index} className=\"relative group\">\n            <div className=\"bg-gradient-to-br from-white/10 to-white/5 rounded-xl border border-white/20 p-6 backdrop-blur-lg hover:from-white/15 hover:to-white/10 transition-all duration-300\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl\">{metric.icon}</span>\n                <div className={`px-2 py-1 rounded-full text-xs ${\n                  metric.positive ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'\n                }`}>\n                  {metric.change}\n                </div>\n              </div>\n              <h3 className=\"text-sm font-medium text-white/70 mb-2\">\n                {metric.label === 'Diversification' ? (\n                  <FinancialTerm term=\"diversification\">{metric.label}</FinancialTerm>\n                ) : metric.label === 'Total Return' ? (\n                  <FinancialTerm term=\"return\">{metric.label}</FinancialTerm>\n                ) : metric.label === 'Volatility' ? (\n                  <FinancialTerm term=\"volatility\">{metric.label}</FinancialTerm>\n                ) : (\n                  metric.label\n                )}\n              </h3>\n              <p className=\"text-2xl font-bold text-white mb-1\">{metric.value}</p>\n              <p className=\"text-xs text-white/60\">{metric.description}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Detailed Metrics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n        {metrics.slice(3).map((metric, index) => (\n          <div key={index} className=\"relative group\">\n            <div className=\"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 p-6 backdrop-blur-lg hover:from-blue-500/15 hover:to-purple-500/15 transition-all duration-300\">\n              <div className=\"flex items-center justify-between mb-3\">\n                <span className=\"text-2xl\">{metric.icon}</span>\n                <div className={`px-2 py-1 rounded-full text-xs ${\n                  metric.positive ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'\n                }`}>\n                  {metric.change}\n                </div>\n              </div>\n              <h3 className=\"text-sm font-medium text-white/70 mb-2\">\n                {metric.label === 'Diversification' ? (\n                  <FinancialTerm term=\"diversification\">{metric.label}</FinancialTerm>\n                ) : metric.label === 'Total Return' ? (\n                  <FinancialTerm term=\"return\">{metric.label}</FinancialTerm>\n                ) : metric.label === 'Volatility' ? (\n                  <FinancialTerm term=\"volatility\">{metric.label}</FinancialTerm>\n                ) : (\n                  metric.label\n                )}\n              </h3>\n              <p className=\"text-2xl font-bold text-white mb-1\">{metric.value}</p>\n              <p className=\"text-xs text-white/60\">{metric.description}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Performance Summary */}\n      {holdings.length > 0 ? (\n        <div className={`bg-gradient-to-r ${performanceData.totalGainLoss >= 0 ? 'from-green-500/10 to-emerald-500/10 border-green-400/20' : 'from-red-500/10 to-red-600/10 border-red-400/20'} rounded-xl border p-6 backdrop-blur-lg`}>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-white mb-2\">Portfolio Health Score</h3>\n              <p className={`${performanceData.totalGainLoss >= 0 ? 'text-green-300' : 'text-red-300'} text-sm`}>\n                {performanceData.totalGainLoss >= 0 \n                  ? 'Your portfolio is performing well with positive returns'\n                  : 'Your portfolio is currently experiencing losses but stay focused on long-term goals'\n                }\n              </p>\n            </div>\n            <div className=\"text-right\">\n              <div className={`text-3xl font-bold ${performanceData.diversificationScore > 70 ? 'text-green-400' : performanceData.diversificationScore > 40 ? 'text-yellow-400' : 'text-red-400'} mb-1`}>\n                {performanceData.diversificationScore > 70 ? 'A' : performanceData.diversificationScore > 40 ? 'B' : 'C'}\n              </div>\n              <div className={`text-sm ${performanceData.diversificationScore > 70 ? 'text-green-300' : performanceData.diversificationScore > 40 ? 'text-yellow-300' : 'text-red-300'}`}>\n                {performanceData.diversificationScore}/100\n              </div>\n            </div>\n          </div>\n          <div className=\"mt-4 w-full bg-white/20 rounded-full h-2\">\n            <div \n              className={`h-2 rounded-full transition-all duration-1000 ${performanceData.diversificationScore > 70 ? 'bg-gradient-to-r from-green-400 to-emerald-500' : performanceData.diversificationScore > 40 ? 'bg-gradient-to-r from-yellow-400 to-yellow-500' : 'bg-gradient-to-r from-red-400 to-red-500'}`} \n              style={{ width: `${performanceData.diversificationScore}%` }}\n            ></div>\n          </div>\n        </div>\n      ) : (\n        <div className=\"bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 p-6 backdrop-blur-lg\">\n          <div className=\"text-center\">\n            <div className=\"text-4xl mb-3\">ðŸ“ˆ</div>\n            <h3 className=\"text-lg font-semibold text-white mb-2\">Ready to Start Investing?</h3>\n            <p className=\"text-blue-300 text-sm mb-4\">Add your first holding to see detailed performance metrics and portfolio analysis</p>\n            <div className=\"text-2xl font-bold text-blue-400\">0%</div>\n            <div className=\"text-sm text-blue-300\">Portfolio Performance</div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n});\n\nexport default PerformanceMetrics;\n","import React, { useState } from 'react';\nimport { usePortfolio } from '../../hooks/usePortfolio';\n\nconst AddHolding = () => {\n  const [formData, setFormData] = useState({\n    symbol: '',\n    shares: '',\n    purchasePrice: '',\n    purchaseDate: ''\n  });\n  const { addHoldingToPortfolio, loading } = usePortfolio();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!formData.symbol || !formData.shares || !formData.purchasePrice) return;\n    const payload = {\n      symbol: formData.symbol.toUpperCase().trim(),\n      companyName: formData.companyName || '',\n      shares: Number(formData.shares),\n      purchasePrice: Number(formData.purchasePrice),\n      purchaseDate: formData.purchaseDate || new Date().toISOString().slice(0, 10),\n      sector: formData.sector || '',\n      assetType: formData.assetType || 'Stock'\n    };\n    try {\n      await addHoldingToPortfolio(payload);\n      setFormData({ symbol: '', shares: '', purchasePrice: '', purchaseDate: '' });\n    } catch (err) {\n      console.error('Failed to add holding', err);\n    }\n  };\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border p-6\">\n      <h2 className=\"text-xl font-semibold text-gray-900 mb-4\">Add Holding</h2>\n      <form onSubmit={handleSubmit} className=\"space-y-4\">\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Symbol</label>\n          <input\n            type=\"text\"\n            value={formData.symbol}\n            onChange={(e) => setFormData({...formData, symbol: e.target.value})}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"e.g., AAPL\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Shares</label>\n          <input\n            type=\"number\"\n            value={formData.shares}\n            onChange={(e) => setFormData({...formData, shares: e.target.value})}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Number of shares\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Purchase Price</label>\n          <input\n            type=\"number\"\n            step=\"0.01\"\n            value={formData.purchasePrice}\n            onChange={(e) => setFormData({...formData, purchasePrice: e.target.value})}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n            placeholder=\"Price per share\"\n          />\n        </div>\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Purchase Date</label>\n          <input\n            type=\"date\"\n            value={formData.purchaseDate}\n            onChange={(e) => setFormData({...formData, purchaseDate: e.target.value})}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n        <button\n          type=\"submit\"\n          disabled={loading}\n          className=\"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50\"\n        >\n          {loading ? 'Addingâ€¦' : 'Add Holding'}\n        </button>\n      </form>\n    </div>\n  );\n};\n\nexport default AddHolding;\n","import React, { useState, useCallback, useMemo, useRef } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport * as XLSX from 'xlsx';\nimport { useAuth } from '../../hooks/useAuth';\nimport { useApp } from '../../contexts/AppContext';\nimport { usePortfolioContext } from '../../contexts/PortfolioContext';\nimport { supabase } from '../../services/supabase/config';\nimport GlassCard from '../ui/GlassCard';\nimport GlassButton from '../ui/GlassButton';\nimport { VALIDATION_RULES } from '../../utils/constants';\n\nconst ACCEPTED_TYPES = ['.csv', '.xlsx', '.xls'];\nconst MAX_FILE_SIZE = 5 * 1024 * 1024;\n\nconst HEADER_ALIASES = {\n  symbol: ['symbol', 'ticker'],\n  date: ['date', 'transaction date', 'trade date'],\n  shares: ['shares', 'quantity', 'qty', 'units'],\n  price: ['price', 'cost', 'rate', 'fill price']\n};\n\nconst fadeVariants = {\n  hidden: { opacity: 0, y: 20 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.25, ease: 'easeOut' } }\n};\n\nconst normalizeHeader = (headerRow = []) =>\n  headerRow.map((cell) => String(cell || '').trim().toLowerCase());\n\nconst detectColumns = (headerRow = []) => {\n  const normalized = normalizeHeader(headerRow);\n  return Object.entries(HEADER_ALIASES).reduce((acc, [key, aliases]) => {\n    acc[key] =\n      normalized.findIndex((cell) =>\n        aliases.some((alias) => cell.includes(alias))\n      );\n    return acc;\n  }, {});\n};\n\nconst normalizeDate = (value) => {\n  if (!value) return null;\n  const stringValue = String(value).trim();\n\n  // handle Excel numeric dates\n  if (!Number.isNaN(Number(stringValue)) && Number(stringValue) > 40000) {\n    const excelEpoch = new Date(Date.UTC(1899, 11, 30));\n    const parsedDate = new Date(excelEpoch.getTime() + Number(stringValue) * 86400000);\n    return Number.isNaN(parsedDate.getTime()) ? null : parsedDate.toISOString().split('T')[0];\n  }\n\n  const formats = [\n    'YYYY-MM-DD',\n    'MM/DD/YYYY',\n    'DD/MM/YYYY',\n    'YYYY/MM/DD',\n    'M/D/YY',\n    'D/M/YY'\n  ];\n\n  const date = new Date(stringValue);\n  if (!Number.isNaN(date.getTime())) {\n    return date.toISOString().split('T')[0];\n  }\n\n  // fallback manual parsing\n  const parts = stringValue\n    .replace(/-/g, '/')\n    .split('/')\n    .map((part) => part.padStart(2, '0'));\n\n  if (parts.length === 3) {\n    const [a, b, c] = parts;\n    if (Number(c) > 31) {\n      return `${c.length === 2 ? `20${c}` : c}-${a}-${b}`;\n    }\n    if (Number(a) > 12) {\n      return `${c.length === 2 ? `20${c}` : c}-${b}-${a}`;\n    }\n    return `${c.length === 2 ? `20${c}` : c}-${a}-${b}`;\n  }\n\n  return null;\n};\n\nconst parseWorksheet = (worksheet) => {\n  const rows = XLSX.utils.sheet_to_json(worksheet, { header: 1, defval: '' });\n  if (!rows.length) {\n    throw new Error('The file is empty.');\n  }\n  return rows;\n};\n\nconst readFileAsArrayBuffer = (file) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (event) => resolve(event.target.result);\n    reader.onerror = () => reject(new Error('Unable to read file'));\n    reader.readAsArrayBuffer(file);\n  });\n\nconst readFileAsText = (file) =>\n  new Promise((resolve, reject) => {\n    const reader = new FileReader();\n    reader.onload = (event) => resolve(event.target.result);\n    reader.onerror = () => reject(new Error('Unable to read file'));\n    reader.readAsText(file);\n  });\n\nconst validateRow = (row) => {\n  const errors = {};\n  const symbolRegex = VALIDATION_RULES?.SYMBOL || /^[A-Z]{1,5}$/;\n\n  if (!row.symbol || !symbolRegex.test(row.symbol)) {\n    errors.symbol = 'Invalid or missing symbol';\n  }\n\n  if (!row.date) {\n    errors.date = 'Invalid date';\n  }\n\n  if (!Number.isFinite(row.shares) || row.shares === 0) {\n    errors.shares = 'Shares must be a non-zero number';\n  }\n\n  if (!Number.isFinite(row.price) || row.price <= 0) {\n    errors.price = 'Price must be greater than zero';\n  }\n\n  return errors;\n};\n\nconst transformRows = (tableRows) => {\n  const header = tableRows[0];\n  const dataRows = tableRows.slice(1);\n  const columnMap = detectColumns(header);\n\n  const missingColumns = Object.entries(columnMap)\n    .filter(([, index]) => index === -1)\n    .map(([key]) => key);\n\n  if (missingColumns.length) {\n    throw new Error(\n      `Missing required columns: ${missingColumns\n        .map((col) => col.toUpperCase())\n        .join(', ')}`\n    );\n  }\n\n  return dataRows\n    .map((row, idx) => {\n      if (!row || row.length === 0 || row.every((cell) => !String(cell).trim())) {\n        return null;\n      }\n\n      const symbolRaw = row[columnMap.symbol];\n      const dateRaw = row[columnMap.date];\n      const sharesRaw = row[columnMap.shares];\n      const priceRaw = row[columnMap.price];\n\n      const parsedRow = {\n        id: idx + 1,\n        data: {\n          symbol: String(symbolRaw || '').trim().toUpperCase(),\n          date: normalizeDate(dateRaw),\n          shares: Number(sharesRaw),\n          price: Number(priceRaw)\n        }\n      };\n\n      parsedRow.errors = validateRow(parsedRow.data);\n      return parsedRow;\n    })\n    .filter(Boolean);\n};\n\nconst parseUploadFile = async (file) => {\n  const extension = file.name.split('.').pop().toLowerCase();\n\n  if (extension === 'xlsx' || extension === 'xls') {\n    const arrayBuffer = await readFileAsArrayBuffer(file);\n    const workbook = XLSX.read(arrayBuffer, { type: 'array' });\n    const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n    const rows = parseWorksheet(worksheet);\n    return transformRows(rows);\n  }\n\n  if (extension === 'csv') {\n    const text = await readFileAsText(file);\n    const workbook = XLSX.read(text, { type: 'string' });\n    const worksheet = workbook.Sheets[workbook.SheetNames[0]];\n    const rows = parseWorksheet(worksheet);\n    return transformRows(rows);\n  }\n\n  throw new Error('Unsupported file type.');\n};\n\nconst UploadCSV = ({ onUploadComplete }) => {\n  const { currentUser } = useAuth();\n  const { queueToast } = useApp();\n  const { portfolio, reloadPortfolio, updatePortfolioMetrics } = usePortfolioContext();\n\n  const [file, setFile] = useState(null);\n  const [isDragging, setIsDragging] = useState(false);\n  const [isParsing, setIsParsing] = useState(false);\n  const [parsedRows, setParsedRows] = useState([]);\n  const [error, setError] = useState(null);\n  const [isImporting, setIsImporting] = useState(false);\n  const fileInputRef = useRef(null);\n\n  const validationSummary = useMemo(() => {\n    if (!parsedRows.length) {\n      return {\n        total: 0,\n        valid: 0,\n        invalid: 0,\n        validRows: [],\n        invalidRows: []\n      };\n    }\n\n    const validRows = parsedRows.filter((row) => Object.keys(row.errors).length === 0);\n    const invalidRows = parsedRows.filter((row) => Object.keys(row.errors).length > 0);\n\n    return {\n      total: parsedRows.length,\n      valid: validRows.length,\n      invalid: invalidRows.length,\n      validRows,\n      invalidRows\n    };\n  }, [parsedRows]);\n\n  const resetState = useCallback(() => {\n    setFile(null);\n    setParsedRows([]);\n    setError(null);\n    setIsParsing(false);\n    setIsImporting(false);\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n    }\n  }, []);\n\n  const validateFile = (incomingFile) => {\n    if (!incomingFile) return false;\n\n    if (incomingFile.size > MAX_FILE_SIZE) {\n      setError('File size exceeds 5MB limit.');\n      queueToast('File size exceeds 5MB limit.', 'error');\n      return false;\n    }\n\n    const extension = `.${incomingFile.name.split('.').pop().toLowerCase()}`;\n    if (!ACCEPTED_TYPES.includes(extension)) {\n      const message = `Unsupported file type. Please provide ${ACCEPTED_TYPES.join(', ')}.`;\n      setError(message);\n      queueToast(message, 'error');\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleFileSelection = useCallback(\n    async (incomingFile) => {\n      if (!currentUser) {\n        queueToast('You must be signed in to upload transactions.', 'error');\n        return;\n      }\n\n      if (!validateFile(incomingFile)) return;\n\n      setIsParsing(true);\n      setError(null);\n      setFile(incomingFile);\n\n      try {\n        const rows = await parseUploadFile(incomingFile);\n        setParsedRows(rows);\n        if (!rows.length) {\n          setError('No valid rows found in the file.');\n          queueToast('No valid rows found in the file.', 'warning');\n        }\n      } catch (err) {\n        console.error('CSV parse error', err);\n        const message = err.message || 'Unable to parse file. Please verify the template.';\n        setError(message);\n        setParsedRows([]);\n        queueToast(message, 'error');\n      } finally {\n        setIsParsing(false);\n      }\n    },\n    [currentUser, queueToast]\n  );\n\n  const handleFileInputChange = (event) => {\n    const [incomingFile] = event.target.files || [];\n    if (incomingFile) {\n      handleFileSelection(incomingFile);\n    }\n  };\n\n  const handleDragEnter = (event) => {\n    event.preventDefault();\n    setIsDragging(true);\n  };\n\n  const handleDragLeave = (event) => {\n    event.preventDefault();\n    setIsDragging(false);\n  };\n\n  const handleDragOver = (event) => {\n    event.preventDefault();\n  };\n\n  const handleDrop = (event) => {\n    event.preventDefault();\n    setIsDragging(false);\n    const [incomingFile] = event.dataTransfer.files || [];\n    if (incomingFile) {\n      handleFileSelection(incomingFile);\n    }\n  };\n\n  const handleImport = async () => {\n    if (!currentUser || !portfolio?.id) {\n      queueToast('Portfolio not ready yet. Please try again.', 'error');\n      return;\n    }\n\n    if (!validationSummary.validRows.length) {\n      queueToast('No valid rows to import.', 'warning');\n      return;\n    }\n\n    setIsImporting(true);\n    try {\n      const payload = validationSummary.validRows.map(({ data }) => {\n        const transactionType = data.shares >= 0 ? 'buy' : 'sell';\n        const shares = Math.abs(data.shares);\n        const price = Math.abs(data.price);\n\n        return {\n          user_id: currentUser.id,\n          portfolio_id: portfolio.id,\n          symbol: data.symbol,\n          transaction_type: transactionType,\n          shares,\n          price,\n          total_amount: Number((shares * price).toFixed(2)),\n          fees: 0,\n          transaction_date: data.date,\n          notes: 'Imported via CSV uploader',\n          metadata: {\n            source: 'csv_upload',\n            originalShares: data.shares,\n            originalPrice: data.price\n          }\n        };\n      });\n\n      const { error: insertError } = await supabase.from('transactions').insert(payload);\n      if (insertError) {\n        throw insertError;\n      }\n\n      queueToast(`Imported ${payload.length} transactions successfully.`, 'success');\n\n      await reloadPortfolio?.();\n      await updatePortfolioMetrics?.({ notify: false, showLoader: false });\n\n      if (onUploadComplete) {\n        onUploadComplete(payload);\n      }\n\n      resetState();\n    } catch (err) {\n      console.error('Import error', err);\n      queueToast(err.message || 'Unable to import transactions.', 'error');\n    } finally {\n      setIsImporting(false);\n    }\n  };\n\n  return (\n    <GlassCard variant=\"floating\" padding=\"large\" shadow=\"xl\">\n      <div className=\"space-y-6\">\n        <div>\n          <h3 className=\"text-xl font-semibold text-white mb-2\">Import Portfolio Transactions</h3>\n          <p className=\"text-white/70 text-sm\">\n            Upload a CSV or Excel file containing your trades. We&apos;ll validate each row,\n            highlight any issues, and import the valid transactions directly into your Supabase-backed portfolio.\n          </p>\n        </div>\n\n        <div\n          className={`\n            border-2 border-dashed rounded-2xl p-8 transition-all duration-200\n            ${isDragging ? 'border-blue-400 bg-blue-500/10' : 'border-white/15 hover:border-white/30'}\n          `}\n          onDragEnter={handleDragEnter}\n          onDragLeave={handleDragLeave}\n          onDragOver={handleDragOver}\n          onDrop={handleDrop}\n        >\n          <div className=\"flex flex-col items-center space-y-4 text-center\">\n            <div className=\"text-4xl\">ðŸ“¥</div>\n            <div>\n              <p className=\"text-white text-lg font-medium mb-2\">\n                Drag &amp; drop your file here\n              </p>\n              <p className=\"text-white/60 text-sm mb-4\">\n                Or click below to browse your computer\n              </p>\n              <input\n                ref={fileInputRef}\n                type=\"file\"\n                accept={ACCEPTED_TYPES.join(',')}\n                onChange={handleFileInputChange}\n                className=\"hidden\"\n              />\n              <GlassButton\n                variant=\"primary\"\n                size=\"medium\"\n                onClick={() => fileInputRef.current?.click()}\n              >\n                Select File\n              </GlassButton>\n            </div>\n            <p className=\"text-white/50 text-xs\">\n              Supported: CSV, XLSX, XLS â€¢ Max 5MB â€¢ Required columns: symbol, date, shares, price\n            </p>\n          </div>\n        </div>\n\n        {(file || error) && (\n          <motion.div\n            variants={fadeVariants}\n            initial=\"hidden\"\n            animate=\"visible\"\n            className=\"bg-white/5 border border-white/10 rounded-xl p-4 space-y-3\"\n          >\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white font-medium\">{file?.name}</p>\n                <p className=\"text-white/60 text-xs\">\n                  {file ? `${(file.size / 1024).toFixed(1)} KB` : 'No file selected'}\n                </p>\n              </div>\n              <div className=\"flex space-x-2\">\n                {file && (\n                  <GlassButton variant=\"ghost\" size=\"small\" onClick={resetState} disabled={isParsing || isImporting}>\n                    Reset\n                  </GlassButton>\n                )}\n              </div>\n            </div>\n            {error && (\n              <p className=\"text-sm text-red-300 bg-red-500/10 border border-red-500/20 rounded-lg p-3\">\n                {error}\n              </p>\n            )}\n            {isParsing && (\n              <p className=\"text-sm text-white/60\">Parsing fileâ€¦</p>\n            )}\n          </motion.div>\n        )}\n\n        <AnimatePresence>\n          {parsedRows.length > 0 && (\n            <motion.div\n              variants={fadeVariants}\n              initial=\"hidden\"\n              animate=\"visible\"\n              exit=\"hidden\"\n              className=\"space-y-4\"\n            >\n              <div className=\"bg-white/5 border border-white/10 rounded-xl p-4\">\n                <div className=\"flex flex-wrap items-center gap-4\">\n                  <div>\n                    <p className=\"text-white/60 text-xs uppercase tracking-wide\">Total Rows</p>\n                    <p className=\"text-lg font-semibold text-white\">{validationSummary.total}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-white/60 text-xs uppercase tracking-wide\">Ready to Import</p>\n                    <p className=\"text-lg font-semibold text-emerald-300\">{validationSummary.valid}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-white/60 text-xs uppercase tracking-wide\">Needs Attention</p>\n                    <p className=\"text-lg font-semibold text-amber-300\">{validationSummary.invalid}</p>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"overflow-x-auto border border-white/10 rounded-xl\">\n                <table className=\"min-w-full divide-y divide-white/10 text-sm\">\n                  <thead className=\"bg-white/10 text-white/70\">\n                    <tr>\n                      <th className=\"px-4 py-2 text-left font-medium\">#</th>\n                      <th className=\"px-4 py-2 text-left font-medium\">Symbol</th>\n                      <th className=\"px-4 py-2 text-left font-medium\">Date</th>\n                      <th className=\"px-4 py-2 text-left font-medium\">Shares</th>\n                      <th className=\"px-4 py-2 text-left font-medium\">Price</th>\n                      <th className=\"px-4 py-2 text-left font-medium\">Status</th>\n                    </tr>\n                  </thead>\n                  <tbody className=\"divide-y divide-white/5\">\n                    {parsedRows.slice(0, 25).map((row) => {\n                      const hasErrors = Object.keys(row.errors).length > 0;\n                      return (\n                        <tr key={row.id} className={hasErrors ? 'bg-red-500/5' : 'bg-white/5'}>\n                          <td className=\"px-4 py-2 text-white/70\">{row.id}</td>\n                          <td\n                            className={`px-4 py-2 ${row.errors.symbol ? 'text-red-300' : 'text-white'}`}\n                          >\n                            {row.data.symbol || 'â€”'}\n                          </td>\n                          <td\n                            className={`px-4 py-2 ${row.errors.date ? 'text-red-300' : 'text-white'}`}\n                          >\n                            {row.data.date || 'â€”'}\n                          </td>\n                          <td\n                            className={`px-4 py-2 ${row.errors.shares ? 'text-red-300' : 'text-white'}`}\n                          >\n                            {Number.isFinite(row.data.shares) ? row.data.shares : 'â€”'}\n                          </td>\n                          <td\n                            className={`px-4 py-2 ${row.errors.price ? 'text-red-300' : 'text-white'}`}\n                          >\n                            {Number.isFinite(row.data.price) ? row.data.price : 'â€”'}\n                          </td>\n                          <td className=\"px-4 py-2 text-white/70\">\n                            {hasErrors ? (\n                              <div className=\"space-y-1 text-xs text-red-300\">\n                                {Object.values(row.errors).map((message, idx) => (\n                                  <div key={idx}>â€¢ {message}</div>\n                                ))}\n                              </div>\n                            ) : (\n                              <span className=\"text-emerald-300\">Ready</span>\n                            )}\n                          </td>\n                        </tr>\n                      );\n                    })}\n                  </tbody>\n                </table>\n                {parsedRows.length > 25 && (\n                  <p className=\"text-xs text-white/50 px-4 py-3\">\n                    Showing first 25 rows of {parsedRows.length}. Invalid rows must be fixed before importing.\n                  </p>\n                )}\n              </div>\n\n              {validationSummary.invalid > 0 && (\n                <p className=\"text-sm text-amber-300 bg-amber-500/10 border border-amber-500/20 rounded-lg p-3\">\n                  Fix highlighted rows in your source file and re-upload to include them in the import.\n                </p>\n              )}\n\n              <div className=\"flex flex-wrap items-center justify-between gap-3\">\n                <GlassButton\n                  variant=\"ghost\"\n                  size=\"medium\"\n                  onClick={resetState}\n                  disabled={isParsing || isImporting}\n                >\n                  Choose Another File\n                </GlassButton>\n                <GlassButton\n                  variant=\"primary\"\n                  size=\"medium\"\n                  onClick={handleImport}\n                  disabled={\n                    isParsing ||\n                    isImporting ||\n                    !validationSummary.validRows.length\n                  }\n                  loading={isImporting}\n                >\n                  Import {validationSummary.validRows.length || ''} Transactions\n                </GlassButton>\n              </div>\n            </motion.div>\n          )}\n        </AnimatePresence>\n      </div>\n    </GlassCard>\n  );\n};\n\nexport default UploadCSV;\n\n","import React, { useState } from 'react';\nimport { motion } from 'framer-motion';\nimport PortfolioChart from './PortfolioChart';\nimport HoldingsList from './HoldingsList';\nimport PerformanceMetrics from './PerformanceMetrics';\nimport AddHolding from './AddHolding';\nimport UploadCSV from './UploadCSV';\nimport FinancialTerm from '../education/FinancialTerm';\nimport { usePortfolio } from '../../hooks/usePortfolio';\nimport { useAlphaVantageData } from '../../hooks/useAlphaVantageData';\nimport { calculatePerformanceMetrics } from '../../services/portfolio/portfolioCalculations';\nimport LoadingSpinner from '../common/LoadingSpinner';\nimport GlassCard from '../ui/GlassCard';\nimport GlassButton from '../ui/GlassButton';\nimport Modal from '../ui/Modal';\n\nconst PortfolioTracker = () => {\n  const {\n    portfolio,\n    holdings,\n    transactions,\n    loading: portfolioLoading,\n    error: portfolioError,\n  } = usePortfolio();\n  const { \n    portfolioMetrics: liveMetrics, \n    marketData, \n    loading: marketLoading, \n    error: marketError,\n    lastUpdated,\n    refreshData,\n    isDataStale \n  } = useAlphaVantageData(holdings || []);\n  const [isAddOpen, setIsAddOpen] = useState(false);\n  const [selectedTimeframe, setSelectedTimeframe] = useState('1M');\n  const [activeTab, setActiveTab] = useState('overview'); // 'overview' or 'upload'\n\n  const fadeIn = {\n    hidden: { opacity: 0, y: 16 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: 'easeOut' } }\n  };\n\n  const staggerChildren = {\n    visible: {\n      transition: {\n        staggerChildren: 0.1\n      }\n    }\n  };\n\n  // Use live market data if available, fallback to static calculations\n  const portfolioMetrics = React.useMemo(() => {\n    console.log('ðŸ“Š [PortfolioTracker] Calculating portfolio metrics...');\n    console.log('ðŸ“Š [PortfolioTracker] Live metrics available:', !!liveMetrics);\n    console.log('ðŸ“Š [PortfolioTracker] Holdings count:', holdings?.length || 0);\n    \n    if (liveMetrics && liveMetrics.holdings) {\n      // Use live market data calculations\n      console.log('ðŸ“Š [PortfolioTracker] âœ… Using live market data for calculations');\n      const staticMetrics = calculatePerformanceMetrics(liveMetrics.holdings);\n      const result = {\n        ...liveMetrics,\n        sectorAllocation: staticMetrics.sectorAllocation,\n        assetTypeAllocation: staticMetrics.assetTypeAllocation,\n        diversificationScore: staticMetrics.diversificationScore\n      };\n      console.log('ðŸ“Š [PortfolioTracker] ðŸ“ˆ Live portfolio metrics:', {\n        totalValue: result.totalValue,\n        dayChange: result.dayChange,\n        totalGainLoss: result.totalGainLoss,\n        holdingsCount: result.holdings?.length\n      });\n      return result;\n    }\n    \n    // Fallback to static calculations\n    if (!holdings || holdings.length === 0) {\n      console.log('ðŸ“Š [PortfolioTracker] âš ï¸ Empty portfolio - showing zero values');\n      return {\n        totalValue: 0,\n        totalCostBasis: 0,\n        totalGainLoss: 0,\n        totalGainLossPercentage: 0,\n        dayChange: 0,\n        dayChangePercentage: 0,\n        sectorAllocation: {},\n        assetTypeAllocation: {},\n        diversificationScore: 0,\n        holdings: []\n      };\n    }\n    \n    console.log('ðŸ“Š [PortfolioTracker] ðŸ”„ Using static calculations as fallback');\n    const result = calculatePerformanceMetrics(holdings);\n    console.log('ðŸ“Š [PortfolioTracker] ðŸ“ˆ Static portfolio metrics:', {\n      totalValue: result.totalValue,\n      totalGainLoss: result.totalGainLoss\n    });\n    return result;\n  }, [liveMetrics, holdings]);\n\n  const quickStats = [\n    { \n      label: 'Total Value', \n      value: `$${portfolioMetrics.totalValue.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`, \n      change: `${portfolioMetrics.totalGainLossPercentage >= 0 ? '+' : ''}${portfolioMetrics.totalGainLossPercentage.toFixed(2)}%`,\n      changeAmount: `${portfolioMetrics.totalGainLoss >= 0 ? '+' : ''}$${Math.abs(portfolioMetrics.totalGainLoss).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`,\n      positive: portfolioMetrics.totalGainLoss >= 0 \n    },\n    { \n      label: 'Today\\'s Change', \n      value: `${portfolioMetrics.dayChange >= 0 ? '+' : ''}$${Math.abs(portfolioMetrics.dayChange || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`, \n      change: `${portfolioMetrics.dayChangePercentage >= 0 ? '+' : ''}${(portfolioMetrics.dayChangePercentage || 0).toFixed(2)}%`,\n      changeAmount: 'Since yesterday',\n      positive: (portfolioMetrics.dayChange || 0) >= 0 \n    },\n    { \n      label: 'Total Return', \n      value: `${portfolioMetrics.totalGainLoss >= 0 ? '+' : ''}$${Math.abs(portfolioMetrics.totalGainLoss).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`, \n      change: `${portfolioMetrics.totalGainLossPercentage >= 0 ? '+' : ''}${portfolioMetrics.totalGainLossPercentage.toFixed(2)}%`,\n      changeAmount: 'All time',\n      positive: portfolioMetrics.totalGainLoss >= 0 \n    },\n    { \n      label: 'Holdings', \n      value: holdings?.length || 0, \n      change: holdings?.length > 0 ? 'Diversified' : 'Add Holdings',\n      changeAmount: holdings?.length > 0 ? `${Object.keys(portfolioMetrics.sectorAllocation || {}).length} sectors` : 'Get started',\n      positive: (holdings?.length || 0) > 0 \n    }\n  ];\n\n  const timeframes = ['1D', '1W', '1M', '3M', '1Y', 'ALL'];\n\n  const loading = portfolioLoading || marketLoading;\n  const errorState = portfolioError || marketError;\n\n  if (portfolioLoading) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950\">\n        <div className=\"text-center\">\n          <LoadingSpinner size=\"large\" />\n          <p className=\"mt-4 text-gray-300\">Loading your portfolio...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (portfolioError) {\n    return (\n      <div className=\"flex items-center justify-center min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950\">\n        <div className=\"text-center\">\n          <div className=\"text-6xl mb-4\">âš ï¸</div>\n          <h2 className=\"text-2xl font-bold mb-2 text-white\">Unable to Load Portfolio</h2>\n          <p className=\"text-gray-300 mb-4\">{portfolioError}</p>\n          <GlassButton onClick={() => window.location.reload()} variant=\"primary\">\n            Try Again\n          </GlassButton>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"w-full max-w-[1920px] mx-auto px-3 lg:px-4 xl:px-6 py-4 lg:py-6\">\n      {/* Header */}\n      <motion.div \n        variants={fadeIn} \n        initial=\"hidden\" \n        animate=\"visible\" \n        className=\"mb-4 lg:mb-6\"\n      >\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between\">\n          <div>\n            <h1 className=\"text-3xl md:text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-300 via-purple-300 to-orange-300 mb-2\">\n              Portfolio Tracker ðŸ“ˆ\n            </h1>\n            <div className=\"flex items-center space-x-4\">\n              <p className=\"text-gray-300 text-base lg:text-lg\">Monitor your investments and track performance in real-time</p>\n              {marketLoading && (\n                <div className=\"flex items-center space-x-2 text-blue-400 text-sm\">\n                  <LoadingSpinner size=\"small\" />\n                  <span>Updating prices...</span>\n                </div>\n              )}\n              {lastUpdated && !marketLoading && (\n                <span className=\"text-gray-500 text-sm\">\n                  Last updated: {new Date(lastUpdated).toLocaleTimeString()}\n                  {isDataStale() && <span className=\"text-yellow-400 ml-1\">(Stale)</span>}\n                </span>\n              )}\n            </div>\n          </div>\n          <div className=\"mt-4 md:mt-0 flex items-center space-x-3\">\n            {holdings && holdings.length > 0 && (\n              <GlassButton \n                onClick={refreshData}\n                variant=\"glass\" \n                size=\"default\"\n                disabled={marketLoading}\n              >\n                {marketLoading ? 'Refreshing...' : 'Refresh Prices'}\n              </GlassButton>\n            )}\n            <GlassButton \n              onClick={() => setIsAddOpen(true)}\n              variant=\"primary\" \n              size=\"default\"\n              className=\"shadow-lg\"\n            >\n              + Add Investment\n            </GlassButton>\n          </div>\n        </div>\n        {marketError && (\n          <div className=\"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\n            <p className=\"text-yellow-300 text-sm\">\n              âš ï¸ Market data unavailable: {marketError}. Showing last known prices.\n            </p>\n          </div>\n        )}\n      </motion.div>\n\n      {/* Quick Stats Grid */}\n      <motion.div \n        variants={staggerChildren}\n        initial=\"hidden\"\n        animate=\"visible\"\n        className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\"\n      >\n        {quickStats.map((stat, index) => (\n          <motion.div key={index} variants={fadeIn}>\n            <GlassCard \n              variant=\"default\" \n              padding=\"large\" \n              interactive={true}\n              className=\"text-center group\"\n            >\n              <h3 className=\"text-sm font-medium text-white/70 mb-2\">\n                {stat.label === 'Total Value' ? (\n                  <FinancialTerm term=\"portfolio\">{stat.label}</FinancialTerm>\n                ) : stat.label === 'Holdings' ? (\n                  <FinancialTerm term=\"holding\">{stat.label}</FinancialTerm>\n                ) : (\n                  stat.label\n                )}\n              </h3>\n              <p className=\"text-2xl font-bold text-white mb-1\">{stat.value}</p>\n              <p className={`text-sm ${stat.positive ? 'text-green-400' : 'text-red-400'}`}>\n                {stat.change}\n              </p>\n              <p className=\"text-xs text-white/50 mt-1\">{stat.changeAmount}</p>\n            </GlassCard>\n          </motion.div>\n        ))}\n      </motion.div>\n\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 gap-4 lg:gap-6\">\n        {/* Main Content Area */}\n        <div className=\"lg:col-span-3 space-y-4 lg:space-y-6\">\n          {/* Portfolio Performance Chart */}\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\">\n            <GlassCard variant=\"hero\" padding=\"large\" shadow=\"xl\">\n              <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6\">\n                <h2 className=\"text-2xl font-semibold text-white mb-4 sm:mb-0\">Portfolio Performance</h2>\n                <div className=\"flex flex-wrap gap-2\">\n                  {timeframes.map((timeframe) => (\n                    <button\n                      key={timeframe}\n                      onClick={() => setSelectedTimeframe(timeframe)}\n                      className={`px-3 py-1 text-sm rounded-lg transition-all ${\n                        selectedTimeframe === timeframe\n                          ? 'bg-blue-500/30 text-white border border-blue-400/30'\n                          : 'bg-white/10 text-white/70 hover:text-white hover:bg-white/20'\n                      }`}\n                    >\n                      {timeframe}\n                    </button>\n                  ))}\n                </div>\n              </div>\n                  <PortfolioChart\n                    portfolio={portfolio}\n                    holdings={holdings}\n                    transactions={transactions}\n                    marketData={marketData?.quotes || marketData || {}}\n                    timeframe={selectedTimeframe}\n                    loading={loading}\n                    error={errorState}\n                  />\n            </GlassCard>\n          </motion.div>\n\n          {/* Performance Metrics */}\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\">\n            <GlassCard variant=\"default\" padding=\"large\" shadow=\"large\">\n              <h2 className=\"text-2xl font-semibold text-white mb-6\">Performance Metrics</h2>\n              <PerformanceMetrics \n                portfolio={portfolio} \n                liveMetrics={liveMetrics}\n                marketData={marketData}\n              />\n            </GlassCard>\n          </motion.div>\n\n          {/* Holdings List / CSV Upload Section */}\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\">\n            <GlassCard variant=\"default\" padding=\"large\" shadow=\"large\">\n              {/* Tab Navigation */}\n              <div className=\"flex items-center justify-between mb-6\">\n                <h2 className=\"text-2xl font-semibold text-white\">Portfolio Management</h2>\n                <div className=\"flex space-x-2\">\n                  <button\n                    onClick={() => setActiveTab('overview')}\n                    className={`px-4 py-2 text-sm rounded-lg transition-all ${\n                      activeTab === 'overview'\n                        ? 'bg-blue-500/30 text-white border border-blue-400/30'\n                        : 'bg-white/10 text-white/70 hover:text-white hover:bg-white/20'\n                    }`}\n                  >\n                    Holdings\n                  </button>\n                  <button\n                    onClick={() => setActiveTab('upload')}\n                    className={`px-4 py-2 text-sm rounded-lg transition-all ${\n                      activeTab === 'upload'\n                        ? 'bg-blue-500/30 text-white border border-blue-400/30'\n                        : 'bg-white/10 text-white/70 hover:text-white hover:bg-white/20'\n                    }`}\n                  >\n                    ðŸ“„ Upload CSV\n                  </button>\n                </div>\n              </div>\n\n              {/* Tab Content */}\n              {activeTab === 'overview' ? (\n                <div>\n                  <div className=\"flex items-center justify-between mb-4\">\n                    <h3 className=\"text-lg font-semibold text-white/90\">Your Holdings</h3>\n                <div className=\"flex space-x-2\">\n                  <button className=\"px-3 py-1 text-sm bg-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/20 transition-all\">\n                    Value\n                  </button>\n                  <button className=\"px-3 py-1 text-sm bg-blue-500/30 rounded-lg text-white\">\n                    Performance\n                  </button>\n                  <button className=\"px-3 py-1 text-sm bg-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/20 transition-all\">\n                    Allocation\n                  </button>\n                </div>\n              </div>\n              <HoldingsList \n                portfolio={portfolio} \n                liveMetrics={liveMetrics}\n                marketData={marketData}\n              />\n                </div>\n              ) : (\n                <div>\n                  <h3 className=\"text-lg font-semibold text-white/90 mb-4\">Upload Spending Data</h3>\n                  <p className=\"text-white/60 text-sm mb-6\">\n                    Upload your CSV or Excel file to analyze spending patterns and get personalized investment recommendations.\n                  </p>\n                  <UploadCSV \n                    onUploadComplete={(data) => {\n                      console.log('CSV upload completed:', data);\n                      // Optionally refresh portfolio or show success message\n                      setActiveTab('overview');\n                    }}\n                  />\n                </div>\n              )}\n            </GlassCard>\n          </motion.div>\n        </div>\n\n        {/* Sidebar */}\n        <div className=\"space-y-8\">\n          {/* Portfolio Allocation */}\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\">\n            <GlassCard variant=\"accent\" padding=\"large\" glow={true}>\n              <h3 className=\"text-xl font-semibold text-white mb-4\">\n                <FinancialTerm term=\"asset_allocation\">Asset Allocation</FinancialTerm>\n              </h3>\n              <div className=\"space-y-4\">\n                {Object.keys(portfolioMetrics.assetTypeAllocation).length > 0 ? (\n                  Object.entries(portfolioMetrics.assetTypeAllocation).map(([assetType, percentage], index) => {\n                    const colors = [\n                      'from-blue-400 to-blue-500',\n                      'from-green-400 to-green-500', \n                      'from-purple-400 to-purple-500',\n                      'from-orange-400 to-orange-500',\n                      'from-pink-400 to-pink-500'\n                    ];\n                    const colorClass = colors[index % colors.length];\n                    \n                    return (\n                      <div key={assetType}>\n                        <div className=\"flex justify-between items-center\">\n                          <span className=\"text-white/90\">{assetType}</span>\n                          <span className=\"text-white font-medium\">{percentage.toFixed(1)}%</span>\n                        </div>\n                        <div className=\"w-full bg-white/20 rounded-full h-2\">\n                          <div className={`bg-gradient-to-r ${colorClass} h-2 rounded-full`} style={{ width: `${percentage}%` }}></div>\n                        </div>\n                      </div>\n                    );\n                  })\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <div className=\"text-4xl mb-2\">ðŸ“Š</div>\n                    <p className=\"text-white/60 text-sm mb-2\">No allocations yet</p>\n                    <p className=\"text-white/40 text-xs\">Add holdings to see asset allocation</p>\n                  </div>\n                )}\n              </div>\n            </GlassCard>\n          </motion.div>\n\n          {/* Quick Actions */}\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\">\n            <GlassCard variant=\"default\" padding=\"large\">\n              <h3 className=\"text-xl font-semibold text-white mb-6\">Quick Actions</h3>\n              <div className=\"space-y-3\">\n                <GlassButton\n                  onClick={() => setIsAddOpen(true)}\n                  variant=\"glass\"\n                  className=\"w-full justify-start\"\n                >\n                  <span className=\"mr-3\">ðŸ“ˆ</span>\n                  Add New Position\n                </GlassButton>\n                \n                <GlassButton\n                  variant=\"glass\"\n                  className=\"w-full justify-start\"\n                >\n                  <span className=\"mr-3\">âš–ï¸</span>\n                  Rebalance Portfolio\n                </GlassButton>\n                \n                <GlassButton\n                  variant=\"glass\"\n                  className=\"w-full justify-start\"\n                >\n                  <span className=\"mr-3\">ðŸ“Š</span>\n                  Generate Report\n                </GlassButton>\n                \n                <GlassButton\n                  variant=\"glass\"\n                  className=\"w-full justify-start\"\n                >\n                  <span className=\"mr-3\">ðŸŽ¯</span>\n                  Set Price Alerts\n                </GlassButton>\n              </div>\n            </GlassCard>\n          </motion.div>\n\n          {/* Market News */}\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\">\n            <GlassCard variant=\"floating\" padding=\"large\" interactive={true}>\n              <div className=\"flex items-center justify-between mb-4\">\n                <h3 className=\"text-xl font-semibold text-white\">Market News</h3>\n                <span className=\"px-2 py-1 bg-green-500/30 text-green-300 text-xs rounded-full\">Live</span>\n              </div>\n              <div className=\"space-y-3\">\n                {holdings && holdings.length > 0 ? (\n                  <>\n                    <div className=\"p-3 bg-white/5 rounded-lg border border-white/10\">\n                      <h4 className=\"text-sm font-medium text-white mb-1\">Portfolio Update</h4>\n                      <p className=\"text-xs text-white/70\">Your portfolio has {holdings.length} holdings across {Object.keys(portfolioMetrics.sectorAllocation).length} sectors</p>\n                      <span className=\"text-xs text-white/50\">Updated now</span>\n                    </div>\n                    {portfolioMetrics.totalGainLossPercentage !== 0 && (\n                      <div className=\"p-3 bg-white/5 rounded-lg border border-white/10\">\n                        <h4 className=\"text-sm font-medium text-white mb-1\">Performance Alert</h4>\n                        <p className=\"text-xs text-white/70\">\n                          Your portfolio is {portfolioMetrics.totalGainLossPercentage > 0 ? 'up' : 'down'} {Math.abs(portfolioMetrics.totalGainLossPercentage).toFixed(2)}% overall\n                        </p>\n                        <span className=\"text-xs text-white/50\">Live data</span>\n                      </div>\n                    )}\n                  </>\n                ) : (\n                  <div className=\"text-center py-8\">\n                    <div className=\"text-4xl mb-2\">ðŸ“°</div>\n                    <p className=\"text-white/60 text-sm mb-2\">No market updates</p>\n                    <p className=\"text-white/40 text-xs\">Add holdings to see relevant news</p>\n                  </div>\n                )}\n              </div>\n              <GlassButton variant=\"ghost\" className=\"w-full mt-4 text-sm\">\n                View All News\n              </GlassButton>\n            </GlassCard>\n          </motion.div>\n        </div>\n      </div>\n\n      <Modal isOpen={isAddOpen} onClose={() => setIsAddOpen(false)} title=\"Add New Investment\" size=\"large\">\n        <AddHolding />\n      </Modal>\n    </div>\n  );\n};\n\nexport default PortfolioTracker;\n","import React from 'react';\nimport { motion } from 'framer-motion';\nimport PortfolioTracker from '../components/portfolio/PortfolioTracker';\n\nexport default function PortfolioPage() {\n  const fadeIn = {\n    hidden: { opacity: 0, y: 12 },\n    visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: 'easeOut' } }\n  };\n\n  return (\n    <div className=\"relative min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950 text-white overflow-hidden\">\n      {/* Orbs */}\n      <motion.div\n        className=\"absolute -top-32 -left-28 w-80 h-80 bg-gradient-to-r from-blue-500/40 to-purple-500/30 rounded-full blur-3xl\"\n        animate={{ y: [0, 16, 0] }}\n        transition={{ repeat: Infinity, duration: 14, ease: 'easeInOut' }}\n      />\n      <motion.div\n        className=\"absolute -bottom-36 -right-24 w-[24rem] h-[24rem] bg-gradient-to-r from-orange-400/30 to-pink-400/20 rounded-full blur-3xl\"\n        animate={{ y: [0, -22, 0] }}\n        transition={{ repeat: Infinity, duration: 18, ease: 'easeInOut' }}\n      />\n\n      <main className=\"relative z-10\">\n        <PortfolioTracker />\n      </main>\n    </div>\n  );\n}","import React from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport GlassCard from './GlassCard';\n\nconst Modal = ({ \n  isOpen, \n  onClose, \n  title, \n  children, \n  size = 'default',\n  className = '' \n}) => {\n  const sizeClasses = {\n    small: 'max-w-md',\n    default: 'max-w-lg',\n    large: 'max-w-2xl',\n    xlarge: 'max-w-4xl'\n  };\n\n  const backdropVariants = {\n    hidden: { opacity: 0 },\n    visible: { opacity: 1 }\n  };\n\n  const modalVariants = {\n    hidden: { \n      opacity: 0, \n      scale: 0.8,\n      y: 50\n    },\n    visible: { \n      opacity: 1, \n      scale: 1,\n      y: 0,\n      transition: {\n        type: \"spring\",\n        damping: 25,\n        stiffness: 300\n      }\n    },\n    exit: {\n      opacity: 0,\n      scale: 0.8,\n      y: 50,\n      transition: {\n        duration: 0.2\n      }\n    }\n  };\n  \n  return (\n    <AnimatePresence>\n      {isOpen && (\n        <motion.div \n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\n          variants={backdropVariants}\n          initial=\"hidden\"\n          animate=\"visible\"\n          exit=\"hidden\"\n          onClick={onClose}\n        >\n          {/* Enhanced Glass Backdrop */}\n          <div className=\"absolute inset-0 bg-black/60 backdrop-blur-2xl backdrop-saturate-150\" />\n          \n          <motion.div\n            className={`relative w-full ${sizeClasses[size]} ${className}`}\n            variants={modalVariants}\n            onClick={(e) => e.stopPropagation()}\n          >\n            <GlassCard \n              variant=\"hero\" \n              padding=\"none\" \n              shadow=\"xl\"\n              className=\"overflow-hidden\"\n            >\n              {title && (\n                <div className=\"flex items-center justify-between p-6 border-b border-white/10 bg-white/5 backdrop-blur-xl\">\n                  <h2 className=\"text-xl font-semibold text-white bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent\">\n                    {title}\n                  </h2>\n                  <button\n                    onClick={onClose}\n                    className=\"p-2 rounded-xl text-white/70 hover:text-white hover:bg-white/10 transition-all duration-200 backdrop-blur-lg\"\n                  >\n                    <svg className=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n                    </svg>\n                  </button>\n                </div>\n              )}\n              <div className=\"p-6 text-white\">\n                {children}\n              </div>\n            </GlassCard>\n          </motion.div>\n        </motion.div>\n      )}\n    </AnimatePresence>\n  );\n};\n\nexport default Modal;\n"],"names":["React","_ref","portfolio","liveMetrics","marketData","console","log","Object","keys","holdings","length","map","h","symbol","totalPortfolioValue","totalValue","calculateTotalValue","getStockLogo","sector","logoMap","enrichedHoldings","holding","undefined","currentPrice","_objectSpread","logo","purchasePrice","value","shares","costBasis","gainLoss","gainLossPercent","_jsx","className","children","index","_jsxs","companyName","name","concat","toLocaleString","minimumFractionDigits","maximumFractionDigits","toFixed","Math","abs","style","width","id","content","position","delay","props","_objectWithoutProperties","_excluded","isVisible","setIsVisible","useState","timeoutId","setTimeoutId","tooltipRef","useRef","triggerRef","showTooltip","setTimeout","hideTooltip","clearTimeout","useEffect","onMouseEnter","onMouseLeave","onFocus","onBlur","ref","role","top","bottom","left","right","financialTerms","term","simple","full","example","diversification","asset_allocation","return","gain_loss","performance","volatility","stock","etf","bond","dividend","risk_tolerance","risk_profile","market","bull_market","bear_market","rebalance","dollar_cost_averaging","definition","showFull","termInfo","termKey","getTermInfo","toLowerCase","replace","tooltipContent","exampleText","Tooltip","performanceData","staticMetrics","calculatePerformanceMetrics","result","sharpeRatio","diversificationScore","sectorAllocation","totalGainLoss","dayChange","totalCostBasis","totalGainLossPercentage","dayChangePercentage","metrics","label","change","positive","icon","description","toString","slice","metric","FinancialTerm","AddHolding","formData","setFormData","purchaseDate","addHoldingToPortfolio","loading","usePortfolio","onSubmit","async","e","preventDefault","payload","toUpperCase","trim","Number","Date","toISOString","assetType","err","error","type","onChange","target","placeholder","step","disabled","ACCEPTED_TYPES","HEADER_ALIASES","date","price","fadeVariants","hidden","opacity","y","visible","transition","duration","ease","detectColumns","normalized","arguments","cell","String","normalizeHeader","entries","reduce","acc","key","aliases","findIndex","some","alias","includes","normalizeDate","stringValue","isNaN","excelEpoch","UTC","parsedDate","getTime","split","parts","part","padStart","a","b","c","parseWorksheet","worksheet","rows","XLSX","sheet_to_json","header","defval","Error","transformRows","tableRows","dataRows","columnMap","missingColumns","filter","_ref2","_ref3","col","join","row","idx","every","symbolRaw","dateRaw","sharesRaw","priceRaw","parsedRow","data","errors","symbolRegex","VALIDATION_RULES","SYMBOL","test","isFinite","validateRow","Boolean","parseUploadFile","extension","file","pop","arrayBuffer","Promise","resolve","reject","reader","FileReader","onload","event","onerror","readAsArrayBuffer","readFileAsArrayBuffer","workbook","Sheets","SheetNames","text","readAsText","readFileAsText","_ref4","onUploadComplete","currentUser","useAuth","queueToast","useApp","reloadPortfolio","updatePortfolioMetrics","usePortfolioContext","setFile","isDragging","setIsDragging","isParsing","setIsParsing","parsedRows","setParsedRows","setError","isImporting","setIsImporting","fileInputRef","validationSummary","useMemo","total","valid","invalid","validRows","invalidRows","resetState","useCallback","current","handleFileSelection","incomingFile","size","message","validateFile","GlassCard","variant","padding","shadow","onDragEnter","onDragLeave","onDragOver","onDrop","dataTransfer","files","accept","GlassButton","onClick","_fileInputRef$current","click","motion","div","variants","initial","animate","AnimatePresence","exit","hasErrors","values","_ref5","transactionType","user_id","portfolio_id","transaction_type","total_amount","fees","transaction_date","notes","metadata","source","originalShares","originalPrice","insertError","supabase","from","insert","notify","showLoader","PortfolioTracker","transactions","portfolioLoading","portfolioError","portfolioMetrics","marketLoading","marketError","lastUpdated","refreshData","isDataStale","useAlphaVantageData","isAddOpen","setIsAddOpen","selectedTimeframe","setSelectedTimeframe","activeTab","setActiveTab","fadeIn","_result$holdings","assetTypeAllocation","holdingsCount","quickStats","changeAmount","errorState","LoadingSpinner","window","location","reload","toLocaleTimeString","staggerChildren","stat","interactive","timeframe","PortfolioChart","quotes","PerformanceMetrics","HoldingsList","UploadCSV","glow","percentage","colors","colorClass","_Fragment","Modal","isOpen","onClose","title","PortfolioPage","repeat","Infinity","small","default","large","xlarge","scale","damping","stiffness","stopPropagation","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sourceRoot":""}