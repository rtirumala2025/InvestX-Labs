"use strict";(self.webpackChunkinvestx_labs=self.webpackChunkinvestx_labs||[]).push([[42],{8661:(e,t,s)=>{s.r(t),s.d(t,{default:()=>U});var a=s(9643),i=s(7626),r=s(7405),l=s(6780),o=s(4764),n=s(6507);const c=a.memo(e=>{let{portfolio:t,liveMetrics:s,marketData:a}=e;console.log("\ud83d\udccb [HoldingsList] Component rendered with props:"),console.log("\ud83d\udccb [HoldingsList]   Portfolio:",!!t),console.log("\ud83d\udccb [HoldingsList]   Live metrics:",!!s),console.log("\ud83d\udccb [HoldingsList]   Market data keys:",Object.keys(a||{}));const i=(null===s||void 0===s?void 0:s.holdings)||(null===t||void 0===t?void 0:t.holdings)||[];console.log("\ud83d\udccb [HoldingsList] Holdings to display:",i.length),i.length>0&&console.log("\ud83d\udccb [HoldingsList] Holdings symbols:",i.map(e=>e.symbol));const l=(null===s||void 0===s?void 0:s.totalValue)||(0,o.ic)(i);console.log("\ud83d\udccb [HoldingsList] Total portfolio value:",l);const c=(e,t)=>{const s={AAPL:"\ud83c\udf4e",MSFT:"\ud83d\udda5\ufe0f",GOOGL:"\ud83d\udd0d",GOOG:"\ud83d\udd0d",TSLA:"\ud83d\ude97",NVDA:"\ud83c\udfae",AMZN:"\ud83d\udce6",META:"\ud83d\udc65",NFLX:"\ud83c\udfac",SPY:"\ud83d\udcca",QQQ:"\ud83d\udcc8",VTI:"\ud83c\udfdb\ufe0f","BRK.B":"\ud83d\udc8e"};if(s[e])return s[e];return{Technology:"\ud83d\udcbb",Healthcare:"\ud83c\udfe5",Financial:"\ud83c\udfe6",Consumer:"\ud83d\uded2",Energy:"\u26a1",Industrial:"\ud83c\udfed",Materials:"\ud83d\udd27",Utilities:"\ud83d\udca1","Real Estate":"\ud83c\udfe0",ETF:"\ud83d\udcca",Automotive:"\ud83d\ude97"}[t]||"\ud83d\udcc8"},d=i.map(e=>{if(null!==s&&void 0!==s&&s.holdings&&void 0!==e.currentPrice)return(0,r.A)((0,r.A)({},e),{},{logo:c(e.symbol,e.sector)});const t=e.currentPrice||e.purchasePrice,a=e.shares*t,i=e.shares*e.purchasePrice,l=a-i,o=i>0?l/i*100:0;return(0,r.A)((0,r.A)({},e),{},{currentPrice:t,value:a,gainLoss:l,gainLossPercent:o,logo:c(e.symbol,e.sector)})});return(0,n.jsx)("div",{className:"space-y-4",children:d.length>0?(0,n.jsx)("div",{className:"space-y-3",children:d.map((e,t)=>(0,n.jsx)("div",{className:"group",children:(0,n.jsxs)("div",{className:"bg-gradient-to-r from-white/10 to-white/5 rounded-xl border border-white/20 p-6 backdrop-blur-lg hover:from-white/15 hover:to-white/10 transition-all duration-300",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500/20 to-purple-500/20 rounded-xl flex items-center justify-center text-2xl border border-white/10",children:e.logo}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white",children:e.symbol}),e.sector&&(0,n.jsx)("span",{className:"px-2 py-1 bg-blue-500/20 text-blue-300 text-xs rounded-full",children:e.sector})]}),(0,n.jsx)("p",{className:"text-white/70 text-sm",children:e.companyName||e.name||"".concat(e.symbol," Holdings")}),(0,n.jsxs)("p",{className:"text-white/50 text-xs",children:[e.shares," shares"]})]})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsxs)("div",{className:"text-xl font-bold text-white mb-1",children:["$",e.value.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),(0,n.jsxs)("div",{className:"text-sm text-white/70 mb-2",children:["$",e.currentPrice.toFixed(2)," per share"]}),(0,n.jsxs)("div",{className:"flex items-center justify-end space-x-2 ".concat(e.gainLoss>=0?"text-green-400":"text-red-400"),children:[(0,n.jsxs)("span",{className:"text-sm font-medium",children:[e.gainLoss>=0?"+":"","$",Math.abs(e.gainLoss).toFixed(2)]}),(0,n.jsxs)("span",{className:"text-xs",children:["(",e.gainLoss>=0?"+":"",e.gainLossPercent.toFixed(1),"%)"]}),(0,n.jsx)("span",{className:"text-lg",children:e.gainLoss>=0?"\ud83d\udcc8":"\ud83d\udcc9"})]})]})]}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("div",{className:"flex justify-between text-xs text-white/60 mb-1",children:[(0,n.jsx)("span",{children:"Portfolio Allocation"}),(0,n.jsxs)("span",{children:[l>0?(e.value/l*100).toFixed(1):0,"%"]})]}),(0,n.jsx)("div",{className:"w-full bg-white/20 rounded-full h-1",children:(0,n.jsx)("div",{className:"h-1 rounded-full transition-all duration-1000 ".concat(e.gainLoss>=0?"bg-gradient-to-r from-green-400 to-emerald-500":"bg-gradient-to-r from-red-400 to-red-500"),style:{width:"".concat(l>0?e.value/l*100:0,"%")}})})]})]})},e.id||t))}):(0,n.jsx)("div",{className:"text-center py-12",children:(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl border border-white/20 p-8 backdrop-blur-lg",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcc8"}),(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Start Your Investment Journey"}),(0,n.jsx)("p",{className:"text-white/70 mb-6",children:"No holdings found. Add your first investment to get started and watch your portfolio grow!"}),(0,n.jsxs)("div",{className:"flex items-center justify-center space-x-4 text-sm text-white/60",children:[(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-2",children:"\ud83d\udca1"}),(0,n.jsx)("span",{children:"Diversify across sectors"})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-2",children:"\ud83d\udcca"}),(0,n.jsx)("span",{children:"Track performance"})]}),(0,n.jsxs)("div",{className:"flex items-center",children:[(0,n.jsx)("span",{className:"mr-2",children:"\ud83c\udfaf"}),(0,n.jsx)("span",{children:"Set investment goals"})]})]})]})})})});var d=s(9644);const m=["children","content","position","delay","className"],h=e=>{let{children:t,content:s,position:i="top",delay:l=200,className:o=""}=e,c=(0,d.A)(e,m);const[h,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)(null),g=(0,a.useRef)(null),f=(0,a.useRef)(null),b=()=>{const e=setTimeout(()=>{x(!0)},l);p(e)},v=()=>{u&&(clearTimeout(u),p(null)),x(!1)};return(0,a.useEffect)(()=>()=>{u&&clearTimeout(u)},[u]),(0,n.jsxs)("div",(0,r.A)((0,r.A)({className:"relative inline-block ".concat(o),onMouseEnter:b,onMouseLeave:v,onFocus:b,onBlur:v,ref:f},c),{},{children:[t,h&&s&&(0,n.jsxs)("div",{ref:g,role:"tooltip",className:"\n            absolute z-50 px-3 py-2 text-sm text-glassText\n            bg-glassBg border border-glassBorder rounded-lg\n            backdrop-blur-md shadow-glass-lg\n            max-w-xs whitespace-normal\n            ".concat({top:"bottom-full left-1/2 transform -translate-x-1/2 mb-2",bottom:"top-full left-1/2 transform -translate-x-1/2 mt-2",left:"right-full top-1/2 transform -translate-y-1/2 mr-2",right:"left-full top-1/2 transform -translate-y-1/2 ml-2"}[i],"\n            animate-fade-in\n          "),"aria-live":"polite",children:[s,(0,n.jsx)("div",{className:"\n              absolute w-0 h-0 border-4\n              ".concat({top:"top-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-b-transparent border-t-glassBorder",bottom:"bottom-full left-1/2 transform -translate-x-1/2 border-l-transparent border-r-transparent border-t-transparent border-b-glassBorder",left:"left-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-r-transparent border-l-glassBorder",right:"right-full top-1/2 transform -translate-y-1/2 border-t-transparent border-b-transparent border-l-transparent border-r-glassBorder"}[i],"\n            ")})]})]}))},x={portfolio:{term:"Portfolio",simple:"Your collection of investments",full:"A portfolio is like a collection of different investments you own, such as stocks, bonds, or funds. It helps spread out risk.",example:"Like having different types of games in your collection instead of just one."},holding:{term:"Holding",simple:"An investment you own",full:"A holding is a specific investment in your portfolio, like shares of a company or units of a fund.",example:"If you own 10 shares of Apple, that's a holding."},diversification:{term:"Diversification",simple:"Spreading your money across different investments",full:"Diversification means not putting all your money in one place. It helps reduce risk because if one investment does poorly, others might do well.",example:"Like not spending all your allowance on one thing - you spread it out."},asset_allocation:{term:"Asset Allocation",simple:"How you divide your money between different types of investments",full:"Asset allocation is the mix of different types of investments in your portfolio, like stocks, bonds, and cash.",example:"Like deciding how much of your money goes to games, clothes, and savings."},return:{term:"Return",simple:"How much money you made or lost",full:"Return is the profit or loss you make on an investment. It can be positive (you made money) or negative (you lost money).",example:"If you bought a game for $50 and sold it for $60, your return is $10."},gain_loss:{term:"Gain/Loss",simple:"Money you made or lost",full:"Gain is profit from an investment. Loss is when you lose money. It's calculated as the difference between what you paid and current value.",example:"If your stock went from $100 to $120, you have a $20 gain."},performance:{term:"Performance",simple:"How well your investments are doing",full:"Performance measures how your investments are doing over time, usually shown as a percentage gain or loss.",example:"If your portfolio went up 10%, that's good performance."},volatility:{term:"Volatility",simple:"How much prices go up and down",full:"Volatility measures how much an investment's price changes. High volatility means big swings up and down.",example:"Like a roller coaster - some investments have big ups and downs, others are smoother."},stock:{term:"Stock",simple:"A small piece of a company",full:"A stock (or share) is a small piece of ownership in a company. When you buy stock, you own part of that company.",example:"Like owning a tiny piece of your favorite game company."},etf:{term:"ETF",simple:"A bundle of different investments",full:"ETF stands for Exchange-Traded Fund. It's like a basket that holds many different stocks or bonds, so you can buy them all at once.",example:"Like buying a variety pack of snacks instead of individual items."},bond:{term:"Bond",simple:"Loaning money to a company or government",full:"A bond is like a loan you give to a company or government. They promise to pay you back with interest over time.",example:"Like lending a friend $10 and they pay you back $11 next month."},dividend:{term:"Dividend",simple:"Money a company pays you for owning their stock",full:"A dividend is a payment some companies make to shareholders from their profits. It's like getting a small reward for owning the stock.",example:"Like getting a small bonus for being a loyal customer."},risk_tolerance:{term:"Risk Tolerance",simple:"How comfortable you are with losing money",full:"Risk tolerance is how much risk you're willing to take with your investments. Some people prefer safer, steadier investments, while others are okay with more risk for potentially higher returns.",example:"Like choosing between a safe, slow ride or a fast, exciting one."},risk_profile:{term:"Risk Profile",simple:"Your investment style based on how much risk you can handle",full:"Your risk profile describes your investment style - conservative (safer), moderate (balanced), or aggressive (riskier for higher potential returns).",example:"Like your personality type, but for investing."},market:{term:"Market",simple:"Where people buy and sell investments",full:"The market is where stocks, bonds, and other investments are bought and sold. Prices change based on supply and demand.",example:"Like a marketplace where people trade items, but for investments."},bull_market:{term:"Bull Market",simple:"When prices are going up",full:"A bull market is when stock prices are generally rising and people are optimistic about the economy.",example:"Like when everything is going well and prices keep going up."},bear_market:{term:"Bear Market",simple:"When prices are going down",full:"A bear market is when stock prices are generally falling and people are pessimistic about the economy.",example:"Like when things are tough and prices keep going down."},rebalance:{term:"Rebalance",simple:"Adjusting your investments to match your goals",full:"Rebalancing means adjusting your portfolio to get back to your target mix of investments. Over time, some investments grow more than others, so you adjust.",example:"Like reorganizing your room to keep things balanced."},dollar_cost_averaging:{term:"Dollar Cost Averaging",simple:"Investing the same amount regularly",full:"Dollar cost averaging means investing a fixed amount regularly, regardless of price. This can help reduce the impact of market volatility.",example:"Like putting $10 in your savings every week, no matter what."}},u=e=>{let{term:t,children:s,definition:a,showFull:i=!1}=e;const r=(e=>x[e]||{term:e,simple:"Financial term",full:"Definition not available",example:""})(t.toLowerCase().replace(/\s+/g,"_")),l=a||(i?r.full:r.simple),o=r.example?"\n\nExample: ".concat(r.example):"";return l&&"Financial term"!==l?(0,n.jsx)(h,{content:"".concat(l).concat(o),children:(0,n.jsx)("span",{className:"underline decoration-dotted decoration-blue-400/50 underline-offset-2 cursor-help text-blue-300 hover:text-blue-200 transition-colors",children:s||r.term})}):(0,n.jsx)("span",{children:s})},p=a.memo(e=>{let{portfolio:t,liveMetrics:s,marketData:i}=e;console.log("\ud83d\udcca [PerformanceMetrics] Component rendered with props:"),console.log("\ud83d\udcca [PerformanceMetrics]   Portfolio:",!!t),console.log("\ud83d\udcca [PerformanceMetrics]   Live metrics:",!!s),console.log("\ud83d\udcca [PerformanceMetrics]   Market data keys:",Object.keys(i||{}));const l=(null===s||void 0===s?void 0:s.holdings)||(null===t||void 0===t?void 0:t.holdings)||[],c=a.useMemo(()=>{if(console.log("\ud83d\udcca [PerformanceMetrics] Calculating performance data..."),s&&Object.keys(s).length>0){console.log("\ud83d\udcca [PerformanceMetrics] \u2705 Using live metrics for performance data");const e=(0,o.wb)(l),t=(0,r.A)((0,r.A)({},s),{},{sharpeRatio:e.sharpeRatio||0,volatility:e.volatility||0,diversificationScore:e.diversificationScore||0,sectorAllocation:e.sectorAllocation||{}});return console.log("\ud83d\udcca [PerformanceMetrics] \ud83d\udcc8 Live performance data:",{totalValue:t.totalValue,totalGainLoss:t.totalGainLoss,dayChange:t.dayChange,diversificationScore:t.diversificationScore}),t}if(!l||0===l.length)return console.log("\ud83d\udcca [PerformanceMetrics] \u26a0\ufe0f Empty portfolio - showing zero performance data"),{totalValue:0,totalCostBasis:0,totalGainLoss:0,totalGainLossPercentage:0,dayChange:0,dayChangePercentage:0,sharpeRatio:0,volatility:0,diversificationScore:0,sectorAllocation:{}};console.log("\ud83d\udcca [PerformanceMetrics] \ud83d\udd04 Using static calculations for performance data");const e=(0,o.wb)(l);return console.log("\ud83d\udcca [PerformanceMetrics] \ud83d\udcc8 Static performance data:",{totalValue:e.totalValue,totalGainLoss:e.totalGainLoss,diversificationScore:e.diversificationScore}),e},[s,l]),d=[{label:"Total Return",value:"".concat(c.totalGainLossPercentage>=0?"+":"").concat(c.totalGainLossPercentage.toFixed(2),"%"),change:"".concat(c.totalGainLoss>=0?"+":"","$").concat(Math.abs(c.totalGainLoss).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),positive:c.totalGainLoss>=0,icon:"\ud83d\udcc8",description:"All-time performance"},{label:"Today's Change",value:"".concat((c.dayChange||0)>=0?"+":"","$").concat(Math.abs(c.dayChange||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),change:"".concat((c.dayChangePercentage||0)>=0?"+":"").concat((c.dayChangePercentage||0).toFixed(2),"%"),positive:(c.dayChange||0)>=0,icon:"\ud83d\udcca",description:"Change since yesterday"},{label:"Sharpe Ratio",value:c.sharpeRatio.toFixed(2),change:c.sharpeRatio>1?"Excellent":c.sharpeRatio>.5?"Good":"Fair",positive:c.sharpeRatio>.5,icon:"\u2696\ufe0f",description:"Risk-adjusted returns"},{label:"Diversification",value:"".concat(c.diversificationScore,"/100"),change:c.diversificationScore>70?"Well diversified":c.diversificationScore>40?"Moderate":"Concentrated",positive:c.diversificationScore>40,icon:"\ud83d\udee1\ufe0f",description:"Portfolio diversification score"},{label:"Volatility",value:"".concat((100*c.volatility).toFixed(1),"%"),change:c.volatility<.15?"Low risk":c.volatility<.25?"Medium risk":"High risk",positive:c.volatility<.2,icon:"\ud83d\udcc9",description:"Price fluctuation estimate"},{label:"Holdings Count",value:l.length.toString(),change:"".concat(Object.keys(c.sectorAllocation).length," sectors"),positive:l.length>0,icon:"\ud83c\udfaf",description:"Number of positions"}];return(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.slice(0,3).map((e,t)=>(0,n.jsx)("div",{className:"relative group",children:(0,n.jsxs)("div",{className:"bg-gradient-to-br from-white/10 to-white/5 rounded-xl border border-white/20 p-6 backdrop-blur-lg hover:from-white/15 hover:to-white/10 transition-all duration-300",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),(0,n.jsx)("div",{className:"px-2 py-1 rounded-full text-xs ".concat(e.positive?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"),children:e.change})]}),(0,n.jsx)("h3",{className:"text-sm font-medium text-white/70 mb-2",children:"Diversification"===e.label?(0,n.jsx)(u,{term:"diversification",children:e.label}):"Total Return"===e.label?(0,n.jsx)(u,{term:"return",children:e.label}):"Volatility"===e.label?(0,n.jsx)(u,{term:"volatility",children:e.label}):e.label}),(0,n.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:e.value}),(0,n.jsx)("p",{className:"text-xs text-white/60",children:e.description})]})},t))}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:d.slice(3).map((e,t)=>(0,n.jsx)("div",{className:"relative group",children:(0,n.jsxs)("div",{className:"bg-gradient-to-br from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 p-6 backdrop-blur-lg hover:from-blue-500/15 hover:to-purple-500/15 transition-all duration-300",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,n.jsx)("span",{className:"text-2xl",children:e.icon}),(0,n.jsx)("div",{className:"px-2 py-1 rounded-full text-xs ".concat(e.positive?"bg-green-500/20 text-green-300":"bg-red-500/20 text-red-300"),children:e.change})]}),(0,n.jsx)("h3",{className:"text-sm font-medium text-white/70 mb-2",children:"Diversification"===e.label?(0,n.jsx)(u,{term:"diversification",children:e.label}):"Total Return"===e.label?(0,n.jsx)(u,{term:"return",children:e.label}):"Volatility"===e.label?(0,n.jsx)(u,{term:"volatility",children:e.label}):e.label}),(0,n.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:e.value}),(0,n.jsx)("p",{className:"text-xs text-white/60",children:e.description})]})},t))}),l.length>0?(0,n.jsxs)("div",{className:"bg-gradient-to-r ".concat(c.totalGainLoss>=0?"from-green-500/10 to-emerald-500/10 border-green-400/20":"from-red-500/10 to-red-600/10 border-red-400/20"," rounded-xl border p-6 backdrop-blur-lg"),children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Portfolio Health Score"}),(0,n.jsx)("p",{className:"".concat(c.totalGainLoss>=0?"text-green-300":"text-red-300"," text-sm"),children:c.totalGainLoss>=0?"Your portfolio is performing well with positive returns":"Your portfolio is currently experiencing losses but stay focused on long-term goals"})]}),(0,n.jsxs)("div",{className:"text-right",children:[(0,n.jsx)("div",{className:"text-3xl font-bold ".concat(c.diversificationScore>70?"text-green-400":c.diversificationScore>40?"text-yellow-400":"text-red-400"," mb-1"),children:c.diversificationScore>70?"A":c.diversificationScore>40?"B":"C"}),(0,n.jsxs)("div",{className:"text-sm ".concat(c.diversificationScore>70?"text-green-300":c.diversificationScore>40?"text-yellow-300":"text-red-300"),children:[c.diversificationScore,"/100"]})]})]}),(0,n.jsx)("div",{className:"mt-4 w-full bg-white/20 rounded-full h-2",children:(0,n.jsx)("div",{className:"h-2 rounded-full transition-all duration-1000 ".concat(c.diversificationScore>70?"bg-gradient-to-r from-green-400 to-emerald-500":c.diversificationScore>40?"bg-gradient-to-r from-yellow-400 to-yellow-500":"bg-gradient-to-r from-red-400 to-red-500"),style:{width:"".concat(c.diversificationScore,"%")}})})]}):(0,n.jsx)("div",{className:"bg-gradient-to-r from-blue-500/10 to-purple-500/10 rounded-xl border border-blue-400/20 p-6 backdrop-blur-lg",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-4xl mb-3",children:"\ud83d\udcc8"}),(0,n.jsx)("h3",{className:"text-lg font-semibold text-white mb-2",children:"Ready to Start Investing?"}),(0,n.jsx)("p",{className:"text-blue-300 text-sm mb-4",children:"Add your first holding to see detailed performance metrics and portfolio analysis"}),(0,n.jsx)("div",{className:"text-2xl font-bold text-blue-400",children:"0%"}),(0,n.jsx)("div",{className:"text-sm text-blue-300",children:"Portfolio Performance"})]})})]})});var g=s(3351);const f=()=>{const[e,t]=(0,a.useState)({symbol:"",shares:"",purchasePrice:"",purchaseDate:""}),{addHoldingToPortfolio:s,loading:i}=(0,g.g)();return(0,n.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Add Holding"}),(0,n.jsxs)("form",{onSubmit:async a=>{if(a.preventDefault(),!e.symbol||!e.shares||!e.purchasePrice)return;const i={symbol:e.symbol.toUpperCase().trim(),companyName:e.companyName||"",shares:Number(e.shares),purchasePrice:Number(e.purchasePrice),purchaseDate:e.purchaseDate||(new Date).toISOString().slice(0,10),sector:e.sector||"",assetType:e.assetType||"Stock"};try{await s(i),t({symbol:"",shares:"",purchasePrice:"",purchaseDate:""})}catch(r){console.error("Failed to add holding",r)}},className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Symbol"}),(0,n.jsx)("input",{type:"text",value:e.symbol,onChange:s=>t((0,r.A)((0,r.A)({},e),{},{symbol:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"e.g., AAPL"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Shares"}),(0,n.jsx)("input",{type:"number",value:e.shares,onChange:s=>t((0,r.A)((0,r.A)({},e),{},{shares:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Number of shares"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Price"}),(0,n.jsx)("input",{type:"number",step:"0.01",value:e.purchasePrice,onChange:s=>t((0,r.A)((0,r.A)({},e),{},{purchasePrice:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Price per share"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),(0,n.jsx)("input",{type:"date",value:e.purchaseDate,onChange:s=>t((0,r.A)((0,r.A)({},e),{},{purchaseDate:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,n.jsx)("button",{type:"submit",disabled:i,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:i?"Adding\u2026":"Add Holding"})]})]})};var b=s(3795),v=s(8008),y=s(2830),j=s(581),w=s(9534),N=s(6481),k=s(9738),A=s(1672),P=s(8791);const L=[".csv",".xlsx",".xls"],S={symbol:["symbol","ticker"],date:["date","transaction date","trade date"],shares:["shares","quantity","qty","units"],price:["price","cost","rate","fill price"]},C={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.25,ease:"easeOut"}}},D=function(){const e=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(e=>String(e||"").trim().toLowerCase())}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]);return Object.entries(S).reduce((t,s)=>{let[a,i]=s;return t[a]=e.findIndex(e=>i.some(t=>e.includes(t))),t},{})},M=e=>{if(!e)return null;const t=String(e).trim();if(!Number.isNaN(Number(t))&&Number(t)>4e4){const e=new Date(Date.UTC(1899,11,30)),s=new Date(e.getTime()+864e5*Number(t));return Number.isNaN(s.getTime())?null:s.toISOString().split("T")[0]}const s=new Date(t);if(!Number.isNaN(s.getTime()))return s.toISOString().split("T")[0];const a=t.replace(/-/g,"/").split("/").map(e=>e.padStart(2,"0"));if(3===a.length){const[e,t,s]=a;return Number(s)>31?"".concat(2===s.length?"20".concat(s):s,"-").concat(e,"-").concat(t):Number(e)>12?"".concat(2===s.length?"20".concat(s):s,"-").concat(t,"-").concat(e):"".concat(2===s.length?"20".concat(s):s,"-").concat(e,"-").concat(t)}return null},T=e=>{const t=v.Wp.sheet_to_json(e,{header:1,defval:""});if(!t.length)throw new Error("The file is empty.");return t},F=e=>{const t=e[0],s=e.slice(1),a=D(t),i=Object.entries(a).filter(e=>{let[,t]=e;return-1===t}).map(e=>{let[t]=e;return t});if(i.length)throw new Error("Missing required columns: ".concat(i.map(e=>e.toUpperCase()).join(", ")));return s.map((e,t)=>{if(!e||0===e.length||e.every(e=>!String(e).trim()))return null;const s=e[a.symbol],i=e[a.date],r=e[a.shares],l=e[a.price],o={id:t+1,data:{symbol:String(s||"").trim().toUpperCase(),date:M(i),shares:Number(r),price:Number(l)}};return o.errors=(e=>{const t={},s=(null===P.gY||void 0===P.gY?void 0:P.gY.SYMBOL)||/^[A-Z]{1,5}$/;return e.symbol&&s.test(e.symbol)||(t.symbol="Invalid or missing symbol"),e.date||(t.date="Invalid date"),Number.isFinite(e.shares)&&0!==e.shares||(t.shares="Shares must be a non-zero number"),(!Number.isFinite(e.price)||e.price<=0)&&(t.price="Price must be greater than zero"),t})(o.data),o}).filter(Boolean)},R=async e=>{const t=e.name.split(".").pop().toLowerCase();if("xlsx"===t||"xls"===t){const t=await(e=>new Promise((t,s)=>{const a=new FileReader;a.onload=e=>t(e.target.result),a.onerror=()=>s(new Error("Unable to read file")),a.readAsArrayBuffer(e)}))(e),s=v.LF(t,{type:"array"}),a=s.Sheets[s.SheetNames[0]],i=T(a);return F(i)}if("csv"===t){const t=await(e=>new Promise((t,s)=>{const a=new FileReader;a.onload=e=>t(e.target.result),a.onerror=()=>s(new Error("Unable to read file")),a.readAsText(e)}))(e),s=v.LF(t,{type:"string"}),a=s.Sheets[s.SheetNames[0]],i=T(a);return F(i)}throw new Error("Unsupported file type.")},G=e=>{let{onUploadComplete:t}=e;const{currentUser:s}=(0,y.A)(),{queueToast:r}=(0,j.nm)(),{portfolio:l,reloadPortfolio:o,updatePortfolioMetrics:c}=(0,w.P)(),[d,m]=(0,a.useState)(null),[h,x]=(0,a.useState)(!1),[u,p]=(0,a.useState)(!1),[g,f]=(0,a.useState)([]),[v,P]=(0,a.useState)(null),[S,D]=(0,a.useState)(!1),M=(0,a.useRef)(null),T=(0,a.useMemo)(()=>{if(!g.length)return{total:0,valid:0,invalid:0,validRows:[],invalidRows:[]};const e=g.filter(e=>0===Object.keys(e.errors).length),t=g.filter(e=>Object.keys(e.errors).length>0);return{total:g.length,valid:e.length,invalid:t.length,validRows:e,invalidRows:t}},[g]),F=(0,a.useCallback)(()=>{m(null),f([]),P(null),p(!1),D(!1),M.current&&(M.current.value="")},[]),G=(0,a.useCallback)(async e=>{if(s){if((e=>{if(!e)return!1;if(e.size>5242880)return P("File size exceeds 5MB limit."),r("File size exceeds 5MB limit.","error"),!1;const t=".".concat(e.name.split(".").pop().toLowerCase());if(!L.includes(t)){const e="Unsupported file type. Please provide ".concat(L.join(", "),".");return P(e),r(e,"error"),!1}return!0})(e)){p(!0),P(null),m(e);try{const t=await R(e);f(t),t.length||(P("No valid rows found in the file."),r("No valid rows found in the file.","warning"))}catch(t){console.error("CSV parse error",t);const e=t.message||"Unable to parse file. Please verify the template.";P(e),f([]),r(e,"error")}finally{p(!1)}}}else r("You must be signed in to upload transactions.","error")},[s,r]);return(0,n.jsx)(k.A,{variant:"floating",padding:"large",shadow:"xl",children:(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-2",children:"Import Portfolio Transactions"}),(0,n.jsx)("p",{className:"text-white/70 text-sm",children:"Upload a CSV or Excel file containing your trades. We'll validate each row, highlight any issues, and import the valid transactions directly into your Supabase-backed portfolio."})]}),(0,n.jsx)("div",{className:"\n            border-2 border-dashed rounded-2xl p-8 transition-all duration-200\n            ".concat(h?"border-blue-400 bg-blue-500/10":"border-white/15 hover:border-white/30","\n          "),onDragEnter:e=>{e.preventDefault(),x(!0)},onDragLeave:e=>{e.preventDefault(),x(!1)},onDragOver:e=>{e.preventDefault()},onDrop:e=>{e.preventDefault(),x(!1);const[t]=e.dataTransfer.files||[];t&&G(t)},children:(0,n.jsxs)("div",{className:"flex flex-col items-center space-y-4 text-center",children:[(0,n.jsx)("div",{className:"text-4xl",children:"\ud83d\udce5"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-white text-lg font-medium mb-2",children:"Drag & drop your file here"}),(0,n.jsx)("p",{className:"text-white/60 text-sm mb-4",children:"Or click below to browse your computer"}),(0,n.jsx)("input",{ref:M,type:"file",accept:L.join(","),onChange:e=>{const[t]=e.target.files||[];t&&G(t)},className:"hidden"}),(0,n.jsx)(A.A,{variant:"primary",size:"medium",onClick:()=>{var e;return null===(e=M.current)||void 0===e?void 0:e.click()},children:"Select File"})]}),(0,n.jsx)("p",{className:"text-white/50 text-xs",children:"Supported: CSV, XLSX, XLS \u2022 Max 5MB \u2022 Required columns: symbol, date, shares, price"})]})}),(d||v)&&(0,n.jsxs)(i.P.div,{variants:C,initial:"hidden",animate:"visible",className:"bg-white/5 border border-white/10 rounded-xl p-4 space-y-3",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-white font-medium",children:null===d||void 0===d?void 0:d.name}),(0,n.jsx)("p",{className:"text-white/60 text-xs",children:d?"".concat((d.size/1024).toFixed(1)," KB"):"No file selected"})]}),(0,n.jsx)("div",{className:"flex space-x-2",children:d&&(0,n.jsx)(A.A,{variant:"ghost",size:"small",onClick:F,disabled:u||S,children:"Reset"})})]}),v&&(0,n.jsx)("p",{className:"text-sm text-red-300 bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:v}),u&&(0,n.jsx)("p",{className:"text-sm text-white/60",children:"Parsing file\u2026"})]}),(0,n.jsx)(b.N,{children:g.length>0&&(0,n.jsxs)(i.P.div,{variants:C,initial:"hidden",animate:"visible",exit:"hidden",className:"space-y-4",children:[(0,n.jsx)("div",{className:"bg-white/5 border border-white/10 rounded-xl p-4",children:(0,n.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-white/60 text-xs uppercase tracking-wide",children:"Total Rows"}),(0,n.jsx)("p",{className:"text-lg font-semibold text-white",children:T.total})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-white/60 text-xs uppercase tracking-wide",children:"Ready to Import"}),(0,n.jsx)("p",{className:"text-lg font-semibold text-emerald-300",children:T.valid})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"text-white/60 text-xs uppercase tracking-wide",children:"Needs Attention"}),(0,n.jsx)("p",{className:"text-lg font-semibold text-amber-300",children:T.invalid})]})]})}),(0,n.jsxs)("div",{className:"overflow-x-auto border border-white/10 rounded-xl",children:[(0,n.jsxs)("table",{className:"min-w-full divide-y divide-white/10 text-sm",children:[(0,n.jsx)("thead",{className:"bg-white/10 text-white/70",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-2 text-left font-medium",children:"#"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left font-medium",children:"Symbol"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left font-medium",children:"Date"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left font-medium",children:"Shares"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left font-medium",children:"Price"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left font-medium",children:"Status"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-white/5",children:g.slice(0,25).map(e=>{const t=Object.keys(e.errors).length>0;return(0,n.jsxs)("tr",{className:t?"bg-red-500/5":"bg-white/5",children:[(0,n.jsx)("td",{className:"px-4 py-2 text-white/70",children:e.id}),(0,n.jsx)("td",{className:"px-4 py-2 ".concat(e.errors.symbol?"text-red-300":"text-white"),children:e.data.symbol||"\u2014"}),(0,n.jsx)("td",{className:"px-4 py-2 ".concat(e.errors.date?"text-red-300":"text-white"),children:e.data.date||"\u2014"}),(0,n.jsx)("td",{className:"px-4 py-2 ".concat(e.errors.shares?"text-red-300":"text-white"),children:Number.isFinite(e.data.shares)?e.data.shares:"\u2014"}),(0,n.jsx)("td",{className:"px-4 py-2 ".concat(e.errors.price?"text-red-300":"text-white"),children:Number.isFinite(e.data.price)?e.data.price:"\u2014"}),(0,n.jsx)("td",{className:"px-4 py-2 text-white/70",children:t?(0,n.jsx)("div",{className:"space-y-1 text-xs text-red-300",children:Object.values(e.errors).map((e,t)=>(0,n.jsxs)("div",{children:["\u2022 ",e]},t))}):(0,n.jsx)("span",{className:"text-emerald-300",children:"Ready"})})]},e.id)})})]}),g.length>25&&(0,n.jsxs)("p",{className:"text-xs text-white/50 px-4 py-3",children:["Showing first 25 rows of ",g.length,". Invalid rows must be fixed before importing."]})]}),T.invalid>0&&(0,n.jsx)("p",{className:"text-sm text-amber-300 bg-amber-500/10 border border-amber-500/20 rounded-lg p-3",children:"Fix highlighted rows in your source file and re-upload to include them in the import."}),(0,n.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[(0,n.jsx)(A.A,{variant:"ghost",size:"medium",onClick:F,disabled:u||S,children:"Choose Another File"}),(0,n.jsxs)(A.A,{variant:"primary",size:"medium",onClick:async()=>{if(s&&null!==l&&void 0!==l&&l.id)if(T.validRows.length){D(!0);try{const e=T.validRows.map(e=>{let{data:t}=e;const a=t.shares>=0?"buy":"sell",i=Math.abs(t.shares),r=Math.abs(t.price);return{user_id:s.id,portfolio_id:l.id,symbol:t.symbol,transaction_type:a,shares:i,price:r,total_amount:Number((i*r).toFixed(2)),fees:0,transaction_date:t.date,notes:"Imported via CSV uploader",metadata:{source:"csv_upload",originalShares:t.shares,originalPrice:t.price}}}),{error:a}=await N.N.from("transactions").insert(e);if(a)throw a;r("Imported ".concat(e.length," transactions successfully."),"success"),await(null===o||void 0===o?void 0:o()),await(null===c||void 0===c?void 0:c({notify:!1,showLoader:!1})),t&&t(e),F()}catch(e){console.error("Import error",e),r(e.message||"Unable to import transactions.","error")}finally{D(!1)}}else r("No valid rows to import.","warning");else r("Portfolio not ready yet. Please try again.","error")},disabled:u||S||!T.validRows.length,loading:S,children:["Import ",T.validRows.length||""," Transactions"]})]})]})})]})})};var I=s(8814),O=s(334),H=s(9811);const V=()=>{const{portfolio:e,holdings:t,transactions:s,loading:d,error:m}=(0,g.g)(),{portfolioMetrics:h,marketData:x,loading:b,error:v,lastUpdated:y,refreshData:j,isDataStale:w}=(0,I.y)(t||[]),[N,P]=(0,a.useState)(!1),[L,S]=(0,a.useState)("1M"),[C,D]=(0,a.useState)("overview"),M={hidden:{opacity:0,y:16},visible:{opacity:1,y:0,transition:{duration:.6,ease:"easeOut"}}},T=a.useMemo(()=>{if(console.log("\ud83d\udcca [PortfolioTracker] Calculating portfolio metrics..."),console.log("\ud83d\udcca [PortfolioTracker] Live metrics available:",!!h),console.log("\ud83d\udcca [PortfolioTracker] Holdings count:",(null===t||void 0===t?void 0:t.length)||0),h&&h.holdings){var e;console.log("\ud83d\udcca [PortfolioTracker] \u2705 Using live market data for calculations");const t=(0,o.wb)(h.holdings),s=(0,r.A)((0,r.A)({},h),{},{sectorAllocation:t.sectorAllocation,assetTypeAllocation:t.assetTypeAllocation,diversificationScore:t.diversificationScore});return console.log("\ud83d\udcca [PortfolioTracker] \ud83d\udcc8 Live portfolio metrics:",{totalValue:s.totalValue,dayChange:s.dayChange,totalGainLoss:s.totalGainLoss,holdingsCount:null===(e=s.holdings)||void 0===e?void 0:e.length}),s}if(!t||0===t.length)return console.log("\ud83d\udcca [PortfolioTracker] \u26a0\ufe0f Empty portfolio - showing zero values"),{totalValue:0,totalCostBasis:0,totalGainLoss:0,totalGainLossPercentage:0,dayChange:0,dayChangePercentage:0,sectorAllocation:{},assetTypeAllocation:{},diversificationScore:0,holdings:[]};console.log("\ud83d\udcca [PortfolioTracker] \ud83d\udd04 Using static calculations as fallback");const s=(0,o.wb)(t);return console.log("\ud83d\udcca [PortfolioTracker] \ud83d\udcc8 Static portfolio metrics:",{totalValue:s.totalValue,totalGainLoss:s.totalGainLoss}),s},[h,t]),F=[{label:"Total Value",value:"$".concat(T.totalValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),change:"".concat(T.totalGainLossPercentage>=0?"+":"").concat(T.totalGainLossPercentage.toFixed(2),"%"),changeAmount:"".concat(T.totalGainLoss>=0?"+":"","$").concat(Math.abs(T.totalGainLoss).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),positive:T.totalGainLoss>=0},{label:"Today's Change",value:"".concat(T.dayChange>=0?"+":"","$").concat(Math.abs(T.dayChange||0).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),change:"".concat(T.dayChangePercentage>=0?"+":"").concat((T.dayChangePercentage||0).toFixed(2),"%"),changeAmount:"Since yesterday",positive:(T.dayChange||0)>=0},{label:"Total Return",value:"".concat(T.totalGainLoss>=0?"+":"","$").concat(Math.abs(T.totalGainLoss).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})),change:"".concat(T.totalGainLossPercentage>=0?"+":"").concat(T.totalGainLossPercentage.toFixed(2),"%"),changeAmount:"All time",positive:T.totalGainLoss>=0},{label:"Holdings",value:(null===t||void 0===t?void 0:t.length)||0,change:(null===t||void 0===t?void 0:t.length)>0?"Diversified":"Add Holdings",changeAmount:(null===t||void 0===t?void 0:t.length)>0?"".concat(Object.keys(T.sectorAllocation||{}).length," sectors"):"Get started",positive:((null===t||void 0===t?void 0:t.length)||0)>0}],R=d||b,V=m||v;return d?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)(O.Ay,{size:"large"}),(0,n.jsx)("p",{className:"mt-4 text-gray-300",children:"Loading your portfolio..."})]})}):m?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,n.jsx)("h2",{className:"text-2xl font-bold mb-2 text-white",children:"Unable to Load Portfolio"}),(0,n.jsx)("p",{className:"text-gray-300 mb-4",children:m}),(0,n.jsx)(A.A,{onClick:()=>window.location.reload(),variant:"primary",children:"Try Again"})]})}):(0,n.jsxs)("div",{className:"w-full max-w-[1920px] mx-auto px-3 lg:px-4 xl:px-6 py-4 lg:py-6",children:[(0,n.jsxs)(i.P.div,{variants:M,initial:"hidden",animate:"visible",className:"mb-4 lg:mb-6",children:[(0,n.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl md:text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-300 via-purple-300 to-orange-300 mb-2",children:"Portfolio Tracker \ud83d\udcc8"}),(0,n.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,n.jsx)("p",{className:"text-gray-300 text-base lg:text-lg",children:"Monitor your investments and track performance in real-time"}),b&&(0,n.jsxs)("div",{className:"flex items-center space-x-2 text-blue-400 text-sm",children:[(0,n.jsx)(O.Ay,{size:"small"}),(0,n.jsx)("span",{children:"Updating prices..."})]}),y&&!b&&(0,n.jsxs)("span",{className:"text-gray-500 text-sm",children:["Last updated: ",new Date(y).toLocaleTimeString(),w()&&(0,n.jsx)("span",{className:"text-yellow-400 ml-1",children:"(Stale)"})]})]})]}),(0,n.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center space-x-3",children:[t&&t.length>0&&(0,n.jsx)(A.A,{onClick:j,variant:"glass",size:"default",disabled:b,children:b?"Refreshing...":"Refresh Prices"}),(0,n.jsx)(A.A,{onClick:()=>P(!0),variant:"primary",size:"default",className:"shadow-lg",children:"+ Add Investment"})]})]}),v&&(0,n.jsx)("div",{className:"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg",children:(0,n.jsxs)("p",{className:"text-yellow-300 text-sm",children:["\u26a0\ufe0f Market data unavailable: ",v,". Showing last known prices."]})})]}),(0,n.jsx)(i.P.div,{variants:{visible:{transition:{staggerChildren:.1}}},initial:"hidden",animate:"visible",className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:F.map((e,t)=>(0,n.jsx)(i.P.div,{variants:M,children:(0,n.jsxs)(k.A,{variant:"default",padding:"large",interactive:!0,className:"text-center group",children:[(0,n.jsx)("h3",{className:"text-sm font-medium text-white/70 mb-2",children:"Total Value"===e.label?(0,n.jsx)(u,{term:"portfolio",children:e.label}):"Holdings"===e.label?(0,n.jsx)(u,{term:"holding",children:e.label}):e.label}),(0,n.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:e.value}),(0,n.jsx)("p",{className:"text-sm ".concat(e.positive?"text-green-400":"text-red-400"),children:e.change}),(0,n.jsx)("p",{className:"text-xs text-white/50 mt-1",children:e.changeAmount})]})},t))}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 lg:gap-6",children:[(0,n.jsxs)("div",{className:"lg:col-span-3 space-y-4 lg:space-y-6",children:[(0,n.jsx)(i.P.div,{variants:M,initial:"hidden",animate:"visible",children:(0,n.jsxs)(k.A,{variant:"hero",padding:"large",shadow:"xl",children:[(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-white mb-4 sm:mb-0",children:"Portfolio Performance"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:["1D","1W","1M","3M","1Y","ALL"].map(e=>(0,n.jsx)("button",{onClick:()=>S(e),className:"px-3 py-1 text-sm rounded-lg transition-all ".concat(L===e?"bg-blue-500/30 text-white border border-blue-400/30":"bg-white/10 text-white/70 hover:text-white hover:bg-white/20"),children:e},e))})]}),(0,n.jsx)(l.A,{portfolio:e,holdings:t,transactions:s,marketData:(null===x||void 0===x?void 0:x.quotes)||x||{},timeframe:L,loading:R,error:V})]})}),(0,n.jsx)(i.P.div,{variants:M,initial:"hidden",animate:"visible",children:(0,n.jsxs)(k.A,{variant:"default",padding:"large",shadow:"large",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-white mb-6",children:"Performance Metrics"}),(0,n.jsx)(p,{portfolio:e,liveMetrics:h,marketData:x})]})}),(0,n.jsx)(i.P.div,{variants:M,initial:"hidden",animate:"visible",children:(0,n.jsxs)(k.A,{variant:"default",padding:"large",shadow:"large",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-semibold text-white",children:"Portfolio Management"}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("button",{onClick:()=>D("overview"),className:"px-4 py-2 text-sm rounded-lg transition-all ".concat("overview"===C?"bg-blue-500/30 text-white border border-blue-400/30":"bg-white/10 text-white/70 hover:text-white hover:bg-white/20"),children:"Holdings"}),(0,n.jsx)("button",{onClick:()=>D("upload"),className:"px-4 py-2 text-sm rounded-lg transition-all ".concat("upload"===C?"bg-blue-500/30 text-white border border-blue-400/30":"bg-white/10 text-white/70 hover:text-white hover:bg-white/20"),children:"\ud83d\udcc4 Upload CSV"})]})]}),"overview"===C?(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white/90",children:"Your Holdings"}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)("button",{className:"px-3 py-1 text-sm bg-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/20 transition-all",children:"Value"}),(0,n.jsx)("button",{className:"px-3 py-1 text-sm bg-blue-500/30 rounded-lg text-white",children:"Performance"}),(0,n.jsx)("button",{className:"px-3 py-1 text-sm bg-white/10 rounded-lg text-white/70 hover:text-white hover:bg-white/20 transition-all",children:"Allocation"})]})]}),(0,n.jsx)(c,{portfolio:e,liveMetrics:h,marketData:x})]}):(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-semibold text-white/90 mb-4",children:"Upload Spending Data"}),(0,n.jsx)("p",{className:"text-white/60 text-sm mb-6",children:"Upload your CSV or Excel file to analyze spending patterns and get personalized investment recommendations."}),(0,n.jsx)(G,{onUploadComplete:e=>{console.log("CSV upload completed:",e),D("overview")}})]})]})})]}),(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsx)(i.P.div,{variants:M,initial:"hidden",animate:"visible",children:(0,n.jsxs)(k.A,{variant:"accent",padding:"large",glow:!0,children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-4",children:(0,n.jsx)(u,{term:"asset_allocation",children:"Asset Allocation"})}),(0,n.jsx)("div",{className:"space-y-4",children:Object.keys(T.assetTypeAllocation).length>0?Object.entries(T.assetTypeAllocation).map((e,t)=>{let[s,a]=e;const i=["from-blue-400 to-blue-500","from-green-400 to-green-500","from-purple-400 to-purple-500","from-orange-400 to-orange-500","from-pink-400 to-pink-500"],r=i[t%i.length];return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsx)("span",{className:"text-white/90",children:s}),(0,n.jsxs)("span",{className:"text-white font-medium",children:[a.toFixed(1),"%"]})]}),(0,n.jsx)("div",{className:"w-full bg-white/20 rounded-full h-2",children:(0,n.jsx)("div",{className:"bg-gradient-to-r ".concat(r," h-2 rounded-full"),style:{width:"".concat(a,"%")}})})]},s)}):(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,n.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"No allocations yet"}),(0,n.jsx)("p",{className:"text-white/40 text-xs",children:"Add holdings to see asset allocation"})]})})]})}),(0,n.jsx)(i.P.div,{variants:M,initial:"hidden",animate:"visible",children:(0,n.jsxs)(k.A,{variant:"default",padding:"large",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white mb-6",children:"Quick Actions"}),(0,n.jsxs)("div",{className:"space-y-3",children:[(0,n.jsxs)(A.A,{onClick:()=>P(!0),variant:"glass",className:"w-full justify-start",children:[(0,n.jsx)("span",{className:"mr-3",children:"\ud83d\udcc8"}),"Add New Position"]}),(0,n.jsxs)(A.A,{variant:"glass",className:"w-full justify-start",children:[(0,n.jsx)("span",{className:"mr-3",children:"\u2696\ufe0f"}),"Rebalance Portfolio"]}),(0,n.jsxs)(A.A,{variant:"glass",className:"w-full justify-start",children:[(0,n.jsx)("span",{className:"mr-3",children:"\ud83d\udcca"}),"Generate Report"]}),(0,n.jsxs)(A.A,{variant:"glass",className:"w-full justify-start",children:[(0,n.jsx)("span",{className:"mr-3",children:"\ud83c\udfaf"}),"Set Price Alerts"]})]})]})}),(0,n.jsx)(i.P.div,{variants:M,initial:"hidden",animate:"visible",children:(0,n.jsxs)(k.A,{variant:"floating",padding:"large",interactive:!0,children:[(0,n.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,n.jsx)("h3",{className:"text-xl font-semibold text-white",children:"Market News"}),(0,n.jsx)("span",{className:"px-2 py-1 bg-green-500/30 text-green-300 text-xs rounded-full",children:"Live"})]}),(0,n.jsx)("div",{className:"space-y-3",children:t&&t.length>0?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-white mb-1",children:"Portfolio Update"}),(0,n.jsxs)("p",{className:"text-xs text-white/70",children:["Your portfolio has ",t.length," holdings across ",Object.keys(T.sectorAllocation).length," sectors"]}),(0,n.jsx)("span",{className:"text-xs text-white/50",children:"Updated now"})]}),0!==T.totalGainLossPercentage&&(0,n.jsxs)("div",{className:"p-3 bg-white/5 rounded-lg border border-white/10",children:[(0,n.jsx)("h4",{className:"text-sm font-medium text-white mb-1",children:"Performance Alert"}),(0,n.jsxs)("p",{className:"text-xs text-white/70",children:["Your portfolio is ",T.totalGainLossPercentage>0?"up":"down"," ",Math.abs(T.totalGainLossPercentage).toFixed(2),"% overall"]}),(0,n.jsx)("span",{className:"text-xs text-white/50",children:"Live data"})]})]}):(0,n.jsxs)("div",{className:"text-center py-8",children:[(0,n.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcf0"}),(0,n.jsx)("p",{className:"text-white/60 text-sm mb-2",children:"No market updates"}),(0,n.jsx)("p",{className:"text-white/40 text-xs",children:"Add holdings to see relevant news"})]})}),(0,n.jsx)(A.A,{variant:"ghost",className:"w-full mt-4 text-sm",children:"View All News"})]})})]})]}),(0,n.jsx)(H.A,{isOpen:N,onClose:()=>P(!1),title:"Add New Investment",size:"large",children:(0,n.jsx)(f,{})})]})};function U(){return(0,n.jsxs)("div",{className:"relative min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950 text-white overflow-hidden",children:[(0,n.jsx)(i.P.div,{className:"absolute -top-32 -left-28 w-80 h-80 bg-gradient-to-r from-blue-500/40 to-purple-500/30 rounded-full blur-3xl",animate:{y:[0,16,0]},transition:{repeat:1/0,duration:14,ease:"easeInOut"}}),(0,n.jsx)(i.P.div,{className:"absolute -bottom-36 -right-24 w-[24rem] h-[24rem] bg-gradient-to-r from-orange-400/30 to-pink-400/20 rounded-full blur-3xl",animate:{y:[0,-22,0]},transition:{repeat:1/0,duration:18,ease:"easeInOut"}}),(0,n.jsx)("main",{className:"relative z-10",children:(0,n.jsx)(V,{})})]})}},9811:(e,t,s)=>{s.d(t,{A:()=>o});s(9643);var a=s(7626),i=s(3795),r=s(9738),l=s(6507);const o=e=>{let{isOpen:t,onClose:s,title:o,children:n,size:c="default",className:d=""}=e;return(0,l.jsx)(i.N,{children:t&&(0,l.jsxs)(a.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-4",variants:{hidden:{opacity:0},visible:{opacity:1}},initial:"hidden",animate:"visible",exit:"hidden",onClick:s,children:[(0,l.jsx)("div",{className:"absolute inset-0 bg-black/60 backdrop-blur-2xl backdrop-saturate-150"}),(0,l.jsx)(a.P.div,{className:"relative w-full ".concat({small:"max-w-md",default:"max-w-lg",large:"max-w-2xl",xlarge:"max-w-4xl"}[c]," ").concat(d),variants:{hidden:{opacity:0,scale:.8,y:50},visible:{opacity:1,scale:1,y:0,transition:{type:"spring",damping:25,stiffness:300}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.2}}},onClick:e=>e.stopPropagation(),children:(0,l.jsxs)(r.A,{variant:"hero",padding:"none",shadow:"xl",className:"overflow-hidden",children:[o&&(0,l.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-white/10 bg-white/5 backdrop-blur-xl",children:[(0,l.jsx)("h2",{className:"text-xl font-semibold text-white bg-gradient-to-r from-blue-300 to-purple-300 bg-clip-text text-transparent",children:o}),(0,l.jsx)("button",{onClick:s,className:"p-2 rounded-xl text-white/70 hover:text-white hover:bg-white/10 transition-all duration-200 backdrop-blur-lg",children:(0,l.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,l.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,l.jsx)("div",{className:"p-6 text-white",children:n})]})})]})})}}}]);
//# sourceMappingURL=42.6c6b8197.chunk.js.map