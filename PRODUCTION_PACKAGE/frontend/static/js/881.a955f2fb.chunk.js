"use strict";(self.webpackChunkinvestx_labs=self.webpackChunkinvestx_labs||[]).push([[881],{6461:(e,t,a)=>{a.d(t,{A:()=>o});var s=a(7405),r=a(9644),n=a(8878),l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const i=["color","size","strokeWidth","absoluteStrokeWidth","children"];var o=(e,t)=>{const a=(0,n.forwardRef)((a,o)=>{let{color:c="currentColor",size:d=24,strokeWidth:h=2,absoluteStrokeWidth:x,children:m}=a,u=(0,r.A)(a,i);return(0,n.createElement)("svg",(0,s.A)((0,s.A)({ref:o},l),{},{width:d,height:d,stroke:c,strokeWidth:x?24*Number(h)/Number(d):h,className:"lucide lucide-".concat((p=e,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()))},u),[...t.map(e=>{let[t,a]=e;return(0,n.createElement)(t,a)}),...(Array.isArray(m)?m:[m])||[]]);var p});return a.displayName="".concat(e),a}},8881:(e,t,a)=>{a.r(t),a.d(t,{default:()=>M});var s=a(8878),r=a(6461);const n=(0,r.A)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),l=(0,r.A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),i=(0,r.A)("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),o=(0,r.A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),c=(0,r.A)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),d=(0,r.A)("Wifi",[["path",{d:"M5 13a10 10 0 0 1 14 0",key:"6v8j51"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),h=(0,r.A)("WifiOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M8.5 16.5a5 5 0 0 1 7 0",key:"sej527"}],["path",{d:"M2 8.82a15 15 0 0 1 4.17-2.65",key:"11utq1"}],["path",{d:"M10.66 5c4.01-.36 8.14.9 11.34 3.76",key:"hxefdu"}],["path",{d:"M16.85 11.25a10 10 0 0 1 2.22 1.68",key:"q734kn"}],["path",{d:"M5 13a10 10 0 0 1 5.24-2.76",key:"piq4yl"}],["line",{x1:"12",x2:"12.01",y1:"20",y2:"20",key:"of4bc4"}]]),x=(0,r.A)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),m=(0,r.A)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);var u=a(3180),p=a(7405);const g="investx_chat_analytics",b=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const a=(0,p.A)({id:"evt_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),timestamp:(new Date).toISOString(),event:e},t);try{const e=f();e.push(a);const t=e.slice(-50);localStorage.setItem(g,JSON.stringify(t))}catch(s){console.error("Failed to save analytics event:",s)}},f=()=>{try{const e=localStorage.getItem(g);return e?JSON.parse(e):[]}catch(e){return console.error("Failed to get stored analytics events:",e),[]}},y=function(e,t,a){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};b("chat_message",(0,p.A)({messageId:e,role:t,intent:a,responseTime:s},r))},v=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b("error",(0,p.A)({error:{name:e.name,message:e.message,stack:void 0},context:t},a))},w=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b("interaction",(0,p.A)({interactionType:e,elementId:t},a))};var j=a(5875),k=a(782);const N=[{icon:n,text:"Explain stock market basics",color:"from-blue-500 to-cyan-500"},{icon:l,text:"What is compound interest?",color:"from-purple-500 to-pink-500"},{icon:i,text:"How do ETFs work?",color:"from-orange-500 to-red-500"},{icon:o,text:"Build a beginner portfolio",color:"from-green-500 to-emerald-500"}],A=()=>{const{messages:e,loading:t,sending:a,error:r,isOnline:n,sendMessage:l,setError:i}=(0,u.Y_)(),[p,g]=(0,s.useState)(""),b=(0,s.useRef)(null),f=(0,s.useRef)(null);(0,s.useEffect)(()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);const A=async e=>{let t;e.preventDefault(),i(null);try{t=(e=>{let t=e.trim();if(t=t.replace(/<[^>]*>?/gm,""),t.length>2e3)throw new Error("Message exceeds maximum length of 2000 characters");if(!t)throw new Error("Message cannot be empty");return t})(p)}catch(s){return i(s.message),void v(s,"chat_input_validation")}if(!a){g("");try{y("user-".concat(Date.now()),"user","user_message",null,{contentLength:t.length});const{error:e}=await l(t,"user");e&&(g(t),i(e.message||"Unable to send message"))}catch(r){console.error("Error sending message:",r),v(r,"send_message",{contentLength:t.length,online:n}),i(r.message||"I'm having trouble connecting to the server. Please try again later."),g(t)}setTimeout(()=>{var e;null===(e=f.current)||void 0===e||e.focus()},100)}},M=!t&&0===e.length;return(0,k.jsxs)("div",{className:"h-full bg-gradient-to-br from-gray-950 via-gray-900 to-gray-950 relative overflow-hidden",children:[(0,k.jsxs)("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[(0,k.jsx)("div",{className:"absolute top-20 left-10 w-96 h-96 bg-blue-500/20 rounded-full blur-3xl animate-pulse"}),(0,k.jsx)("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-purple-500/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),(0,k.jsx)("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"2s"}})]}),(0,k.jsxs)("div",{className:"relative z-10 max-w-5xl mx-auto h-full flex flex-col",children:[(0,k.jsx)("div",{className:"backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl p-6 mb-6 shadow-2xl",children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"p-3 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 shadow-lg",children:(0,k.jsx)(o,{className:"w-6 h-6 text-white"})}),(0,k.jsxs)("div",{children:[(0,k.jsx)("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 bg-clip-text text-transparent",children:"InvestX Labs Assistant"}),(0,k.jsx)("p",{className:"text-sm text-gray-400",children:"Your personal AI investment assistant"})]})]})}),(0,k.jsxs)("div",{className:"flex-1 backdrop-blur-xl bg-white/5 border border-white/10 rounded-2xl shadow-2xl overflow-hidden flex flex-col",children:[(0,k.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-4",style:{maxHeight:"calc(100vh - 300px)"},children:[t&&0===e.length&&(0,k.jsx)("div",{className:"flex justify-center py-10",children:(0,k.jsx)(j.Ay,{size:"large"})}),M&&(0,k.jsxs)("div",{className:"mb-6",children:[(0,k.jsx)("p",{className:"text-gray-400 text-sm mb-4 text-center",children:"Try asking about:"}),(0,k.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:N.map((e,t)=>{const a=e.icon;return(0,k.jsx)("button",{onClick:()=>{var t;g(e.text),null===(t=f.current)||void 0===t||t.focus(),w("quick_prompt_selected","quick_prompt",{promptText:e.text,timestamp:(new Date).toISOString()})},className:"group backdrop-blur-xl bg-white/5 hover:bg-white/10 border border-white/10 rounded-xl p-4 transition-all duration-300 hover:scale-105 hover:shadow-xl text-left",children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)("div",{className:"p-2 rounded-lg bg-gradient-to-br ".concat(e.color," opacity-80 group-hover:opacity-100 transition-opacity"),children:(0,k.jsx)(a,{className:"w-5 h-5 text-white"})}),(0,k.jsx)("span",{className:"text-sm text-gray-300 group-hover:text-white transition-colors",children:e.text})]})},e.text)})})]}),e.map(e=>{const t="user"===e.role,a=e.created_at||e.timestamp;return(0,k.jsx)("div",{className:"flex ".concat(t?"justify-end":"justify-start"," animate-fadeIn"),children:(0,k.jsxs)("div",{className:"max-w-[80%] rounded-2xl p-4 ".concat(t?"bg-gradient-to-br from-blue-600 to-purple-600 text-white shadow-lg":"backdrop-blur-xl bg-white/10 border border-white/10 text-gray-100 shadow-xl"),children:[!t&&(0,k.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,k.jsx)("div",{className:"p-1 rounded-md bg-gradient-to-br from-blue-500 to-purple-600",children:(0,k.jsx)(o,{className:"w-3 h-3 text-white"})}),(0,k.jsx)("span",{className:"text-xs text-gray-400 font-medium",children:"InvestX Labs"})]}),(0,k.jsx)("p",{className:"text-sm leading-relaxed whitespace-pre-wrap",children:e.content}),e.pending&&(0,k.jsx)("span",{className:"text-xs mt-2 block text-blue-200",children:"Sending\u2026"}),a&&(0,k.jsx)("span",{className:"text-xs mt-2 block ".concat(t?"text-blue-200":"text-gray-500"),children:new Date(a).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},e.id)}),a&&(0,k.jsx)("div",{className:"flex justify-start animate-fadeIn",children:(0,k.jsx)("div",{className:"backdrop-blur-xl bg-white/10 border border-white/10 rounded-2xl p-4 shadow-xl",children:(0,k.jsxs)("div",{className:"flex items-center gap-3",children:[(0,k.jsx)(c,{className:"w-4 h-4 text-blue-400 animate-spin"}),(0,k.jsxs)("div",{className:"flex gap-1",children:[(0,k.jsx)("span",{className:"w-2 h-2 bg-blue-400 rounded-full animate-bounce"}),(0,k.jsx)("span",{className:"w-2 h-2 bg-purple-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),(0,k.jsx)("span",{className:"w-2 h-2 bg-pink-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})})}),(0,k.jsx)("div",{ref:b})]}),(0,k.jsxs)("div",{className:"p-6 border-t border-white/10 backdrop-blur-xl bg-white/5",children:[(0,k.jsx)("div",{className:"flex items-center gap-2 mb-3 text-sm ".concat(n?"text-green-400":"text-yellow-400"),children:n?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(d,{className:"w-4 h-4"}),(0,k.jsx)("span",{children:"Online"})]}):(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(h,{className:"w-4 h-4"}),(0,k.jsx)("span",{children:"Offline - Messages will be sent when back online"})]})}),(0,k.jsxs)("form",{onSubmit:A,className:"flex flex-col gap-2",children:[r&&(0,k.jsxs)("div",{className:"flex items-center gap-2 p-2 text-sm text-red-400 bg-red-900/20 rounded-lg mb-2",role:"alert","aria-live":"assertive",children:[(0,k.jsx)(x,{className:"w-4 h-4 flex-shrink-0","aria-hidden":"true"}),(0,k.jsx)("span",{children:r})]}),(0,k.jsxs)("div",{className:"flex gap-3",children:[(0,k.jsxs)("div",{className:"relative flex-1",children:[(0,k.jsx)("input",{type:"text",ref:f,value:p,onChange:e=>{g(e.target.value),r&&i(null)},placeholder:"Ask me anything about investing...",disabled:a,"aria-label":"Type your message","aria-required":"true","aria-invalid":!!r,className:"w-full bg-white/10 backdrop-blur-xl border border-white/10 rounded-xl px-6 py-3 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent transition-all disabled:opacity-50 pr-12",maxLength:2e3,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),A(e))}}),p.length>0&&(0,k.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400",children:2e3-p.length})]}),(0,k.jsxs)("button",{type:"submit",disabled:a||!p.trim(),"aria-label":"Send message",className:"p-3 rounded-xl bg-gradient-to-br from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white shadow-lg hover:shadow-xl transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",onClick:()=>{w("send_button_click","button",{inputLength:p.length,timestamp:(new Date).toISOString()})},children:[a?(0,k.jsx)(c,{className:"w-5 h-5 animate-spin","aria-hidden":"true"}):(0,k.jsx)(m,{className:"w-5 h-5","aria-hidden":"true"}),(0,k.jsx)("span",{className:"sr-only",children:"Send message"})]})]})]}),(0,k.jsxs)("div",{className:"text-center mt-3",children:[(0,k.jsx)("p",{className:"text-xs text-gray-500",children:"InvestX Labs provides educational information only. Not financial advice."}),!n&&(0,k.jsx)("p",{className:"text-xs text-yellow-400 mt-1",children:"You\\'re currently offline. Messages will be sent when you\\'re back online."})]})]})]})]}),(0,k.jsx)("style",{jsx:!0,children:"\n        @keyframes fadeIn {\n          from {\n            opacity: 0;\n            transform: translateY(10px);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0);\n          }\n        }\n        .animate-fadeIn {\n          animation: fadeIn 0.2s ease;\n        }\n      "})]})},M=()=>(0,k.jsx)("div",{className:"flex flex-col h-screen",children:(0,k.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,k.jsx)(A,{})})})}}]);