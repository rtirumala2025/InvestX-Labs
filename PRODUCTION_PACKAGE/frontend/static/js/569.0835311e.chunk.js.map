{"version":3,"file":"static/js/569.0835311e.chunk.js","mappings":"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","sources":["services/market/marketService.js","components/portfolio/PortfolioChart.jsx","hooks/useAlphaVantageData.js"],"sourcesContent":["/**\n * Alpha Vantage Market Data Service\n * Provides real-time stock market data integration for InvestX Labs\n */\n\nconst ALPHA_VANTAGE_BASE_URL = process.env.REACT_APP_ALPHA_VANTAGE_BASE_URL || 'https://www.alphavantage.co/query';\nconst API_KEY = process.env.REACT_APP_ALPHA_VANTAGE_API_KEY;\n\n// Cache for API responses to avoid excessive calls\nconst priceCache = new Map();\nconst CACHE_DURATION = 60000; // 1 minute cache\n\n// LocalStorage cache key\nconst STORAGE_CACHE_KEY = 'investx_market_cache';\nconst STORAGE_CACHE_DURATION = 300000; // 5 minutes for localStorage cache\n\n/**\n * Get current stock quote from Alpha Vantage\n * @param {string} symbol - Stock symbol (e.g., 'AAPL')\n * @returns {Promise<Object|null>} Quote data or null on failure\n */\nexport const getQuote = async (symbol) => {\n  console.log('üìà [MarketService] getQuote() called for symbol:', symbol);\n  \n  if (!symbol) {\n    console.warn('üìà [MarketService] ‚ùå No symbol provided');\n    return null;\n  }\n\n  if (!API_KEY) {\n    console.warn('üìà [MarketService] ‚ùå Alpha Vantage API key not found in environment variables');\n    return null;\n  }\n\n  // Check in-memory cache first\n  const cacheKey = symbol.toUpperCase();\n  const cached = priceCache.get(cacheKey);\n  const cacheAge = cached ? Date.now() - cached.timestamp : null;\n  \n  if (cached && cacheAge < CACHE_DURATION) {\n    console.log('üìà [MarketService] üéØ Cache HIT for', symbol, '- age:', Math.round(cacheAge / 1000), 'seconds');\n    return cached.data;\n  } else if (cached) {\n    console.log('üìà [MarketService] ‚è∞ Cache MISS for', symbol, '- stale data, age:', Math.round(cacheAge / 1000), 'seconds');\n  } else {\n    console.log('üìà [MarketService] üÜï Cache MISS for', symbol, '- no cached data');\n  }\n\n  // Check localStorage cache as fallback\n  try {\n    const storedCache = localStorage.getItem(STORAGE_CACHE_KEY);\n    if (storedCache) {\n      const cacheData = JSON.parse(storedCache);\n      const cachedQuote = cacheData[cacheKey];\n      if (cachedQuote && (Date.now() - cachedQuote.timestamp) < STORAGE_CACHE_DURATION) {\n        console.log('üìà [MarketService] üíæ localStorage Cache HIT for', symbol);\n        // Restore to in-memory cache\n        priceCache.set(cacheKey, cachedQuote);\n        return cachedQuote.data;\n      }\n    }\n  } catch (storageError) {\n    console.warn('üìà [MarketService] Error reading localStorage cache:', storageError);\n  }\n\n  try {\n    const url = `${ALPHA_VANTAGE_BASE_URL}?function=GLOBAL_QUOTE&symbol=${encodeURIComponent(symbol)}&apikey=${API_KEY}`;\n    \n    console.log('üìà [MarketService] üåê Sending API request to Alpha Vantage:', url.replace(API_KEY, 'API_KEY_HIDDEN'));\n    \n    const response = await fetch(url);\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n\n    const data = await response.json();\n    \n    console.log('üìà [MarketService] üì• Raw API response received for', symbol, ':', Object.keys(data));\n    \n    // Check for API errors\n    if (data['Error Message']) {\n      console.error('üìà [MarketService] ‚ùå Alpha Vantage API Error:', data['Error Message']);\n      return null;\n    }\n\n    if (data['Note']) {\n      console.warn('üìà [MarketService] ‚ö†Ô∏è Alpha Vantage API Note (rate limit):', data['Note']);\n      return null;\n    }\n\n    const quote = data['Global Quote'];\n    if (!quote) {\n      console.error('üìà [MarketService] ‚ùå No quote data found for symbol:', symbol);\n      return null;\n    }\n    \n    console.log('üìà [MarketService] üìä Raw quote data for', symbol, ':', quote);\n\n    // Transform the response to a more usable format\n    const transformedQuote = {\n      symbol: quote['01. symbol'],\n      open: parseFloat(quote['02. open']) || 0,\n      high: parseFloat(quote['03. high']) || 0,\n      low: parseFloat(quote['04. low']) || 0,\n      price: parseFloat(quote['05. price']) || 0,\n      volume: parseInt(quote['06. volume']) || 0,\n      latestTradingDay: quote['07. latest trading day'],\n      previousClose: parseFloat(quote['08. previous close']) || 0,\n      change: parseFloat(quote['09. change']) || 0,\n      changePercent: parseFloat(quote['10. change percent']?.replace('%', '')) || 0\n    };\n    \n    console.log('üìà [MarketService] ‚úÖ Transformed quote for', symbol, ':', {\n      price: transformedQuote.price,\n      change: transformedQuote.change,\n      changePercent: transformedQuote.changePercent,\n      previousClose: transformedQuote.previousClose\n    });\n\n    // Cache the result in memory\n    const cacheEntry = {\n      data: transformedQuote,\n      timestamp: Date.now()\n    };\n    priceCache.set(cacheKey, cacheEntry);\n    \n    // Also cache in localStorage\n    try {\n      const storedCache = localStorage.getItem(STORAGE_CACHE_KEY);\n      const cacheData = storedCache ? JSON.parse(storedCache) : {};\n      cacheData[cacheKey] = cacheEntry;\n      // Keep only last 50 entries to avoid storage bloat\n      const keys = Object.keys(cacheData);\n      if (keys.length > 50) {\n        // Remove oldest entries\n        const sortedKeys = keys.sort((a, b) => (cacheData[a].timestamp || 0) - (cacheData[b].timestamp || 0));\n        sortedKeys.slice(0, keys.length - 50).forEach(key => delete cacheData[key]);\n      }\n      localStorage.setItem(STORAGE_CACHE_KEY, JSON.stringify(cacheData));\n    } catch (storageError) {\n      console.warn('üìà [MarketService] Error writing to localStorage cache:', storageError);\n    }\n    \n    console.log('üìà [MarketService] üíæ Cached quote for', symbol, '- cache size:', priceCache.size);\n\n    return transformedQuote;\n  } catch (error) {\n    console.error('üìà [MarketService] ‚ùå Error fetching quote for', symbol, ':', error);\n    \n    // Try to return cached data as fallback (in-memory first)\n    const cached = priceCache.get(cacheKey);\n    if (cached) {\n      console.log('üìà [MarketService] üîÑ Returning stale in-memory cached data as fallback for', symbol);\n      return cached.data;\n    }\n    \n    // Try localStorage cache as last resort\n    try {\n      const storedCache = localStorage.getItem(STORAGE_CACHE_KEY);\n      if (storedCache) {\n        const cacheData = JSON.parse(storedCache);\n        const cachedQuote = cacheData[cacheKey];\n        if (cachedQuote) {\n          console.log('üìà [MarketService] üîÑ Returning stale localStorage cached data as fallback for', symbol, '(may be outdated)');\n          // Add warning that data may be stale\n          return {\n            ...cachedQuote.data,\n            _stale: true,\n            _staleWarning: 'Market data may be outdated. Please refresh.'\n          };\n        }\n      }\n    } catch (storageError) {\n      console.warn('üìà [MarketService] Error reading localStorage cache on error fallback:', storageError);\n    }\n    \n    return null;\n  }\n};\n\n/**\n * Get multiple stock quotes efficiently\n * @param {string[]} symbols - Array of stock symbols\n * @returns {Promise<Object>} Object with symbol as key and quote data as value\n */\nexport const getMultipleQuotes = async (symbols) => {\n  console.log('üìà [MarketService] getMultipleQuotes() called for', symbols.length, 'symbols:', symbols);\n  \n  if (!symbols || symbols.length === 0) {\n    console.log('üìà [MarketService] ‚ö†Ô∏è No symbols provided to getMultipleQuotes');\n    return {};\n  }\n\n  // Limit concurrent requests to respect API rate limits\n  const BATCH_SIZE = 5; // Alpha Vantage free tier: 5 calls per minute\n  const results = {};\n  \n  console.log('üìà [MarketService] üîÑ Processing', symbols.length, 'symbols in batches of', BATCH_SIZE);\n  \n  for (let i = 0; i < symbols.length; i += BATCH_SIZE) {\n    const batch = symbols.slice(i, i + BATCH_SIZE);\n    const batchNumber = Math.floor(i / BATCH_SIZE) + 1;\n    const totalBatches = Math.ceil(symbols.length / BATCH_SIZE);\n    \n    console.log('üìà [MarketService] üì¶ Processing batch', batchNumber, 'of', totalBatches, ':', batch);\n    \n    try {\n      const promises = batch.map(symbol => getQuote(symbol));\n      const batchResults = await Promise.all(promises);\n      \n      console.log('üìà [MarketService] ‚úÖ Batch', batchNumber, 'completed - received', batchResults.filter(r => r !== null).length, 'valid quotes');\n      \n      batch.forEach((symbol, index) => {\n        results[symbol] = batchResults[index];\n      });\n\n      // Add delay between batches to respect rate limits\n      if (i + BATCH_SIZE < symbols.length) {\n        console.log('üìà [MarketService] ‚è≥ Waiting 12 seconds before next batch to respect rate limits...');\n        await new Promise(resolve => setTimeout(resolve, 12000)); // 12 second delay\n        console.log('üìà [MarketService] ‚è∞ Delay complete, proceeding to next batch');\n      }\n    } catch (error) {\n      console.error('üìà [MarketService] ‚ùå Error fetching batch', batchNumber, ':', error);\n      // Continue with remaining batches\n    }\n  }\n  \n  const successCount = Object.values(results).filter(r => r !== null).length;\n  console.log('üìà [MarketService] üéØ getMultipleQuotes completed:', successCount, 'successful out of', symbols.length, 'requested');\n\n  return results;\n};\n\n/**\n * Calculate portfolio metrics with live market data\n * @param {Array} holdings - User's portfolio holdings\n * @param {Object} marketData - Market data from getMultipleQuotes\n * @returns {Object} Calculated portfolio metrics\n */\nexport const calculateLivePortfolioMetrics = (holdings, marketData) => {\n  if (!holdings || holdings.length === 0) {\n    return {\n      totalValue: 0,\n      totalCostBasis: 0,\n      totalGainLoss: 0,\n      totalGainLossPercentage: 0,\n      dayChange: 0,\n      dayChangePercentage: 0,\n      holdings: []\n    };\n  }\n\n  let totalValue = 0;\n  let totalCostBasis = 0;\n  let totalDayChange = 0;\n\n  const enrichedHoldings = holdings.map(holding => {\n    const quote = marketData[holding.symbol];\n    const currentPrice = quote?.price || holding.purchasePrice || 0;\n    const previousClose = quote?.previousClose || holding.purchasePrice || 0;\n    \n    const value = holding.shares * currentPrice;\n    const costBasis = holding.shares * holding.purchasePrice;\n    const gainLoss = value - costBasis;\n    const gainLossPercentage = costBasis > 0 ? (gainLoss / costBasis) * 100 : 0;\n    \n    const dayChange = holding.shares * (currentPrice - previousClose);\n    const dayChangePercentage = previousClose > 0 ? ((currentPrice - previousClose) / previousClose) * 100 : 0;\n\n    totalValue += value;\n    totalCostBasis += costBasis;\n    totalDayChange += dayChange;\n\n    return {\n      ...holding,\n      currentPrice,\n      previousClose,\n      value,\n      gainLoss,\n      gainLossPercentage,\n      dayChange,\n      dayChangePercentage,\n      lastUpdated: new Date().toISOString()\n    };\n  });\n\n  const totalGainLoss = totalValue - totalCostBasis;\n  const totalGainLossPercentage = totalCostBasis > 0 ? (totalGainLoss / totalCostBasis) * 100 : 0;\n  const dayChangePercentage = (totalValue - totalDayChange) > 0 ? (totalDayChange / (totalValue - totalDayChange)) * 100 : 0;\n\n  return {\n    totalValue,\n    totalCostBasis,\n    totalGainLoss,\n    totalGainLossPercentage,\n    dayChange: totalDayChange,\n    dayChangePercentage,\n    holdings: enrichedHoldings,\n    lastUpdated: new Date().toISOString()\n  };\n};\n\n/**\n * Clear the price cache (useful for testing or manual refresh)\n */\nexport const clearPriceCache = () => {\n  priceCache.clear();\n};\n\n/**\n * Get cache statistics\n */\nexport const getCacheStats = () => {\n  return {\n    size: priceCache.size,\n    entries: Array.from(priceCache.keys())\n  };\n};\n","import React, { useMemo } from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  Filler,\n} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport LoadingSpinner from '../common/LoadingSpinner';\n\nChartJS.register(CategoryScale, LinearScale, PointElement, LineElement, Title, Tooltip, Legend, Filler);\n\nconst TIMEFRAME_WINDOWS = {\n  '1D': 1,\n  '1W': 7,\n  '1M': 30,\n  '3M': 90,\n  '1Y': 365,\n  ALL: null,\n};\n\nconst PortfolioChart = ({\n  portfolio,\n  holdings = [],\n  transactions = [],\n  marketData = {},\n  timeframe = '1M',\n  loading = false,\n  error = null,\n}) => {\n  const historicalSeries = useMemo(() => {\n    const metadataHistory = portfolio?.metadata?.historicalData || [];\n    if (metadataHistory.length) {\n      return metadataHistory.map((entry) => ({\n        date: entry.date,\n        value: entry.value,\n      }));\n    }\n    return [];\n  }, [portfolio?.metadata?.historicalData]);\n\n  const syntheticSeries = useMemo(() => {\n    if (historicalSeries.length > 1) {\n      return historicalSeries;\n    }\n\n    if (transactions.length === 0) {\n      const totalValue = holdings.reduce((sum, holding) => {\n        const currentPrice = holding.current_price || holding.purchase_price || 0;\n        return sum + currentPrice * holding.shares;\n      }, 0);\n\n      if (totalValue > 0) {\n        return [{ date: new Date().toISOString(), value: totalValue }];\n      }\n\n      return [];\n    }\n\n    const sorted = [...transactions]\n      .filter((tx) => tx.transaction_date)\n      .sort((a, b) => new Date(a.transaction_date) - new Date(b.transaction_date));\n\n    let cumulativeValue = 0;\n    const points = [];\n\n    sorted.forEach((tx) => {\n      const amount = Number(tx.total_amount) || 0;\n      cumulativeValue += amount;\n      points.push({\n        date: tx.transaction_date,\n        value: Math.max(0, cumulativeValue * -1),\n      });\n    });\n\n    const latestValue = holdings.reduce((sum, holding) => {\n      const quote = marketData?.[holding.symbol];\n      const price = quote?.price || holding.current_price || holding.purchase_price || 0;\n      return sum + price * holding.shares;\n    }, 0);\n\n    if (latestValue > 0) {\n      points.push({ date: new Date().toISOString(), value: latestValue });\n    }\n\n    return points;\n  }, [transactions, holdings, marketData, historicalSeries]);\n\n  const chartPoints = useMemo(() => {\n    const source = historicalSeries.length ? historicalSeries : syntheticSeries;\n\n    if (!source.length) {\n      return [];\n    }\n\n    const windowDays = TIMEFRAME_WINDOWS[timeframe] ?? null;\n    const cutoff = windowDays ? Date.now() - windowDays * 24 * 60 * 60 * 1000 : null;\n\n    const filtered = source.filter((point) => {\n      if (!point?.date) return false;\n      const timestamp = new Date(point.date).getTime();\n      if (Number.isNaN(timestamp)) return false;\n      if (!cutoff) return true;\n      return timestamp >= cutoff;\n    });\n\n    return filtered.map((point) => ({\n      label: new Date(point.date).toLocaleDateString(undefined, {\n        month: 'short',\n        day: 'numeric',\n      }),\n      value: Number(point.value) || 0,\n    }));\n  }, [historicalSeries, syntheticSeries, timeframe]);\n\n  const chartData = useMemo(() => {\n    if (!chartPoints.length) {\n      return null;\n    }\n\n    return {\n      labels: chartPoints.map((point) => point.label),\n      datasets: [\n        {\n          label: 'Portfolio Value',\n          data: chartPoints.map((point) => point.value),\n          borderColor: 'rgba(59, 130, 246, 1)',\n          backgroundColor: 'rgba(59, 130, 246, 0.1)',\n          tension: 0.35,\n          fill: true,\n          pointRadius: 3,\n          pointHoverRadius: 5,\n        },\n      ],\n    };\n  }, [chartPoints]);\n\n  const chartOptions = useMemo(\n    () => ({\n      responsive: true,\n      maintainAspectRatio: false,\n      interaction: { intersect: false, mode: 'index' },\n      plugins: {\n        legend: { display: false },\n        tooltip: {\n          callbacks: {\n            label: (context) => `$${(context.parsed.y || 0).toLocaleString(undefined, {\n              minimumFractionDigits: 2,\n              maximumFractionDigits: 2,\n            })}`,\n          },\n        },\n      },\n      scales: {\n        y: {\n          ticks: {\n            callback: (value) =>\n              `$${value.toLocaleString(undefined, { minimumFractionDigits: 0, maximumFractionDigits: 0 })}`,\n            color: 'rgba(255, 255, 255, 0.6)',\n          },\n          grid: {\n            color: 'rgba(255, 255, 255, 0.08)',\n          },\n        },\n        x: {\n          ticks: {\n            color: 'rgba(255, 255, 255, 0.6)',\n          },\n          grid: {\n            display: false,\n          },\n        },\n      },\n    }),\n    []\n  );\n\n  if (loading) {\n    return (\n      <div className=\"h-80 flex items-center justify-center\">\n        <div className=\"text-center text-white/80\">\n          <LoadingSpinner size=\"large\" />\n          <p className=\"mt-4\">Loading portfolio performance...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (error) {\n    return (\n      <div className=\"h-80 flex items-center justify-center\">\n        <p className=\"text-red-300\">‚ö†Ô∏è {error}</p>\n      </div>\n    );\n  }\n\n  if (!chartData || chartData.datasets[0].data.every((value) => value === 0)) {\n    return (\n      <div className=\"h-80 flex items-center justify-center\">\n        <div className=\"text-center text-white/70\">\n          <div className=\"text-4xl mb-3\">üìà</div>\n          <p className=\"font-semibold mb-1\">Add holdings to see performance data</p>\n          <p className=\"text-sm text-white/50\">\n            We\\'ll start charting your portfolio as soon as you add your first investment.\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"h-80\">\n      <Line data={chartData} options={chartOptions} />\n    </div>\n  );\n};\n\nexport default React.memo(PortfolioChart);\n","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport { getQuote, getMultipleQuotes, calculateLivePortfolioMetrics } from '../services/market/marketService';\nimport { getBatchMarketData } from '../services/api/marketService';\nimport { useApp } from '../contexts/AppContext';\n\n/**\n * useAlphaVantageData\n *\n * Handles retrieval of live market pricing for a set of holdings using the Alpha Vantage API,\n * automatically falls back to cached Supabase batch quotes when the upstream API is unavailable,\n * and derives portfolio-level metrics so dashboard/portfolio views stay reactive.\n *\n * @param {Array} holdings - Portfolio holdings used to determine which symbols to quote.\n * @returns {Object} Market data, computed metrics, loading/error state, and refresh helpers.\n */\nexport const useAlphaVantageData = (holdings = []) => {\n  console.log('üöÄ [useAlphaVantageData] Hook initialized with', holdings.length, 'holdings');\n  \n  const { queueToast } = useApp();\n\n  const [marketData, setMarketData] = useState({});\n  const [portfolioMetrics, setPortfolioMetrics] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [lastUpdated, setLastUpdated] = useState(null);\n\n  const uniqueSymbols = useMemo(() => {\n    const symbols = holdings.map((holding) => holding.symbol).filter(Boolean);\n    const deduped = [...new Set(symbols)];\n    console.log('üöÄ [useAlphaVantageData] Extracted symbols:', deduped);\n    return deduped;\n  }, [holdings]);\n\n  console.log('üöÄ [useAlphaVantageData] Holdings snapshot:', holdings.length);\n\n  // Fetch market data for portfolio symbols\n  const fetchMarketData = useCallback(async () => {\n    console.log('üöÄ [useAlphaVantageData] fetchMarketData triggered for', uniqueSymbols.length, 'symbols');\n    \n    if (uniqueSymbols.length === 0) {\n      console.log('üöÄ [useAlphaVantageData] ‚ö†Ô∏è No symbols to fetch - empty portfolio detected');\n      setMarketData({});\n      setPortfolioMetrics(calculateLivePortfolioMetrics([], {}));\n      setLoading(false);\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n      \n      console.log('üöÄ [useAlphaVantageData] üì∂ Fetching market data for symbols:', uniqueSymbols);\n\n      const quotes = await getMultipleQuotes(uniqueSymbols);\n      \n      console.log('üöÄ [useAlphaVantageData] üì• Market data received:', Object.keys(quotes).length, 'quotes');\n      console.log('üöÄ [useAlphaVantageData] üìä Quote summary:', Object.entries(quotes).map(([symbol, quote]) => \n        `${symbol}: $${quote?.price || 'N/A'}`\n      ));\n      \n      setMarketData(quotes);\n\n      // Calculate portfolio metrics with live data\n      console.log('üöÄ [useAlphaVantageData] üßÆ Calculating live portfolio metrics...');\n      const metrics = calculateLivePortfolioMetrics(holdings, quotes);\n      \n      console.log('üöÄ [useAlphaVantageData] ‚úÖ Live metrics calculated:', {\n        totalValue: metrics.totalValue,\n        totalGainLoss: metrics.totalGainLoss,\n        dayChange: metrics.dayChange,\n        holdingsCount: metrics.holdings.length\n      });\n      \n      setPortfolioMetrics(metrics);\n      setLastUpdated(new Date().toISOString());\n\n    } catch (err) {\n      console.error('üöÄ [useAlphaVantageData] ‚ùå Error fetching market data:', err);\n      setError(err.message || 'Failed to fetch market data');\n\n      try {\n        console.log('üöÄ [useAlphaVantageData] üîÑ Attempting Supabase fallback for market data.');\n        const fallbackQuotes = await getBatchMarketData(uniqueSymbols);\n\n        if (fallbackQuotes && Object.keys(fallbackQuotes).length > 0) {\n          setMarketData(fallbackQuotes);\n          const fallbackMetrics = calculateLivePortfolioMetrics(holdings, fallbackQuotes);\n          setPortfolioMetrics(fallbackMetrics);\n          setLastUpdated(new Date().toISOString());\n          queueToast('Live price feed unavailable. Showing cached market data.', 'warning');\n          return;\n        }\n      } catch (fallbackError) {\n        console.error('üöÄ [useAlphaVantageData] ‚ùå Supabase fallback failed:', fallbackError);\n      }\n\n      console.log('üöÄ [useAlphaVantageData] üîÑ Using static portfolio calculations due to market data failure');\n      const fallbackMetrics = calculateLivePortfolioMetrics(holdings, {});\n      setPortfolioMetrics(fallbackMetrics);\n    } finally {\n      setLoading(false);\n    }\n  }, [uniqueSymbols, holdings, queueToast]);\n\n  // Fetch single quote\n  const fetchQuote = useCallback(async (symbol) => {\n    try {\n      setLoading(true);\n      setError(null);\n\n      const quote = await getQuote(symbol);\n      if (quote) {\n        setMarketData(prev => ({\n          ...prev,\n          [symbol]: quote\n        }));\n      }\n      return quote;\n    } catch (err) {\n      console.error('Error fetching quote for', symbol, ':', err);\n      setError(err.message || `Failed to fetch quote for ${symbol}`);\n      return null;\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  // Auto-fetch data when holdings change\n  useEffect(() => {\n    console.log('üöÄ [useAlphaVantageData] üîÑ Holdings changed, triggering market data fetch');\n    fetchMarketData();\n  }, [fetchMarketData]);\n\n  // Refresh data manually\n  const refreshData = useCallback(() => {\n    return fetchMarketData();\n  }, [fetchMarketData]);\n\n  // Get quote for specific symbol\n  const getQuoteBySymbol = useCallback((symbol) => {\n    return marketData[symbol] || null;\n  }, [marketData]);\n\n  // Check if data is stale (older than 5 minutes)\n  const isDataStale = useCallback(() => {\n    if (!lastUpdated) return true;\n    const fiveMinutesAgo = Date.now() - (5 * 60 * 1000);\n    const stale = new Date(lastUpdated).getTime() < fiveMinutesAgo;\n    if (stale) {\n      console.log('üöÄ [useAlphaVantageData] ‚è∞ Data is stale - last updated:', lastUpdated);\n    }\n    return stale;\n  }, [lastUpdated]);\n\n  return {\n    marketData,\n    portfolioMetrics,\n    loading,\n    error,\n    lastUpdated,\n    fetchMarketData,\n    fetchQuote,\n    refreshData,\n    getQuoteBySymbol,\n    isDataStale,\n    hasData: Object.keys(marketData).length > 0\n  };\n};\n"],"names":["ALPHA_VANTAGE_BASE_URL","process","REACT_APP_ALPHA_VANTAGE_BASE_URL","API_KEY","REACT_APP_ALPHA_VANTAGE_API_KEY","priceCache","Map","STORAGE_CACHE_KEY","getQuote","async","console","log","symbol","warn","cacheKey","toUpperCase","cached","get","cacheAge","Date","now","timestamp","Math","round","data","storedCache","localStorage","getItem","cachedQuote","JSON","parse","set","storageError","_quote$10ChangePer","url","concat","encodeURIComponent","replace","response","fetch","ok","Error","status","json","Object","keys","error","quote","transformedQuote","open","parseFloat","high","low","price","volume","parseInt","latestTradingDay","previousClose","change","changePercent","cacheEntry","cacheData","length","sort","a","b","slice","forEach","key","setItem","stringify","size","_objectSpread","_stale","_staleWarning","getMultipleQuotes","symbols","results","i","batch","batchNumber","floor","totalBatches","ceil","promises","map","batchResults","Promise","all","filter","r","index","resolve","setTimeout","successCount","values","calculateLivePortfolioMetrics","holdings","marketData","totalValue","totalCostBasis","totalGainLoss","totalGainLossPercentage","dayChange","dayChangePercentage","totalDayChange","enrichedHoldings","holding","currentPrice","purchasePrice","value","shares","costBasis","gainLoss","gainLossPercentage","lastUpdated","toISOString","ChartJS","register","CategoryScale","LinearScale","PointElement","LineElement","Title","Tooltip","Legend","Filler","TIMEFRAME_WINDOWS","ALL","PortfolioChart","_ref","_portfolio$metadata2","portfolio","transactions","timeframe","loading","historicalSeries","useMemo","_portfolio$metadata","metadataHistory","metadata","historicalData","entry","date","syntheticSeries","reduce","sum","current_price","purchase_price","sorted","tx","transaction_date","cumulativeValue","points","amount","Number","total_amount","push","max","latestValue","chartPoints","_TIMEFRAME_WINDOWS$ti","source","windowDays","cutoff","point","getTime","isNaN","label","toLocaleDateString","undefined","month","day","chartData","labels","datasets","borderColor","backgroundColor","tension","fill","pointRadius","pointHoverRadius","chartOptions","responsive","maintainAspectRatio","interaction","intersect","mode","plugins","legend","display","tooltip","callbacks","context","parsed","y","toLocaleString","minimumFractionDigits","maximumFractionDigits","scales","ticks","callback","color","grid","x","_jsx","className","children","_jsxs","LoadingSpinner","every","Line","options","React","useAlphaVantageData","arguments","queueToast","useApp","setMarketData","useState","portfolioMetrics","setPortfolioMetrics","setLoading","setError","setLastUpdated","uniqueSymbols","Boolean","deduped","Set","fetchMarketData","useCallback","quotes","entries","metrics","holdingsCount","err","message","fallbackQuotes","getBatchMarketData","fallbackMetrics","fallbackError","fetchQuote","prev","useEffect","refreshData","getQuoteBySymbol","isDataStale","fiveMinutesAgo","stale","hasData"],"sourceRoot":""}