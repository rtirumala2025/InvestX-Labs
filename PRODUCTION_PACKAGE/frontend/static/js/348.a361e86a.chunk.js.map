{"version":3,"file":"static/js/348.a361e86a.chunk.js","mappings":"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","sources":["components/diagnostic/DiagnosticFlow.jsx","pages/DiagnosticPage.jsx"],"sourcesContent":["import React, { useMemo, useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useApp } from \"../../contexts/AppContext\";\nimport GlassCard from \"../ui/GlassCard\";\nimport GlassButton from \"../ui/GlassButton\";\nimport { supabase } from \"../../services/supabase/config\";\nimport { useAuth } from \"../../hooks/useAuth\";\nimport { useAchievements } from \"../../contexts/AchievementsContext\";\n\nconst DiagnosticFlow = () => {\n  const { currentUser } = useAuth();\n  const { queueToast } = useApp();\n  const { addAchievement } = useAchievements();\n  const [currentStep, setCurrentStep] = useState(0);\n  const [answers, setAnswers] = useState({});\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n\n  const steps = useMemo(\n    () => [\n      {\n        id: \"goals\",\n        title: \"What are your main money goals?\",\n        subtitle: \"Choose what matters most to you right now\",\n        options: [\n          {\n            id: \"save_emergency\",\n            label: \"Build an emergency fund\",\n            description:\n              \"Save 3-6 months of expenses for unexpected situations\",\n          },\n          {\n            id: \"save_purchase\",\n            label: \"Save for a big purchase\",\n            description: \"House, car, vacation, or other major expense\",\n          },\n          {\n            id: \"pay_debt\",\n            label: \"Pay off debt faster\",\n            description: \"Credit cards, student loans, or other debts\",\n          },\n          {\n            id: \"invest_grow\",\n            label: \"Start investing\",\n            description: \"Grow money for long-term goals like retirement\",\n          },\n          {\n            id: \"budget_better\",\n            label: \"Budget better\",\n            description: \"Track spending and manage money more effectively\",\n          },\n        ],\n      },\n      {\n        id: \"situation\",\n        title: \"What's your current money situation?\",\n        subtitle: \"Help us understand where you're starting from\",\n        options: [\n          {\n            id: \"student\",\n            label: \"Student\",\n            description:\n              \"Limited income, focusing on learning and future planning\",\n          },\n          {\n            id: \"entry_level\",\n            label: \"Just starting out\",\n            description: \"First job, building financial foundation\",\n          },\n          {\n            id: \"stable_income\",\n            label: \"Stable income\",\n            description: \"Regular paycheck, ready to optimize finances\",\n          },\n          {\n            id: \"variable_income\",\n            label: \"Variable income\",\n            description: \"Freelance, commission, or irregular income\",\n          },\n          {\n            id: \"established\",\n            label: \"Established career\",\n            description: \"Good income, looking to maximize wealth building\",\n          },\n        ],\n      },\n      {\n        id: \"confidence\",\n        title: \"How confident do you feel about money topics?\",\n        subtitle: \"Rate your comfort level with these areas\",\n        type: \"rating\",\n        topics: [\n          { id: \"budgeting\", label: \"Creating and sticking to a budget\" },\n          { id: \"saving\", label: \"Building savings and emergency funds\" },\n          { id: \"investing\", label: \"Understanding investments and markets\" },\n          { id: \"debt\", label: \"Managing and paying off debt\" },\n          { id: \"retirement\", label: \"Planning for retirement\" },\n        ],\n      },\n    ],\n    [],\n  );\n\n  const handleAnswer = (stepId, answer) => {\n    setAnswers((prev) => ({\n      ...prev,\n      [stepId]: answer,\n    }));\n  };\n\n  const handleNext = () => {\n    if (currentStep < steps.length - 1) {\n      setCurrentStep(currentStep + 1);\n    } else {\n      handleComplete();\n    }\n  };\n\n  const handleBack = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const handleComplete = async () => {\n    if (!currentUser?.id) {\n      queueToast(\"Please sign in to complete the diagnostic.\", \"error\");\n      return;\n    }\n\n    setLoading(true);\n    setError(null);\n\n    try {\n      const payload = {\n        user_id: currentUser.id,\n        responses: answers,\n        completed_at: new Date().toISOString(),\n      };\n\n      const { error: insertError } = await supabase\n        .from(\"user_diagnostics\")\n        .insert(payload);\n\n      if (insertError) {\n        throw insertError;\n      }\n\n      queueToast(\"Diagnostic complete! We’ve saved your responses.\", \"success\");\n\n      await addAchievement(\n        \"diagnostic_complete\",\n        {\n          description: \"Completed the financial diagnostic assessment\",\n          responses: answers,\n        },\n        { xpReward: 120, allowDuplicates: false },\n      );\n\n      navigate(\"/dashboard\", {\n        state: {\n          diagnosticComplete: true,\n          answers,\n        },\n      });\n    } catch (submissionError) {\n      console.error(\"Error saving diagnostic:\", submissionError);\n      const message =\n        submissionError?.message ||\n        \"Unable to save diagnostic responses. Please try again.\";\n      setError(message);\n      queueToast(message, \"error\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const currentStepData = steps[currentStep];\n  const canProceed = answers[currentStepData.id] !== undefined;\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 flex items-center justify-center\">\n        <GlassCard className=\"p-8 text-center\">\n          <div className=\"animate-spin w-8 h-8 border-2 border-glassAccent border-t-transparent rounded-full mx-auto mb-4\"></div>\n          <p className=\"text-glassText\">Creating your personalized plan...</p>\n        </GlassCard>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 relative overflow-hidden\">\n      {/* Background Elements */}\n      <div className=\"absolute inset-0 overflow-hidden\">\n        <div className=\"absolute -top-40 -right-40 w-80 h-80 bg-glassAccent rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-glass-float\"></div>\n        <div\n          className=\"absolute -bottom-40 -left-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-glass-float\"\n          style={{ animationDelay: \"2s\" }}\n        ></div>\n      </div>\n\n      <div className=\"relative z-10 min-h-screen flex items-center justify-center px-4 sm:px-6 lg:px-8\">\n        <div className=\"max-w-2xl w-full\">\n          {/* Progress Indicator */}\n          <div className=\"mb-8\">\n            <div className=\"flex items-center justify-between mb-2\">\n              <span className=\"text-sm font-medium text-glassText\">\n                Step {currentStep + 1} of {steps.length}\n              </span>\n              <span className=\"text-sm text-glassTextSecondary\">\n                {Math.round(((currentStep + 1) / steps.length) * 100)}% Complete\n              </span>\n            </div>\n            <div className=\"w-full bg-glassBg rounded-full h-2\">\n              <div\n                className=\"bg-glassAccent h-2 rounded-full transition-all duration-300\"\n                style={{\n                  width: `${((currentStep + 1) / steps.length) * 100}%`,\n                }}\n              />\n            </div>\n          </div>\n\n          {/* Step Content */}\n          <GlassCard\n            className=\"p-8\"\n            variant=\"default\"\n            padding=\"large\"\n            shadow=\"xl\"\n          >\n            <div className=\"text-center mb-8\">\n              <h2 className=\"text-2xl md:text-3xl font-bold text-glassText mb-2\">\n                {currentStepData.title}\n              </h2>\n              <p className=\"text-glassTextSecondary\">\n                {currentStepData.subtitle}\n              </p>\n            </div>\n\n            {error && (\n              <div className=\"mb-4 p-4 rounded-lg border border-red-500/30 bg-red-500/10 text-red-200 text-sm\">\n                ⚠️ {error}\n              </div>\n            )}\n\n            {currentStepData.type === \"rating\" ? (\n              <div className=\"space-y-6\">\n                {currentStepData.topics.map((topic) => (\n                  <div key={topic.id} className=\"space-y-3\">\n                    <label className=\"block text-glassText font-medium\">\n                      {topic.label}\n                    </label>\n                    <div className=\"flex justify-between items-center\">\n                      <span className=\"text-sm text-glassTextSecondary\">\n                        Not confident\n                      </span>\n                      <div className=\"flex space-x-2\">\n                        {[1, 2, 3, 4, 5].map((rating) => (\n                          <button\n                            key={rating}\n                            onClick={() =>\n                              handleAnswer(currentStepData.id, {\n                                ...answers[currentStepData.id],\n                                [topic.id]: rating,\n                              })\n                            }\n                            className={`w-8 h-8 rounded-full border-2 transition-all ${\n                              answers[currentStepData.id]?.[topic.id] >= rating\n                                ? \"bg-glassAccent border-glassAccent text-white\"\n                                : \"border-glassBorder text-glassTextSecondary hover:border-glassAccent\"\n                            }`}\n                            aria-label={`Rate ${topic.label} as ${rating} out of 5`}\n                          >\n                            {rating}\n                          </button>\n                        ))}\n                      </div>\n                      <span className=\"text-sm text-glassTextSecondary\">\n                        Very confident\n                      </span>\n                    </div>\n                  </div>\n                ))}\n              </div>\n            ) : (\n              <div className=\"space-y-4\">\n                {currentStepData.options.map((option) => (\n                  <button\n                    key={option.id}\n                    onClick={() => handleAnswer(currentStepData.id, option.id)}\n                    className={`w-full p-4 rounded-xl border-2 text-left transition-all ${\n                      answers[currentStepData.id] === option.id\n                        ? \"border-glassAccent bg-glassAccent/10\"\n                        : \"border-glassBorder hover:border-glassAccent/50\"\n                    }`}\n                  >\n                    <div className=\"font-medium text-glassText mb-1\">\n                      {option.label}\n                    </div>\n                    <div className=\"text-sm text-glassTextSecondary\">\n                      {option.description}\n                    </div>\n                  </button>\n                ))}\n              </div>\n            )}\n\n            {/* Navigation */}\n            <div className=\"flex justify-between mt-8\">\n              <GlassButton\n                onClick={handleBack}\n                variant=\"outline\"\n                disabled={currentStep === 0}\n              >\n                Back\n              </GlassButton>\n\n              <GlassButton\n                onClick={handleNext}\n                variant=\"primary\"\n                disabled={!canProceed}\n              >\n                {currentStep === steps.length - 1 ? \"Get My Plan\" : \"Next\"}\n              </GlassButton>\n            </div>\n          </GlassCard>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default DiagnosticFlow;\n","import React from 'react';\nimport DiagnosticFlow from '../components/diagnostic/DiagnosticFlow';\n\nconst DiagnosticPage = () => {\n  return <DiagnosticFlow />;\n};\n\nexport default DiagnosticPage;\n"],"names":["DiagnosticFlow","currentUser","useAuth","queueToast","useApp","addAchievement","useAchievements","currentStep","setCurrentStep","useState","answers","setAnswers","loading","setLoading","error","setError","navigate","useNavigate","steps","useMemo","id","title","subtitle","options","label","description","type","topics","handleAnswer","stepId","answer","prev","_objectSpread","handleComplete","async","payload","user_id","responses","completed_at","Date","toISOString","insertError","supabase","from","insert","xpReward","allowDuplicates","state","diagnosticComplete","submissionError","console","message","currentStepData","canProceed","undefined","_jsx","className","children","_jsxs","GlassCard","style","animationDelay","length","Math","round","width","concat","variant","padding","shadow","map","topic","rating","_answers$currentStepD","onClick","option","GlassButton","handleBack","disabled","handleNext","DiagnosticPage"],"sourceRoot":""}