{"version":3,"file":"static/js/191.a920b297.chunk.js","mappings":"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","sources":["pages/ProfilePage.jsx"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { motion } from 'framer-motion';\nimport GlassCard from '../components/ui/GlassCard';\nimport GlassButton from '../components/ui/GlassButton';\nimport { useAuth } from '../contexts/AuthContext';\nimport { useApp } from '../contexts/AppContext';\nimport { uploadAvatar } from '../services/supabase/storage';\n\nconst fadeIn = {\n  hidden: { opacity: 0, y: 16 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: 'easeOut' } },\n};\n\nconst ProfilePage = () => {\n  const { currentUser, updateProfile, loading } = useAuth();\n  const { queueToast } = useApp();\n\n  const profile = currentUser?.profile || {};\n\n  const normalizedStats = useMemo(() => ({\n    xp: profile.xp ?? 0,\n    netWorth: profile.net_worth ?? 0,\n    achievements: profile.achievements_count ?? 0,\n    lastUpdated: profile.updated_at ? new Date(profile.updated_at) : null,\n  }), [profile]);\n\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    bio: '',\n    profileImagePath: '',\n  });\n  const [saving, setSaving] = useState(false);\n  const [selectedAvatarFile, setSelectedAvatarFile] = useState(null);\n  const [avatarPreview, setAvatarPreview] = useState('');\n  const fileInputRef = useRef(null);\n\n  useEffect(() => {\n    setFormData({\n      name: profile.full_name || '',\n      email: currentUser?.email || '',\n      bio: profile.bio || '',\n      profileImagePath: profile.profile_image || profile.avatar_url || '',\n    });\n    setAvatarPreview(profile.profile_image_url || '');\n    setSelectedAvatarFile(null);\n  }, [currentUser?.email, profile]);\n\n  const handleChange = (event) => {\n    const { name, value } = event.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleAvatarFileChange = (event) => {\n    const file = event.target.files?.[0];\n    if (!file) return;\n\n    if (!file.type.startsWith('image/')) {\n      queueToast('Please select a valid image file.', 'error');\n      return;\n    }\n\n    const maxSize = 5 * 1024 * 1024;\n    if (file.size > maxSize) {\n      queueToast('Avatar must be smaller than 5MB.', 'error');\n      return;\n    }\n\n    setSelectedAvatarFile(file);\n    const reader = new FileReader();\n    reader.onload = (e) => {\n      setAvatarPreview(e.target?.result || '');\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    setSaving(true);\n    try {\n      let avatarPath = formData.profileImagePath;\n\n      if (selectedAvatarFile) {\n        const { path, url } = await uploadAvatar(currentUser.id, selectedAvatarFile);\n        avatarPath = path;\n        setAvatarPreview(url);\n        queueToast('Profile image uploaded.', 'success');\n      }\n\n      const { success, error } = await updateProfile({\n        full_name: formData.name,\n        email: formData.email,\n        bio: formData.bio,\n        profile_image: avatarPath,\n        avatar_url: avatarPath,\n      });\n\n      if (!success) {\n        throw new Error(error || 'Unable to update profile.');\n      }\n\n      setFormData((prev) => ({\n        ...prev,\n        profileImagePath: avatarPath,\n      }));\n      setSelectedAvatarFile(null);\n\n      queueToast('Profile updated successfully.', 'success');\n    } catch (submitError) {\n      queueToast(submitError.message, 'error');\n    } finally {\n      setSaving(false);\n    }\n  };\n\n  return (\n    <div className=\"relative min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950 text-white overflow-hidden\">\n      <motion.div\n        className=\"absolute -top-24 -left-28 w-80 h-80 bg-gradient-to-r from-sky-500/35 to-purple-500/25 rounded-full blur-3xl\"\n        animate={{ y: [0, 20, 0], x: [0, 12, 0] }}\n        transition={{ repeat: Infinity, duration: 18, ease: 'easeInOut' }}\n      />\n      <motion.div\n        className=\"absolute -bottom-40 -right-32 w-[26rem] h-[26rem] bg-gradient-to-r from-emerald-400/25 to-teal-400/15 rounded-full blur-3xl\"\n        animate={{ y: [0, -18, 0], x: [0, -16, 0] }}\n        transition={{ repeat: Infinity, duration: 22, ease: 'easeInOut', delay: 6 }}\n      />\n\n      <main className=\"relative z-10 w-full max-w-6xl mx-auto px-3 lg:px-8 py-6 lg:py-10\">\n        <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\" className=\"mb-6\">\n          <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n            <div>\n              <p className=\"text-xs uppercase tracking-[0.35em] text-white/60 mb-2\">Account</p>\n              <h1 className=\"text-3xl md:text-4xl font-bold tracking-tight bg-clip-text text-transparent bg-gradient-to-r from-blue-200 via-purple-200 to-emerald-200\">\n                ðŸ‘¤ Profile & Preferences\n              </h1>\n              <p className=\"text-sm md:text-base text-white/65 mt-2\">\n                Manage your InvestX Labs identity, update contact details, and keep your account information current.\n              </p>\n            </div>\n          </div>\n        </motion.div>\n\n        <motion.div\n          variants={fadeIn}\n          initial=\"hidden\"\n          animate=\"visible\"\n          className=\"grid grid-cols-1 lg:grid-cols-3 gap-4 lg:gap-6\"\n        >\n          <div className=\"lg:col-span-2 space-y-4\">\n            <GlassCard variant=\"hero\" padding=\"large\" shadow=\"xl\">\n              <div className=\"flex items-center gap-4 mb-6\">\n                <div className=\"h-16 w-16 rounded-2xl bg-white/10 flex items-center justify-center text-2xl\">\n                  {formData.name\n                    ? formData.name.charAt(0).toUpperCase()\n                    : currentUser?.email?.charAt(0).toUpperCase() || 'U'}\n                </div>\n                <div>\n                  <h2 className=\"text-2xl font-semibold text-white\">{formData.name || 'Investor'}</h2>\n                  <p className=\"text-sm text-white/60\">{formData.email || 'Email not set'}</p>\n                </div>\n              </div>\n\n              <form onSubmit={handleSubmit} className=\"space-y-5\">\n                <div>\n                  <label htmlFor=\"name\" className=\"text-sm font-medium text-white/70 mb-1 block\">\n                    Full Name\n                  </label>\n                  <input\n                    id=\"name\"\n                    name=\"name\"\n                    type=\"text\"\n                    value={formData.name}\n                    onChange={handleChange}\n                    className=\"w-full rounded-xl border border-white/10 bg-white/10 px-4 py-3 text-white placeholder-white/40 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30\"\n                    placeholder=\"Your full name\"\n                  />\n                </div>\n\n                <div>\n                  <label htmlFor=\"email\" className=\"text-sm font-medium text-white/70 mb-1 block\">\n                    Email Address\n                  </label>\n                  <input\n                    id=\"email\"\n                    name=\"email\"\n                    type=\"email\"\n                    value={formData.email}\n                    onChange={handleChange}\n                    className=\"w-full rounded-xl border border-white/10 bg-white/10 px-4 py-3 text-white placeholder-white/40 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30\"\n                    placeholder=\"name@example.com\"\n                  />\n                </div>\n\n                <div>\n                  <label htmlFor=\"bio\" className=\"text-sm font-medium text-white/70 mb-1 block\">\n                    Bio\n                  </label>\n                  <textarea\n                    id=\"bio\"\n                    name=\"bio\"\n                    value={formData.bio}\n                    onChange={handleChange}\n                    rows={4}\n                    className=\"w-full rounded-xl border border-white/10 bg-white/10 px-4 py-3 text-white placeholder-white/40 focus:border-sky-400 focus:outline-none focus:ring-2 focus:ring-sky-500/30\"\n                    placeholder=\"Share a short mission statement or investing goal.\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"text-sm font-medium text-white/70 mb-1 block\">\n                    Profile Avatar\n                  </label>\n                  <div className=\"flex items-center gap-4\">\n                    <div className=\"relative\">\n                      <div className=\"h-20 w-20 rounded-2xl border border-white/10 bg-white/10 overflow-hidden flex items-center justify-center text-xl text-white/70\">\n                        {avatarPreview ? (\n                          <img\n                            src={avatarPreview}\n                            alt=\"Profile preview\"\n                            className=\"h-full w-full object-cover\"\n                          />\n                        ) : (\n                          <span>\n                            {formData.name\n                              ? formData.name.charAt(0).toUpperCase()\n                              : currentUser?.email?.charAt(0).toUpperCase() || 'U'}\n                          </span>\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"space-y-2\">\n                      <input\n                        ref={fileInputRef}\n                        type=\"file\"\n                        accept=\"image/png,image/jpeg,image/gif,image/webp\"\n                        className=\"hidden\"\n                        onChange={handleAvatarFileChange}\n                      />\n                      <GlassButton\n                        type=\"button\"\n                        variant=\"glass\"\n                        onClick={() => fileInputRef.current?.click()}\n                        disabled={saving}\n                      >\n                        {selectedAvatarFile ? 'Replace Avatar' : 'Upload Avatar'}\n                      </GlassButton>\n                      {selectedAvatarFile && (\n                        <p className=\"text-xs text-white/50\">\n                          Selected: {selectedAvatarFile.name}\n                        </p>\n                      )}\n                      {!selectedAvatarFile && avatarPreview && (\n                        <p className=\"text-xs text-white/50\">\n                          Current avatar in use\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  <p className=\"mt-2 text-xs text-white/40\">\n                    PNG, JPG, GIF, or WEBP up to 5MB. Your image is stored securely in Supabase Storage.\n                  </p>\n                </div>\n\n                <div className=\"flex items-center justify-end gap-3 pt-2\">\n                  <GlassButton\n                    type=\"button\"\n                    variant=\"glass\"\n                    onClick={() =>\n                      setFormData({\n                        name: profile.full_name || '',\n                        email: currentUser?.email || '',\n                        bio: profile.bio || '',\n                        profileImagePath: profile.profile_image || profile.avatar_url || '',\n                      })\n                    }\n                    disabled={saving}\n                  >\n                    Reset\n                  </GlassButton>\n                  {avatarPreview && (\n                    <GlassButton\n                      type=\"button\"\n                      variant=\"glass\"\n                      onClick={() => {\n                        setSelectedAvatarFile(null);\n                        setAvatarPreview(profile.profile_image_url || '');\n                        fileInputRef.current && (fileInputRef.current.value = '');\n                      }}\n                      disabled={saving}\n                    >\n                      Revert Avatar\n                    </GlassButton>\n                  )}\n                  <GlassButton type=\"submit\" variant=\"primary\" disabled={saving || loading}>\n                    {saving ? 'Savingâ€¦' : 'Save Changes'}\n                  </GlassButton>\n                </div>\n              </form>\n            </GlassCard>\n          </div>\n\n          <div className=\"space-y-4\">\n            <GlassCard variant=\"floating\" padding=\"large\">\n              <h3 className=\"text-xl font-semibold text-white mb-4\">Profile Stats</h3>\n              <div className=\"space-y-3\">\n                <div className=\"p-4 rounded-xl border border-white/10 bg-white/5\">\n                  <p className=\"text-xs text-white/50 uppercase tracking-[0.3em]\">Total XP</p>\n                  <p className=\"mt-2 text-2xl font-semibold text-white\">\n                    {normalizedStats.xp.toLocaleString()}\n                  </p>\n                </div>\n                <div className=\"p-4 rounded-xl border border-white/10 bg-white/5\">\n                  <p className=\"text-xs text-white/50 uppercase tracking-[0.3em]\">Net Worth</p>\n                  <p className=\"mt-2 text-xl font-semibold text-white\">\n                    {normalizedStats.netWorth.toLocaleString(undefined, {\n                      style: 'currency',\n                      currency: 'USD',\n                    })}\n                  </p>\n                </div>\n                <div className=\"p-4 rounded-xl border border-white/10 bg-white/5\">\n                  <p className=\"text-xs text-white/50 uppercase tracking-[0.3em]\">Achievements</p>\n                  <p className=\"mt-2 text-xl font-semibold text-white\">\n                    {normalizedStats.achievements}\n                  </p>\n                </div>\n                {normalizedStats.lastUpdated ? (\n                  <p className=\"text-xs text-white/40\">\n                    Updated {normalizedStats.lastUpdated.toLocaleString()}\n                  </p>\n                ) : null}\n              </div>\n            </GlassCard>\n\n            <GlassCard variant=\"default\" padding=\"large\">\n              <h3 className=\"text-xl font-semibold text-white mb-3\">Security Tips</h3>\n              <ul className=\"space-y-2 text-sm text-white/70\">\n                <li>â€¢ Use a unique password for your InvestX Labs account.</li>\n                <li>â€¢ Keep your email up to date for important notifications.</li>\n                <li>â€¢ Enable multi-factor authentication from your account settings once available.</li>\n              </ul>\n            </GlassCard>\n          </div>\n        </motion.div>\n      </main>\n    </div>\n  );\n};\n\nexport default ProfilePage;\n"],"names":["fadeIn","hidden","opacity","y","visible","transition","duration","ease","ProfilePage","_currentUser$email","_currentUser$email2","currentUser","updateProfile","loading","useAuth","queueToast","useApp","profile","normalizedStats","useMemo","_profile$xp","_profile$net_worth","_profile$achievements","xp","netWorth","net_worth","achievements","achievements_count","lastUpdated","updated_at","Date","formData","setFormData","useState","name","email","bio","profileImagePath","saving","setSaving","selectedAvatarFile","setSelectedAvatarFile","avatarPreview","setAvatarPreview","fileInputRef","useRef","useEffect","full_name","profile_image","avatar_url","profile_image_url","handleChange","event","value","target","prev","_objectSpread","_jsxs","className","children","_jsx","motion","div","animate","x","repeat","Infinity","delay","variants","initial","GlassCard","variant","padding","shadow","charAt","toUpperCase","onSubmit","async","preventDefault","avatarPath","path","url","uploadAvatar","id","success","error","Error","submitError","message","htmlFor","type","onChange","placeholder","rows","src","alt","ref","accept","_event$target$files","file","files","startsWith","size","reader","FileReader","onload","e","_e$target","result","readAsDataURL","GlassButton","onClick","_fileInputRef$current","current","click","disabled","toLocaleString","undefined","style","currency"],"sourceRoot":""}