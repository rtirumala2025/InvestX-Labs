{"version":3,"file":"static/js/286.b59c25b3.chunk.js","mappings":"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","sources":["pages/LessonView.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport { motion } from 'framer-motion';\nimport GlassCard from '../components/ui/GlassCard';\nimport GlassButton from '../components/ui/GlassButton';\nimport LoadingSpinner from '../components/common/LoadingSpinner';\nimport { useEducation } from '../contexts/EducationContext';\nimport { useApp } from '../contexts/AppContext';\n\nconst fadeIn = {\n  hidden: { opacity: 0, y: 16 },\n  visible: { opacity: 1, y: 0, transition: { duration: 0.6, ease: 'easeOut' } },\n};\n\nconst LessonView = () => {\n  const { lessonId } = useParams();\n  const { courses, modules, lessons, quizzes, progress, markLessonComplete, loading, offline } = useEducation();\n  const contentRef = useRef(null);\n  const { queueToast } = useApp();\n\n  const [hasMarked, setHasMarked] = useState(false);\n  const [quizState, setQuizState] = useState({});\n  const [quizSubmitted, setQuizSubmitted] = useState(false);\n\n  const flattenedLessons = useMemo(() => Object.values(lessons).flat(), [lessons]);\n  const lesson = useMemo(\n    () => flattenedLessons.find((item) => String(item.id) === String(lessonId)),\n    [flattenedLessons, lessonId]\n  );\n\n  const moduleRecord = useMemo(() => {\n    if (!lesson) return null;\n    const moduleEntries = Object.values(modules).flat();\n    return moduleEntries.find((module) => String(module.id) === String(lesson.module_id)) || null;\n  }, [lesson, modules]);\n\n  const courseRecord = useMemo(() => {\n    if (!moduleRecord) return null;\n    return courses.find((course) => String(course.id) === String(moduleRecord.course_id)) || null;\n  }, [courses, moduleRecord]);\n\n  useEffect(() => {\n    if (lesson) {\n      setHasMarked(progress[lesson.id] === 'completed');\n    } else {\n      setHasMarked(false);\n    }\n  }, [lesson, progress]);\n\n  const handleCompletion = useCallback(async () => {\n    if (!lesson || hasMarked) return;\n    const { success } = await markLessonComplete(lesson.id, 'completed');\n    if (success) {\n      setHasMarked(true);\n    }\n  }, [lesson, hasMarked, markLessonComplete]);\n\n  useEffect(() => {\n    const container = contentRef.current;\n    if (!container) return;\n\n    const handleScroll = () => {\n      if (!container || hasMarked) return;\n      const { scrollTop, scrollHeight, clientHeight } = container;\n      if (scrollTop + clientHeight >= scrollHeight - 32) {\n        handleCompletion();\n      }\n    };\n\n    container.addEventListener('scroll', handleScroll);\n    return () => container.removeEventListener('scroll', handleScroll);\n  }, [handleCompletion, hasMarked]);\n\n  const quizData = useMemo(() => {\n    if (!lesson) return null;\n    if (quizzes?.[lesson.id]) return quizzes[lesson.id];\n    if (lesson.quiz) {\n      if (typeof lesson.quiz === 'string') {\n        try {\n          return JSON.parse(lesson.quiz);\n        } catch (err) {\n          console.warn('üìò [LessonView] Unable to parse quiz JSON:', err);\n          return null;\n        }\n      }\n      return lesson.quiz;\n    }\n    return null;\n  }, [lesson, quizzes]);\n\n  const quizQuestions = useMemo(() => {\n    if (!quizData) return null;\n    if (Array.isArray(quizData)) return quizData;\n    if (Array.isArray(quizData.questions)) return quizData.questions;\n    return null;\n  }, [quizData]);\n\n  const handleQuizOptionChange = useCallback((questionKey, value) => {\n    setQuizState((prev) => ({ ...prev, [questionKey]: value }));\n  }, []);\n\n  const handleQuizSubmit = useCallback(async () => {\n    if (!lesson || !quizQuestions?.length) return;\n\n    const unanswered = quizQuestions.some((question, index) => {\n      const key = question.id ?? index;\n      return quizState[key] === undefined;\n    });\n\n    if (unanswered) {\n      queueToast('Please answer every quiz question before submitting.', 'warning');\n      return;\n    }\n\n    const { success } = await markLessonComplete(lesson.id, 'completed');\n    if (success) {\n      setHasMarked(true);\n      setQuizSubmitted(true);\n    }\n  }, [lesson, quizQuestions, quizState, markLessonComplete]);\n\n  const lessonContentBlocks = useMemo(() => {\n    if (!lesson?.content) return [];\n\n    if (typeof lesson.content === 'string') {\n      return lesson.content.split(/\\n{2,}/).filter(Boolean);\n    }\n\n    if (Array.isArray(lesson.content)) {\n      return lesson.content;\n    }\n\n    if (typeof lesson.content === 'object') {\n      return [JSON.stringify(lesson.content, null, 2)];\n    }\n\n    return [];\n  }, [lesson]);\n\n  const completedStatus = progress[lesson?.id] === 'completed';\n\n  return (\n    <div className=\"relative min-h-screen bg-gradient-to-b from-gray-950 via-gray-900 to-gray-950 text-white overflow-hidden\">\n      <motion.div\n        className=\"absolute -top-24 -left-24 w-80 h-80 bg-gradient-to-r from-blue-500/30 to-purple-500/15 rounded-full blur-3xl\"\n        animate={{ y: [0, 18, 0], x: [0, 12, 0] }}\n        transition={{ repeat: Infinity, duration: 16, ease: 'easeInOut' }}\n      />\n      <motion.div\n        className=\"absolute -bottom-32 -right-24 w-[22rem] h-[22rem] bg-gradient-to-r from-green-400/20 to-emerald-400/15 rounded-full blur-3xl\"\n        animate={{ y: [0, -20, 0], x: [0, -12, 0] }}\n        transition={{ repeat: Infinity, duration: 18, ease: 'easeInOut' }}\n      />\n\n      <main className=\"relative z-10 w-full max-w-5xl mx-auto px-3 lg:px-4 xl:px-6 py-4 lg:py-6\">\n        {loading && !lesson ? (\n          <div className=\"flex justify-center py-24\">\n            <LoadingSpinner size=\"large\" />\n          </div>\n        ) : null}\n\n        {!loading && !lesson ? (\n          <GlassCard variant=\"default\" padding=\"large\" className=\"text-center\">\n            <h2 className=\"text-2xl font-semibold text-white mb-2\">Lesson not found</h2>\n            <p className=\"text-sm text-white/60 mb-6\">\n              We couldn‚Äôt find the lesson you were looking for. It may have been moved or archived.\n            </p>\n            <GlassButton as={Link} to=\"/education\" variant=\"primary\">\n              ‚Üê Back to Education\n            </GlassButton>\n          </GlassCard>\n        ) : null}\n\n        {lesson && (\n          <motion.div variants={fadeIn} initial=\"hidden\" animate=\"visible\" className=\"space-y-6\">\n            <div className=\"flex flex-col md:flex-row md:items-center md:justify-between gap-4\">\n              <GlassButton as={Link} to=\"/education\" variant=\"glass\" size=\"small\">\n                ‚Üê Back to Education\n              </GlassButton>\n              {completedStatus && (\n                <span className=\"px-3 py-1 bg-green-500/20 text-green-200 text-xs rounded-full\">Completed</span>\n              )}\n            </div>\n\n            <div>\n              <h1 className=\"text-3xl font-bold text-white mb-2\">{lesson.title}</h1>\n              <div className=\"text-sm text-white/60 space-x-2\">\n                {courseRecord ? <span>{courseRecord.title}</span> : null}\n                {moduleRecord ? <span>‚Ä¢ {moduleRecord.title}</span> : null}\n              </div>\n            </div>\n\n            <GlassCard variant=\"floating\" padding=\"large\" className=\"shadow-xl\">\n              <div\n                ref={contentRef}\n                className=\"max-h-[60vh] overflow-y-auto pr-2 space-y-4 text-white/80 leading-relaxed tracking-wide\"\n              >\n                {lessonContentBlocks.length ? (\n                  lessonContentBlocks.map((block, index) => (\n                    <p key={index} className=\"whitespace-pre-line\">\n                      {block}\n                    </p>\n                  ))\n                ) : (\n                  <p className=\"text-white/60 text-sm\">\n                    Lesson content will be available soon. Check back later for new material.\n                  </p>\n                )}\n              </div>\n              <div className=\"mt-6 flex flex-wrap gap-3\">\n                <GlassButton variant=\"primary\" onClick={handleCompletion} disabled={hasMarked}>\n                  {hasMarked ? 'Lesson Completed' : 'Mark Lesson Complete'}\n                </GlassButton>\n                <GlassButton as={Link} to=\"/education\" variant=\"glass\">\n                  Browse Other Lessons\n                </GlassButton>\n              </div>\n            </GlassCard>\n\n            {quizQuestions && quizQuestions.length > 0 && (\n              <GlassCard variant=\"default\" padding=\"large\" shadow=\"large\" className=\"space-y-5\">\n                <div>\n                  <h2 className=\"text-xl font-semibold text-white mb-2\">Quick Quiz</h2>\n                  <p className=\"text-sm text-white/60\">Answer the questions below to check your understanding.</p>\n                </div>\n\n                <div className=\"space-y-4\">\n                  {quizQuestions.map((question, index) => {\n                    const key = question.id ?? index;\n                    const options = question.options || [];\n                    return (\n                      <div key={key} className=\"p-4 bg-white/5 border border-white/10 rounded-lg\">\n                        <p className=\"text-sm font-medium text-white mb-3\">\n                          {index + 1}. {question.question || 'Answer the following:'}\n                        </p>\n                        <div className=\"space-y-2\">\n                          {options.map((option, optionIndex) => (\n                            <label key={optionIndex} className=\"flex items-center space-x-2 text-sm text-white/80\">\n                              <input\n                                type=\"radio\"\n                                name={`quiz-${key}`}\n                                value={option.value ?? option}\n                                checked={quizState[key] === (option.value ?? option)}\n                                onChange={() => handleQuizOptionChange(key, option.value ?? option)}\n                                className=\"text-blue-500 focus:ring-blue-400\"\n                              />\n                              <span>{option.label ?? option}</span>\n                            </label>\n                          ))}\n                        </div>\n                      </div>\n                    );\n                  })}\n                </div>\n\n                <div className=\"flex flex-wrap gap-3\">\n                  <GlassButton\n                    variant=\"primary\"\n                    onClick={handleQuizSubmit}\n                    disabled={hasMarked || quizSubmitted}\n                  >\n                    {hasMarked ? 'Quiz Completed' : 'Submit Quiz'}\n                  </GlassButton>\n                  {quizSubmitted && !hasMarked && (\n                    <span className=\"text-xs text-white/60\">\n                      Quiz submitted. Once graded, your progress will update automatically.\n                    </span>\n                  )}\n                </div>\n              </GlassCard>\n            )}\n          </motion.div>\n        )}\n      </main>\n    </div>\n  );\n};\n\nexport default LessonView;\n"],"names":["fadeIn","hidden","opacity","y","visible","transition","duration","ease","LessonView","lessonId","useParams","courses","modules","lessons","quizzes","progress","markLessonComplete","loading","offline","useEducation","contentRef","useRef","queueToast","useApp","hasMarked","setHasMarked","useState","quizState","setQuizState","quizSubmitted","setQuizSubmitted","flattenedLessons","useMemo","Object","values","flat","lesson","find","item","String","id","moduleRecord","module","module_id","courseRecord","course","course_id","useEffect","handleCompletion","useCallback","async","success","container","current","handleScroll","scrollTop","scrollHeight","clientHeight","addEventListener","removeEventListener","quizData","quiz","JSON","parse","err","console","warn","quizQuestions","Array","isArray","questions","handleQuizOptionChange","questionKey","value","prev","_objectSpread","handleQuizSubmit","length","some","question","index","_question$id","key","undefined","lessonContentBlocks","content","split","filter","Boolean","stringify","completedStatus","_jsxs","className","children","_jsx","motion","div","animate","x","repeat","Infinity","LoadingSpinner","size","GlassCard","variant","padding","GlassButton","as","Link","to","variants","initial","title","ref","map","block","onClick","disabled","shadow","_question$id2","options","option","optionIndex","_option$value","_option$value2","_option$label","type","name","concat","checked","onChange","_option$value3","label"],"sourceRoot":""}